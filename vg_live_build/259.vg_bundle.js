"use strict";(self.webpackChunkcustom_vf_nextjs=self.webpackChunkcustom_vf_nextjs||[]).push([[259],{43351:(e,t,n)=>{n.d(t,{Z:()=>T});var a=n(87462),r=n(92167),l=n(67294),o=n(15607),i=l.createElement,s=function(){return i("svg",{"aria-hidden":"true",fill:"none",height:"80%",role:"presentation",viewBox:"0 0 24 24",width:"80%"},i("path",{d:"M12 2C9.38 2 7.25 4.13 7.25 6.75C7.25 9.32 9.26 11.4 11.88 11.49C11.96 11.48 12.04 11.48 12.1 11.49C12.12 11.49 12.13 11.49 12.15 11.49C12.16 11.49 12.16 11.49 12.17 11.49C14.73 11.4 16.74 9.32 16.75 6.75C16.75 4.13 14.62 2 12 2Z",fill:"currentColor"}),i("path",{d:"M17.0809 14.1489C14.2909 12.2889 9.74094 12.2889 6.93094 14.1489C5.66094 14.9989 4.96094 16.1489 4.96094 17.3789C4.96094 18.6089 5.66094 19.7489 6.92094 20.5889C8.32094 21.5289 10.1609 21.9989 12.0009 21.9989C13.8409 21.9989 15.6809 21.5289 17.0809 20.5889C18.3409 19.7389 19.0409 18.5989 19.0409 17.3589C19.0309 16.1289 18.3409 14.9889 17.0809 14.1489Z",fill:"currentColor"}))},u=n(45987),v=n(42982),c=n(87487),g=n(33899),d=n(58473),m=(0,c.tv)({slots:{base:[" vg-flex "," vg-relative "," vg-justify-center "," vg-items-center "," vg-box-border "," vg-overflow-hidden "," vg-align-middle "," vg-text-white "," vg-z-0 "].concat((0,v.Z)(g.Dh)),img:[" vg-flex "," vg-object-cover "," vg-w-full "," vg-h-full "," vg-transition-opacity "," vg-!duration-500 "," vg-opacity-0 "," vg-data-[loaded=true]:opacity-100 "],fallback:[].concat((0,v.Z)(g.z6),[" vg-flex "," vg-items-center "," vg-justify-center "]),name:[].concat((0,v.Z)(g.z6),[" vg-font-normal "," vg-text-center "," vg-text-inherit "]),icon:[].concat((0,v.Z)(g.z6),[" vg-flex "," vg-items-center "," vg-justify-center "," vg-text-inherit "," vg-w-full "," vg-h-full "])},variants:{size:{sm:{base:" vg-w-8 vg-h-8 vg-text-tiny "},md:{base:" vg-w-10 vg-h-10 vg-text-tiny "},lg:{base:" vg-w-14 vg-h-14 vg-text-small "}},color:{default:{base:d.J.solid.default},primary:{base:d.J.solid.primary},secondary:{base:d.J.solid.secondary},success:{base:d.J.solid.success},warning:{base:d.J.solid.warning},danger:{base:d.J.solid.danger}},radius:{none:{base:" vg-rounded-none "},sm:{base:" vg-rounded-small "},md:{base:" vg-rounded-medium "},lg:{base:" vg-rounded-large "},full:{base:" vg-rounded-full "}},isBordered:{true:{base:" vg-ring-2 vg-ring-offset-2 vg-ring-offset-background vg-dark:ring-offset-background-dark "}},isDisabled:{true:{base:" vg-opacity-disabled "}},isInGroup:{true:{base:[" vg--ms-2 vg-data-[hover=true]:-translate-x-3 vg-transition-transform "," vg-data-[focus-visible=true]:-translate-x-3 "]}},isInGridGroup:{true:{base:" vg-m-0 vg-data-[hover=true]:translate-x-0 "}}},defaultVariants:{size:"md",color:"default",radius:"full"},compoundVariants:[{color:"default",isBordered:!0,class:{base:" vg-ring-default "}},{color:"primary",isBordered:!0,class:{base:" vg-ring-primary "}},{color:"secondary",isBordered:!0,class:{base:" vg-ring-secondary "}},{color:"success",isBordered:!0,class:{base:" vg-ring-success "}},{color:"warning",isBordered:!0,class:{base:" vg-ring-warning "}},{color:"danger",isBordered:!0,class:{base:" vg-ring-danger "}}]}),f=((0,c.tv)({base:" vg-flex vg-items-center vg-justify-center vg-h-auto vg-w-max-content ",variants:{isGrid:{true:" vg-inline-grid vg-grid-cols-4 vg-gap-3 "}}}),n(61476)),p=n(33295),b=n(54720),h=n(49869),y=n(50262),w=n(2459),x=n(29261),O=n(18419),P=n(70885),N=(0,n(46347).k)({name:"AvatarGroupContext",strict:!1}),k=(0,P.Z)(N,2),j=(k[0],k[1]),D=["as","ref","src","name","icon","classNames","fallback","alt","imgRef","color","radius","size","isBordered","isDisabled","isFocusable","getInitials","ignoreFallback","showFallback","ImgComponent","imgProps","className","onError"];function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=l.createElement;function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=(0,o.Gp)((function(e,t){var n=function(){var e,t,n,a,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=j(),s=!!i,v=o.as,c=o.ref,g=o.src,d=o.name,P=o.icon,N=o.classNames,k=o.fallback,S=o.alt,I=void 0===S?d||"avatar":S,Z=o.imgRef,E=o.color,_=void 0===E?null!==(e=null==i?void 0:i.color)&&void 0!==e?e:"default":E,T=o.radius,R=void 0===T?null!==(t=null==i?void 0:i.radius)&&void 0!==t?t:"full":T,M=o.size,V=void 0===M?null!==(n=null==i?void 0:i.size)&&void 0!==n?n:"md":M,B=o.isBordered,F=void 0===B?null!==(a=null==i?void 0:i.isBordered)&&void 0!==a&&a:B,L=o.isDisabled,z=void 0===L?null!==(r=null==i?void 0:i.isDisabled)&&void 0!==r&&r:L,A=o.isFocusable,U=void 0!==A&&A,G=o.getInitials,W=void 0===G?b.e:G,H=o.ignoreFallback,q=void 0!==H&&H,K=o.showFallback,J=void 0!==K&&K,X=o.ImgComponent,Q=void 0===X?"img":X,$=o.imgProps,Y=o.className,ee=o.onError,te=(0,u.Z)(o,D),ne=v||"span",ae=(0,p.gy)(c),re=(0,p.gy)(Z),le=(0,w.F)(),oe=le.isFocusVisible,ie=le.isFocused,se=le.focusProps,ue=(0,O.X)({isDisabled:z}),ve=ue.isHovered,ce=ue.hoverProps,ge="loaded"===(0,x.d)({src:g,onError:ee,ignoreFallback:q}),de=(!g||!ge)&&J,me=(0,l.useMemo)((function(){var e;return m({color:_,radius:R,size:V,isBordered:F,isDisabled:z,isInGroup:s,isInGridGroup:null!==(e=null==i?void 0:i.isGrid)&&void 0!==e&&e})}),[_,R,V,F,z,s,null==i?void 0:i.isGrid]),fe=(0,h.W)(null==N?void 0:N.base,Y),pe=(0,l.useMemo)((function(){return U||"button"===v}),[U,v]),be=(0,l.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C({ref:ae,tabIndex:pe?0:-1,"data-hover":(0,y.PB)(ve),"data-focus":(0,y.PB)(ie),"data-focus-visible":(0,y.PB)(oe),className:me.base({class:(0,h.W)(fe,null==e?void 0:e.className)})},(0,f.d)(te,ce,pe?se:{}))}),[pe,me,fe,se,te]),he=(0,l.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C({ref:re,src:g,"data-loaded":(0,y.PB)(ge),className:me.img({class:null==N?void 0:N.img})},(0,f.d)($,e))}),[me,ge,$,g,re]);return{Component:ne,ImgComponent:Q,src:g,alt:I,icon:P,name:d,imgRef:re,slots:me,classNames:N,fallback:k,isImgLoaded:ge,showFallback:de,ignoreFallback:q,getInitials:W,getAvatarProps:be,getImageProps:he}}(E(E({},e),{},{ref:t})),r=n.Component,o=n.ImgComponent,i=n.src,v=n.icon,c=void 0===v?I(s,null):v,g=n.alt,d=n.classNames,P=n.slots,N=n.name,k=n.showFallback,S=n.fallback,Z=n.getInitials,_=n.getAvatarProps,T=n.getImageProps,R=(0,l.useMemo)((function(){return!k&&i?null:S?I("div",{"aria-label":g,className:P.fallback({class:null==d?void 0:d.fallback}),role:"img"},S):N?I("span",{"aria-label":g,className:P.name({class:null==d?void 0:d.name}),role:"img"},Z(N)):I("span",{"aria-label":g,className:P.icon({class:null==d?void 0:d.icon}),role:"img"},c)}),[k,i,S,N,d]);return I(r,_(),i&&I(o,(0,a.Z)({},T(),{alt:g})),R)}));_.displayName="NextUI.Avatar";const T=_},94813:(e,t,n)=>{n.d(t,{Z:()=>U});var a=n(87462),r=n(92167),l=n(67294),o=n(45678),i=n(15607),s=n(75957),u=n(73699),v=n(45987),c=n(21657),g=n(33295),d=n(18419),m=n(68552),f=n(2459),p=n(61476),b=n(50262),h=n(99696),y=["ref","as","state","index","name","trackRef","className","tooltipProps","isVertical","showTooltip","formatOptions","renderThumb"];function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=l.createElement;function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=(0,i.Gp)((function(e,t){var n=function(e){var t=e.ref,n=e.as,a=e.state,r=e.index,o=e.name,i=e.trackRef,s=e.className,u=e.tooltipProps,w=e.isVertical,O=e.showTooltip,P=e.formatOptions,N=e.renderThumb,k=(0,v.Z)(e,y),j=n||"div",D=(0,g.gy)(t),S=(0,l.useRef)(null),C=(0,h.U)(P),I=(0,c.p)(x({index:r,trackRef:i,inputRef:S,name:o},k),a),Z=I.thumbProps,E=I.inputProps,_=I.isDragging,T=I.isFocused,R=(0,d.X)({isDisabled:a.isDisabled}),M=R.hoverProps,V=R.isHovered,B=(0,f.F)(),F=B.focusProps,L=B.isFocusVisible,z=(0,m.r)({isDisabled:a.isDisabled}),A=z.pressProps,U=z.isPressed;return{Component:j,index:r,showTooltip:O,renderThumb:N,getThumbProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return x(x({ref:D,"data-slot":"thumb","data-hover":(0,b.PB)(V),"data-pressed":(0,b.PB)(U),"data-dragging":(0,b.PB)(_),"data-focused":(0,b.PB)(T),"data-focus-visible":(0,b.PB)(L)},(0,p.d)(Z,A,M,k)),{},{className:s},e)},getTooltipProps:function(){var e=C?C.format(a.values[null!=r?r:0]):a.values[null!=r?r:0];return x(x({},u),{},{placement:null!=u&&u.placement?null==u?void 0:u.placement:w?"right":"top",content:null!=u&&u.content?null==u?void 0:u.content:e,updatePositionDeps:[_,V,e],isOpen:void 0!==(null==u?void 0:u.isOpen)?null==u?void 0:u.isOpen:V||_})},getInputProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return x(x({ref:S},(0,p.d)(E,F)),e)}}}(N(N({},e),{},{ref:t})),a=n.Component,r=n.index,i=n.renderThumb,w=n.showTooltip,P=n.getTooltipProps,k=n.getThumbProps,j=n.getInputProps,D=N(N({},k()),{},{index:r,children:O(u.T,null,O("input",j()))}),S=(0,o.Q)({Component:a,props:D,renderCustom:i});return w?O(s.e,P(),S):S}));k.displayName="NextUI.SliderThumb";const j=k;var D=n(42982),S=n(70885),C=n(33899),I=(0,n(87487).tv)({slots:{base:" vg-flex vg-flex-col vg-w-full vg-gap-1 ",labelWrapper:" vg-w-full vg-flex vg-justify-between vg-items-center ",label:" ",value:" ",step:[" vg-h-1.5 "," vg-w-1.5 "," vg-absolute "," vg-rounded-full "," vg-bg-default-300/50 "," vg-data-[in-range=true]:bg-background/50 "],mark:[" vg-absolute "," vg-text-small "," vg-cursor-default "," vg-opacity-50 "," vg-data-[in-range=true]:opacity-100 "],trackWrapper:" vg-relative vg-flex vg-gap-2 ",track:[" vg-flex "," vg-w-full "," vg-relative "," vg-rounded-full "," vg-bg-default-300/50 "],filler:" vg-h-full vg-absolute ",thumb:[" vg-flex "," vg-justify-center "," vg-items-center "," vg-before:absolute "," vg-before:w-11 "," vg-before:h-11 "," vg-before:rounded-full "," vg-after:shadow-small "," vg-after:shadow-small "," vg-after:bg-background "," vg-data-[focused=true]:z-10 ",C.Dh],startContent:[],endContent:[]},variants:{size:{sm:{label:" vg-text-small ",value:" vg-text-small ",thumb:" vg-w-5 vg-h-5 vg-after:w-4 vg-after:h-4 ",step:" vg-data-[in-range=false]:bg-default-200 "},md:{thumb:" vg-w-6 vg-h-6 vg-after:w-5 vg-after:h-5 ",label:" vg-text-small ",value:" vg-text-small "},lg:{thumb:" vg-h-7 vg-w-7 vg-after:w-5 vg-after:h-5 ",step:" vg-w-2 vg-h-2 ",label:" vg-text-medium ",value:" vg-text-medium ",mark:" vg-mt-2 "}},radius:{none:{thumb:" vg-rounded-none vg-after:rounded-none "},sm:{thumb:" vg-rounded-[calc(theme(borderRadius.small)/2)] vg-after:rounded-[calc(theme(borderRadius.small)/3)] "},md:{thumb:" vg-rounded-[calc(theme(borderRadius.medium)/2)] vg-after:rounded-[calc(theme(borderRadius.medium)/3)] "},lg:{thumb:" vg-rounded-[calc(theme(borderRadius.large)/1.5)] vg-after:rounded-[calc(theme(borderRadius.large)/2)] "},full:{thumb:" vg-rounded-full vg-after:rounded-full "}},color:{foreground:{filler:" vg-bg-foreground ",thumb:" vg-bg-foreground "},primary:{filler:" vg-bg-primary ",thumb:" vg-bg-primary "},secondary:{filler:" vg-bg-secondary ",thumb:" vg-bg-secondary "},success:{filler:" vg-bg-success ",thumb:" vg-bg-success "},warning:{filler:" vg-bg-warning ",thumb:" vg-bg-warning "},danger:{filler:" vg-bg-danger ",thumb:" vg-bg-danger "}},isVertical:{true:{base:" vg-w-auto vg-h-full vg-flex-col-reverse vg-items-center ",trackWrapper:" vg-flex-col vg-h-full vg-justify-center vg-items-center ",filler:" vg-w-full vg-h-auto ",thumb:" vg-left-1/2 ",track:" vg-h-full vg-border-y-transparent ",labelWrapper:" vg-flex-col vg-justify-center vg-items-center ",step:[" vg-left-1/2 "," vg--translate-x-1/2 "," vg-translate-y-1/2 "],mark:[" vg-left-1/2 "," vg-ml-1 "," vg-translate-x-1/2 "," vg--translate-y-1/2 "]},false:{thumb:" vg-top-1/2 ",trackWrapper:" vg-items-center ",track:" vg-border-x-transparent ",step:[" vg-top-1/2 "," vg--translate-x-1/2 "," vg--translate-y-1/2 "],mark:[" vg-top-1/2 "," vg-mt-1 "," vg--translate-x-1/2 "," vg-translate-y-1/2 "]}},isDisabled:{false:{thumb:[" vg-cursor-grab "," vg-data-[dragging=true]:cursor-grabbing "]},true:{base:" vg-opacity-disabled ",thumb:" vg-cursor-default "}},hasMarks:{true:{base:" vg-mb-5 "},false:{}},showOutline:{true:{thumb:" vg-ring-2 vg-ring-background "},false:{thumb:" vg-ring-transparent vg-border-0 "}},hideValue:{true:{value:" vg-sr-only "}},hideThumb:{true:{thumb:" vg-sr-only ",track:" vg-overflow-hidden vg-cursor-pointer "}},hasSingleThumb:{true:{},false:{}},disableAnimation:{true:{thumb:" vg-data-[dragging=true]:after:scale-100 "},false:{thumb:" vg-after:transition-all vg-motion-reduce:after:transition-none ",mark:" vg-transition-opacity vg-motion-reduce:transition-none "}},disableThumbScale:{true:{},false:{thumb:" vg-data-[dragging=true]:after:scale-80 "}}},compoundVariants:[{size:["sm","md"],showOutline:!1,class:{thumb:" vg-shadow-small "}},{size:"sm",color:" vg-foreground ",class:{step:" vg-data-[in-range=true]:bg-foreground "}},{size:"sm",color:"primary",class:{step:" vg-data-[in-range=true]:bg-primary "}},{size:"sm",color:"secondary",class:{step:" vg-data-[in-range=true]:bg-secondary "}},{size:"sm",color:"success",class:{step:" vg-data-[in-range=true]:bg-success "}},{size:"sm",color:"warning",class:{step:" vg-data-[in-range=true]:bg-warning "}},{size:"sm",color:"danger",class:{step:" vg-data-[in-range=true]:bg-danger "}},{size:"sm",isVertical:!1,class:{track:" vg-h-1 vg-my-[calc((theme(spacing.5)-theme(spacing.1))/2)] vg-data-[thumb-hidden=false]:border-x-[calc(theme(spacing.5)/2)] "}},{size:"md",isVertical:!1,class:{track:" vg-h-3 vg-my-[calc((theme(spacing.6)-theme(spacing.3))/2)] vg-data-[thumb-hidden=false]:border-x-[calc(theme(spacing.6)/2)] "}},{size:"lg",isVertical:!1,class:{track:" vg-h-7 vg-my-[calc((theme(spacing.7)-theme(spacing.5))/2)] vg-data-[thumb-hidden=false]:border-x-[calc(theme(spacing.7)/2)] "}},{size:"sm",isVertical:!0,class:{track:" vg-w-1 vg-mx-[calc((theme(spacing.5)-theme(spacing.1))/2)] vg-data-[thumb-hidden=false]:border-y-[calc(theme(spacing.5)/2)] "}},{size:"md",isVertical:!0,class:{track:" vg-w-3 vg-mx-[calc((theme(spacing.6)-theme(spacing.3))/2)] vg-data-[thumb-hidden=false]:border-y-[calc(theme(spacing.6)/2)] "}},{size:"lg",isVertical:!0,class:{track:" vg-w-7 vg-mx-[calc((theme(spacing.7)-theme(spacing.5))/2)] vg-data-[thumb-hidden=false]:border-y-[calc(theme(spacing.7)/2)] "}},{color:" vg-foreground ",isVertical:!1,hasSingleThumb:!0,class:{track:" vg-border-s-foreground "}},{color:"primary",isVertical:!1,hasSingleThumb:!0,class:{track:" vg-border-s-primary "}},{color:"secondary",isVertical:!1,hasSingleThumb:!0,class:{track:" vg-border-s-secondary "}},{color:"success",isVertical:!1,hasSingleThumb:!0,class:{track:" vg-border-s-success "}},{color:"warning",isVertical:!1,hasSingleThumb:!0,class:{track:" vg-border-s-warning "}},{color:"danger",isVertical:!1,hasSingleThumb:!0,class:{track:" vg-border-s-danger "}},{color:" vg-foreground ",isVertical:!0,hasSingleThumb:!0,class:{track:" vg-border-b-foreground "}},{color:"primary",isVertical:!0,hasSingleThumb:!0,class:{track:" vg-border-b-primary "}},{color:"secondary",isVertical:!0,hasSingleThumb:!0,class:{track:" vg-border-b-secondary "}},{color:"success",isVertical:!0,hasSingleThumb:!0,class:{track:" vg-border-b-success "}},{color:"warning",isVertical:!0,hasSingleThumb:!0,class:{track:" vg-border-b-warning "}},{color:"danger",isVertical:!0,hasSingleThumb:!0,class:{track:" vg-border-b-danger "}}],defaultVariants:{size:"md",color:"primary",radius:"full",hideValue:!1,hideThumb:!1,isDisabled:!1,disableThumbScale:!1,disableAnimation:!1,showOutline:!1}}),Z=n(55306),E=n(29339),_=n(95156),T=n(92319),R=n(49869),M=["ref","as","name","label","formatOptions","value","maxValue","minValue","step","showSteps","showTooltip","orientation","marks","startContent","endContent","fillOffset","className","classNames","renderThumb","renderLabel","renderValue","onChange","onChangeEnd","getValue","tooltipValueFormatOptions","tooltipProps"];function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=l.createElement;function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=(0,i.Gp)((function(e,t){var n=function(e){var t,n,a=(0,i.oe)(e,I.variantKeys),o=(0,S.Z)(a,2),s=o[0],u=o[1],c=s.ref,m=s.as,f=s.name,b=s.label,y=s.formatOptions,w=s.value,x=s.maxValue,O=void 0===x?100:x,P=s.minValue,N=void 0===P?0:P,k=s.step,j=void 0===k?1:k,C=s.showSteps,V=void 0!==C&&C,F=s.showTooltip,L=void 0!==F&&F,z=s.orientation,A=void 0===z?"horizontal":z,U=s.marks,G=void 0===U?[]:U,W=s.startContent,H=s.endContent,q=s.fillOffset,K=s.className,J=s.classNames,X=s.renderThumb,Q=s.renderLabel,$=s.renderValue,Y=s.onChange,ee=s.onChangeEnd,te=s.getValue,ne=s.tooltipValueFormatOptions,ae=void 0===ne?y:ne,re=s.tooltipProps,le=void 0===re?{}:re,oe=(0,v.Z)(s,M),ie=m||"div",se="string"==typeof ie,ue=(0,g.gy)(c),ve=(0,l.useRef)(null),ce=(0,h.U)(y),ge=(0,_.j)().direction,de=(0,l.useCallback)((function(e){return Math.min(Math.max(e,N),O)}),[N,O]),me=(0,l.useMemo)((function(){if(void 0!==w)return Array.isArray(w)?w.map(de):de(w)}),[w,de]),fe=(0,E.x)(B(B({},oe),{},{value:me,isDisabled:null!==(t=null==e?void 0:e.isDisabled)&&void 0!==t&&t,orientation:A,step:j,minValue:N,maxValue:O,numberFormatter:ce,onChange:Y,onChangeEnd:ee})),pe=B({offset:5,delay:0,size:"sm",showArrow:!0,color:null!=e&&e.color?null==e?void 0:e.color:null===(n=I.defaultVariants)||void 0===n?void 0:n.color,isDisabled:e.isDisabled},le),be=(0,T.o)(e,fe,ve),he=be.groupProps,ye=be.trackProps,we=be.labelProps,xe=be.outputProps,Oe=(0,d.X)({isDisabled:e.isDisabled}),Pe=Oe.isHovered,Ne=Oe.hoverProps,ke=(0,R.W)(null==J?void 0:J.base,K),je="vertical"===A,De=(null==G?void 0:G.length)>0,Se=void 0===q&&1===fe.values.length,Ce=(0,l.useMemo)((function(){return I(B(B({},u),{},{hasMarks:De,hasSingleThumb:Se,isVertical:je,className:K}))}),[].concat((0,D.Z)(Object.values(u)),[je,Se,De,K])),Ie=[fe.values.length>1?fe.getThumbPercent(0):void 0!==q?fe.getValuePercent(q):0,fe.getThumbPercent(fe.values.length-1)].sort(),Ze=(0,S.Z)(Ie,2),Ee=Ze[0],_e=Ze[1],Te=1===fe.values.length?ce.format(fe.values[0]):ce.formatRange(fe.values[0],fe.values[fe.values.length-1]),Re=V?Math.floor((O-N)/j)+1:0;return{Component:ie,state:fe,value:Te,domRef:ue,label:b,steps:Re,marks:G,startContent:W,endContent:H,getStepProps:function(e){var t=fe.getValuePercent(e*j+N);return{className:Ce.step({class:null==J?void 0:J.step}),"data-slot":"step","data-in-range":t<=_e&&t>=Ee,style:(0,r.Z)({},je?"bottom":"rtl"===ge?"right":"left","".concat(100*t,"%"))}},getBaseProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return B({ref:ue,"data-orientation":fe.orientation,"data-slot":"base","data-hover":Pe,className:Ce.base({class:ke})},(0,p.d)(he,Ne,(0,Z.z)(oe,{enabled:se}),(0,Z.z)(e)))},getValue:te,renderLabel:Q,renderValue:$,getTrackWrapperProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return B({"data-slot":"track-wrapper",className:Ce.trackWrapper({class:null==J?void 0:J.trackWrapper})},e)},getLabelWrapperProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return B({className:Ce.labelWrapper({class:null==J?void 0:J.labelWrapper}),"data-slot":"labelWrapper"},e)},getLabelProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return B(B({"data-slot":"label",className:Ce.label({class:null==J?void 0:J.label}),children:b},we),e)},getValueProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return B(B({"data-slot":"value",className:Ce.value({class:null==J?void 0:J.value}),children:te&&"function"==typeof te?te(fe.values):Te},xe),e)},getTrackProps:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return B(B({ref:ve,"data-slot":"track","data-thumb-hidden":!(null==e||!e.hideThumb),"data-vertical":je,className:Ce.track({class:null==J?void 0:J.track})},ye),t)},getFillerProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return B(B({"data-slot":"filler",className:Ce.filler({class:null==J?void 0:J.filler})},e),{},{style:B(B({},e.style),{},(0,r.Z)({},je?"bottom":"rtl"===ge?"right":"left","".concat(100*Ee,"%")),je?{height:"".concat(100*(_e-Ee),"%")}:{width:"".concat(100*(_e-Ee),"%")})})},getThumbProps:function(e){return{name:f,index:e,state:fe,trackRef:ve,orientation:A,isVertical:je,tooltipProps:pe,showTooltip:L,renderThumb:X,formatOptions:ae,className:Ce.thumb({class:null==J?void 0:J.thumb})}},getMarkProps:function(e){var t=fe.getValuePercent(e.value);return{className:Ce.mark({class:null==J?void 0:J.mark}),"data-slot":"mark","data-in-range":t<=_e&&t>=Ee,style:(0,r.Z)({},je?"bottom":"rtl"===ge?"right":"left","".concat(100*t,"%"))}},getStartContentProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return B({"data-slot":"startContent",className:Ce.startContent({class:null==J?void 0:J.startContent})},e)},getEndContentProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return B({"data-slot":"endContent",className:Ce.endContent({class:null==J?void 0:J.endContent})},e)}}}(z(z({},e),{},{ref:t})),s=n.Component,u=n.state,c=n.label,m=n.steps,f=n.marks,b=n.startContent,y=n.endContent,w=n.getStepProps,x=n.getBaseProps,O=n.renderValue,P=n.renderLabel,N=n.getTrackWrapperProps,k=n.getLabelWrapperProps,C=n.getLabelProps,V=n.getValueProps,L=n.getTrackProps,A=n.getFillerProps,U=n.getThumbProps,G=n.getMarkProps,W=n.getStartContentProps,H=n.getEndContentProps;return F(s,x(),c&&F("div",k(),(0,o.Q)({Component:"label",props:C(),renderCustom:P}),(0,o.Q)({Component:"output",props:V(),renderCustom:O})),F("div",N(),b&&F("div",W(),b),F("div",L(),F("div",A()),Number.isFinite(m)&&Array.from({length:m},(function(e,t){return F("div",(0,a.Z)({key:t},w(t)))})),u.values.map((function(e,t){return F(j,(0,a.Z)({key:t},U(t)))})),(null==f?void 0:f.length)>0&&f.map((function(e,t){return F("div",(0,a.Z)({key:t},G(e)),e.label)}))),y&&F("div",H(),y)))}));A.displayName="NextUI.Slider";const U=A},94653:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(38997),r=n(67294),l=n(48676),o=r.createElement;const i=function(e){var t,n,i,s=(0,l.useRuntime)().runtime,u=r.useMemo((function(){var e,t;return(null==s||null===(e=s.variables)||void 0===e?void 0:e.avatarImageUrl)||(null===(t=s.variables)||void 0===t?void 0:t.roundedImageURL)||"https://static.vecteezy.com/system/resources/previews/005/337/802/non_2x/icon-symbol-chat-outline-illustration-free-vector.jpg"}),[null===(t=s.variables)||void 0===t?void 0:t.roundedImageURL,null==s||null===(n=s.variables)||void 0===n?void 0:n.avatarImageUrl,null===(i=s.variables)||void 0===i?void 0:i.theme]);return o("div",{key:e.key||"",id:e.id||"",className:" vg-w-8 vg-h-8 vg-chat-avatar vg-relative "},o(a.Z,{classNames:{wrapper:" vg-rounded-full vg-overflow-hidden "},className:" vg-w-[32px] vg-h-[32px] vg-rounded-full vg-object-cover vg-chat-avatar--img",src:u}),s.agentName&&o("p",{className:" vg-absolute vg-text-tiny vg-opacity-80 vg-top-[-20px] vg-left-1 vg-z-[50] vg-chat-agent-name"},s.agentName))}},10695:(e,t,n)=>{n.r(t),n.d(t,{DEFAULT_HANDOFF_SUBTITLE:()=>O,DEFAULT_HANDOFF_TITLE:()=>x,default:()=>P});var a=n(92167),r=n(15861),l=n(64687),o=n.n(l),i=n(48676),s=n(91148),u=n(17828),v=n(84962),c=n(67294),g=n(43351),d=n(49660),m=n(73850),f=n(82280),p=n(96225),b=n(4070),h=c.createElement;function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x="Support Team",O="We reply within minutes ⚡";const P=function(e){var t,n,a,l,y,P,N,k,j,D,S,C,I,Z,E=(0,c.useState)({}),_=E[0],T=E[1],R=(0,i.useRuntime)(),M=R.lightConvoData,V=R.runtime,B=R.confirmedBucket,F=R.handleRequestHandoffInit,L=(R.handleVGHandoffReject,R.setRuntime),z=(R.formattedTurnsValue,V.isSuperAdmin),A=(0,c.useState)(!1),U=(A[0],A[1]);function G(){return(G=(0,r.Z)(o().mark((function e(t){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.agentID,e.next=3,fetch("".concat((0,s.Sw)({region:"voiceglow-eu"===B?"eu":"na"}),"/vg/").concat(n,"/safe-data")).then((function(e){return e.json()})).catch((function(e){}));case 3:null!=(a=e.sent)&&a.orgUsers?(T(a),L((function(e){return w(w({},e),{},{orgUsers:a.orgUsers})}))):(T({}),L((function(e){return w(w({},e),{},{orgUsers:[]})})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c.useEffect((function(){var e,t;null!==(e=V.variables)&&void 0!==e&&e.ID&&B&&(!function(e){G.apply(this,arguments)}({agentID:null===(t=V.variables)||void 0===t?void 0:t.ID}),U(!0))}),[null===(t=V.variables)||void 0===t?void 0:t.ID,B]);var W=c.useMemo((function(){var e;return null==_||null===(e=_.orgUsers)||void 0===e?void 0:e.sort((function(e,t){return"online"===e.status&&"online"!==t.status?-1:"online"!==e.status&&"online"===t.status?1:0})).slice(0,3)}),[_.orgUsers]),H=c.useMemo((function(){var e;return null==_||null===(e=_.orgUsers)||void 0===e?void 0:e.some((function(e){return"online"===e.status}))}),[null==_?void 0:_.orgUsers]);return h(u.M,null,null!=_&&null!==(n=_.orgUsers)&&void 0!==n&&n.length&&e.active&&"human-chatting"!==M.state&&(H||null!=V&&null!==(a=V.variables)&&void 0!==a&&a.alwaysShowHandoff)?h(v.E.div,{initial:{opacity:0,top:0,left:"4%"},animate:{opacity:1,top:20,left:"4%"},exit:{opacity:0,top:0,left:"4%"},transition:{duration:.2},key:"vg-live-agents",className:" vg-sticky vg-w-[90%] vg-rounded-large vg-z-[50] vg-backdrop-blur vg-bg-background/50 vg-ml-1 vg-p-3 vg-rounded-large vg-border vg-border-foreground-200 vg-live-agents"},h("div",{className:" vg-w-full vg-flex vg-justify-between vg-live-agents--container"},h("div",{className:" vg-flex vg-gap-2 vg-live-agents--avatars"},h("div",{className:" vg-flex vg-justify-start vg-items-center vg-live-agents--avatars-container"},null==W?void 0:W.map((function(e,t){return h("div",{style:{zIndex:W.length-t},key:"human_agent_".concat(t),className:" vg-relative vg-w-auto vg-live-agents--avatar"},h(g.Z,{className:" vg-w-[35px] vg-h-[35px] vg-relative vg-border vg-border-2 vg-border-background ".concat(0!==t?" vg-ml-[-15px] ":" "," vg-live-agents--avatar-img"),size:"sm",src:e.squarePhotoURL}),h("div",{className:" vg-w-2 vg-h-2 vg-absolute vg-bottom-1 vg-right-1 vg-rounded-full ".concat("online"===e.status?" vg-bg-green-500 ":" vg-bg-gray-500 "," vg-live-agents--avatar-status")}))})),(null==_||null===(l=_.orgUsers)||void 0===l?void 0:l.length)>=3?h("p",{className:" vg-flex vg-text-small vg-opacity-80 vg-ml-1 vg-live-agents--avatars-more-label"},"+",(null==_||null===(y=_.orgUsers)||void 0===y?void 0:y.length)-3):null),h("div",{className:"vg-live-agents--text"},V.isSuperAdmin?h(d.Z,{classNames:{base:" vg-h-4 vg-min-h-0 vg-bg-transparent vg-mb-2 ",input:" vg-h-4 vg-min-h-0 vg-bg-transparent ",inputWrapper:" vg-h-4 vg-min-h-0 vg-m-0 vg-p-0 vg-bg-transparent ",innerWrapper:" vg-pb-1 "},type:"text",variant:"underlined",onValueChange:function(t){z&&null!=e&&e.setLocalData&&e.setLocalData((function(e){return w(w({},e),{},{UIhandoffTitle:t})}))},value:void 0===(null==V||null===(P=V.variables)||void 0===P?void 0:P.UIhandoffTitle)?x:null==e||null===(N=e.localRuntimeData)||void 0===N?void 0:N.UIhandoffTitle,size:"sm"}):h("p",null,h(f.Z,{className:" vg-text-small vg-leading-4 vg-live-agents--header",to:null===(k=V.variables)||void 0===k?void 0:k.lang,text:(null==V||null===(j=V.variables)||void 0===j?void 0:j.UIhandoffTitle)||x})),null!=V&&V.isSuperAdmin?h(d.Z,{classNames:{base:" vg-h-4 vg-min-h-0 vg-bg-transparent ",input:" vg-h-4 vg-min-h-0 vg-bg-transparent ",inputWrapper:" vg-h-4 vg-min-h-0 vg-m-0 vg-p-0 vg-bg-transparent ",innerWrapper:" vg-pb-1 "},type:"text",variant:"underlined",onValueChange:function(t){z&&null!=e&&e.setLocalData&&e.setLocalData((function(e){return w(w({},e),{},{UIhandoffSubtitle:t})}))},value:void 0===(null==V||null===(D=V.variables)||void 0===D?void 0:D.UIhandoffSubtitle)?O:null==e||null===(S=e.localRuntimeData)||void 0===S?void 0:S.UIhandoffSubtitle,size:"sm"}):h("p",{className:" vg-flex vg-items-center vg-opacity-80 vg-live-agents--description-container"},h(p.wGS,{className:" vg-w-3 vg-h-3 vg-mr-1 vg-live-agents--description-icon"}),h(f.Z,{limit:25,className:" vg-text-tiny vg-leading-4 vg-live-agents--description",to:null===(C=V.variables)||void 0===C?void 0:C.lang,text:(null==V||null===(I=V.variables)||void 0===I?void 0:I.UIhandoffSubtitle)||O})))),h("div",{className:"vg-live-agents--buttons"},h(m.Z,{isDisabled:"requested_chat"===M.state,onPress:(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F({instant:!0}),L((function(e){return w(w({},e),{},{notice:w(w({},e.notice),{},{custom:h(b.Z,{cancelToIntent:!0})})})}));case 2:case"end":return e.stop()}}),e)}))),className:" vg-font-bold vg-live-agents--button",color:"primary",size:"sm"},h(f.Z,{className:"vg-live-agents--button-text",limit:10,to:null===(Z=V.variables)||void 0===Z?void 0:Z.lang,text:"⚡ Chat"}))))):null)}},45392:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var a=n(67294),r=n(94653),l=n(17828),o=n(84962),i=a.createElement;const s=function(e){return i("div",{id:e.id||"actually_loading",className:" vg-w-full vg-h-auto vg-flex vg-relative vg-loading-animation-container",key:"loading_thing"},e.variant?null:i(r.Z,null),i("div",{className:" ".concat(e.variant?" ":" vg-md:ml-4 vg-ml-2 "," vg-w-14 vg-h-8 vg-relative vg-loading-animation--inner")},i(l.M,null,i(o.E.div,{initial:{scale:1},animate:{scale:1.1},exit:{scale:1},transition:{repeat:1/0,repeatType:"mirror",duration:1},key:"dots_container",className:" vg-flex vg-gap-1 vg-items-center vg-h-full vg-justify-center vg-rounded-lg vg-w-full ".concat("light"===e.variant&&" vg-bg-transparent vg-border-none "," vg- ").concat(!e.variant&&" vg-bg-background vg-border vg-border-foreground-200 "," vg- vg-loading-animation ")},i(o.E.div,{style:{display:"unset"},key:"1_dots_circle",animate:{y:[-2,0,2,0,-2],backgroundColor:["#C8C8C8","#E3E3E3","#C8C8C8"]},transition:{repeat:1/0,repeatType:"reverse",duration:.8},className:" vg-w-2 vg-h-2 vg-rounded-full vg-loading--dot"}),i(o.E.div,{style:{display:"unset"},key:"2_dots_circle",animate:{y:[2,0,-2,0,2],backgroundColor:["#C8C8C8","#E3E3E3","#C8C8C8"]},transition:{repeat:1/0,repeatType:"mirror",delay:.2,duration:.8},className:" vg-w-2 vg-h-2 vg-rounded-full vg-loading--dot"}),i(o.E.div,{style:{display:"unset"},key:"3_dots_circle",animate:{y:[-2,0,2,0,-2],backgroundColor:["#C8C8C8","#E3E3E3","#C8C8C8"]},transition:{repeat:1/0,repeatType:"mirror",delay:.4,duration:.8},className:" vg-w-2 vg-h-2 vg-rounded-full vg-loading--dot"})))))}},97259:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Al});var a=n(87462),r=n(92167),l=n(70885),o=n(67294),i=n(48676),s=n(5152),u=n.n(s),v=n(45987),c=["children"],g=o.createElement;const d=function(e){var t,n,a=e.children,r=(0,v.Z)(e,c),l=(0,o.useRef)(null),i=(0,o.useRef)(null),s=(0,o.useRef)(null),u=(0,o.useState)(!1),d=u[0],m=u[1],f=(0,o.useState)(0),p=f[0],b=f[1],h=(0,o.useState)(0),y=h[0],w=h[1],x=(0,o.useState)(!1),O=x[0],P=x[1],N=function(e){var t,n;if(d&&s.current&&i.current){var a=e.clientY-p,r=Math.min(s.current.clientHeight-i.current.clientHeight,Math.max(0,y+a));i.current.style.top=r+"px";var o=r/(s.current.clientHeight-i.current.clientHeight);l.current.scrollTop=o*((null==l||null===(t=l.current)||void 0===t?void 0:t.scrollHeight)-(null===(n=l.current)||void 0===n?void 0:n.clientHeight))}},k=function(){m(!1),document.body.style.userSelect=""};return(0,o.useEffect)((function(){return document.addEventListener("mousemove",N),document.addEventListener("mouseup",k),function(){document.removeEventListener("mousemove",N),document.removeEventListener("mouseup",k)}}),[d]),(0,o.useEffect)((function(){var e,t;if(l.current&&(null===(e=l.current)||void 0===e?void 0:e.scrollHeight)>(null===(t=l.current)||void 0===t?void 0:t.clientHeight)){if(P(!0),O&&i.current){var n,a,r,o,u,v,c;if(!l.current||!i.current)return;var g=(null===(n=l.current)||void 0===n?void 0:n.clientHeight)/(null===(a=l.current)||void 0===a?void 0:a.scrollHeight)*(null===(r=l.current)||void 0===r?void 0:r.clientHeight)*.8;i.current.style.height=g-50+"px",i.current.style.top=(null===(o=l.current)||void 0===o?void 0:o.scrollTop)/((null===(u=l.current)||void 0===u?void 0:u.scrollHeight)-(null===(v=l.current)||void 0===v?void 0:v.clientHeight))*((null===(c=s.current)||void 0===c?void 0:c.clientHeight)-g)+"px",i.current.style.transform="translateY(".concat(5,"%)")}}else P(!1)}),[null==l||null===(t=l.current)||void 0===t?void 0:t.scrollHeight,null==l||null===(n=l.current)||void 0===n?void 0:n.clientHeight]),g("div",{className:" vg-scroll-container vg-fancy-scroll--container"},g("div",{style:null==r?void 0:r.style,id:null==r?void 0:r.id,className:" ".concat(null==r?void 0:r.className," vg-content vg-fancy-scroll--content"),ref:l,onScroll:function(e){var t,n,a,o,u;if(null!=r&&r.onScroll&&r.onScroll(e),!d&&s.current&&i.current){var v=(null===(t=l.current)||void 0===t?void 0:t.scrollTop)/((null===(n=l.current)||void 0===n?void 0:n.scrollHeight)-(null===(a=l.current)||void 0===a?void 0:a.clientHeight));i.current.style.top=v*((null===(o=s.current)||void 0===o?void 0:o.clientHeight)-(null===(u=i.current)||void 0===u?void 0:u.clientHeight))+"px"}}},a),O?g("div",{className:" vg-custom-scrollbar vg-z-[9999] vg-fancy-scroll--el-thumb",ref:s},g("div",{className:" vg-custom-scrollbar-thumb ",ref:i,onMouseDown:function(e){m(!0),b(e.clientY),w(i.current.offsetTop),document.body.style.userSelect="none"}})):null)};var m=n(44925),f=n(73850),p=n(38997),b=n(82280),h=n(11194),y=n(5434),w=n(8193),x=n(97693),O=n(84962),P=n(17828),N=n(60155),k=n(57479),j=n(43351),D=o.createElement;const S=function(e){var t=(0,i.useRuntime)().runtime,n=o.useMemo((function(){var e=null==t?void 0:t.orgUsers;return null==e?void 0:e.sort((function(e,t){return"online"===e.status&&"online"!==t.status?-1:"online"!==e.status&&"online"===t.status?1:0})).slice(0,3)}),[null==t?void 0:t.orgUsers]);return D("div",{className:" vg-flex vg-justify-start vg-items-center vg-live-agents--avatars-container"},null==n?void 0:n.map((function(t,a){var r,l;return D("div",{style:{zIndex:n.length-a},key:"human_agent_".concat(a),className:" vg-relative vg-w-auto vg-live-agents--avatar"},D(j.Z,{className:" ".concat(null!==(r=e.classNames)&&void 0!==r&&r.image?null==e||null===(l=e.classNames)||void 0===l?void 0:l.image:" vg-w-[35px] vg-h-[35px] "," vg-object-cover vg-relative vg-border vg-border-2 vg-border-background ").concat(0!==a?" vg-ml-[-15px] ":" "," vg-live-agents--avatar-img"),size:"sm",src:t.squarePhotoURL}),D("div",{className:" vg-w-2 vg-h-2 vg-absolute vg-bottom-1 vg-right-1 vg-rounded-full ".concat("online"===t.status?" vg-bg-green-500 ":" vg-bg-gray-500 "," vg-live-agents--avatar-status")}))})))};var C=o.createElement;const I=function(){var e=(0,k.F)().getColor;return C("svg",{width:"100%",height:"100%",viewBox:"0 0 760 600",fill:"none",xmlns:"http://www.w3.org/2000/svg"},C("defs",null,C("linearGradient",{id:"paint0_linear_1205_49",x1:"380",y1:"0",x2:"380",y2:"588",gradientUnits:"userSpaceOnUse"},C(O.E.stop,{key:"stop1",animate:{stopColor:[e("primary-700"),e("primary-500")]},transition:{duration:10,ease:"easeInOut",repeat:1/0,repeatType:"reverse"}}),C(O.E.stop,{key:"stop2",offset:"1",animate:{stopColor:[e("primary-500"),e("primary-700")]},transition:{duration:10,ease:"backInOut",repeat:1/0,repeatType:"reverse"}}))),C(O.E.path,{key:"path1",fill:"url(#paint0_linear_1205_49)",variants:{initial:{d:"M374.753 562.628C173.886 507.008 65.4569 513.566 0 562.628V0H760V493.387C716.362 565.528 593.278 623.136 374.753 562.628Z"},alternate:{d:"M374.753 562.628C191.011 625.254 74 619 0 500V0H760V493.387C697 500 558.5 500 374.753 562.628Z"}},initial:"initial",animate:"alternate",transition:{duration:10,ease:"easeInOut",repeat:1/0,repeatType:"reverse"}}))};var Z=n(70231),E=o.createElement;function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=function(e){return E(o.Fragment,null,!(null!=e&&e.responsive)&&E("div",{id:"vg-header-right",className:" vg-flex vg-gap-2 vg-header-right "},E(f.Z,{id:"vg_chat_toggle",onPress:function(){return e.setChatOpen?e.closeChatBox():""},isIconOnly:!0,className:" vg-bg-white/10 vg-flex vg-items-center vg-text-inherit vg-minimize-btn"},E(y.kIL,{className:" vg-w-6 vg-h-6 "})),E(f.Z,{id:"vg-close-btn",onPress:function(){return e.setChatOpen?e.handleCloseChat():""},isIconOnly:!0,className:" vg-bg-white/10 vg-flex vg-items-center vg-text-inherit vg-close-btn"},E(w.oHP,{className:" vg-w-6 vg-h-6 "}))))};const M=function(e){var t,n,a,r,l,s,u,v,c,g,d,y,w,j,D,C,_,M,V,B,F,L,z,A,U,G,W,H,q,K,J=(0,k.F)().getColor,X=(0,m.B)().config,Q=(0,i.useRuntime)(),$=Q.runtime,Y=Q.setRuntime,ee=Q.lightConvoData,te=o.useMemo((function(){var e,t;return(null==$||null===(e=$.variables)||void 0===e?void 0:e.headerImageUrl)||(null===(t=$.variables)||void 0===t?void 0:t.roundedImageURL)||"https://static.vecteezy.com/system/resources/previews/005/337/802/non_2x/icon-symbol-chat-outline-illustration-free-vector.jpg"}),[null===(t=$.variables)||void 0===t?void 0:t.roundedImageURL,null==$||null===(n=$.variables)||void 0===n?void 0:n.headerImageUrl,null===(a=$.variables)||void 0===a?void 0:a.theme]);function ne(){try{document.dispatchEvent(new CustomEvent("VG_Events",{detail:{event:"chat_close",data:{chatOpened:!1,ts:Date.now()/1e3},ts:Date.now()/1e3}}))}catch(e){}e.setChatOpen(!1),Y((function(e){return T(T({},e),{},{blockInput:!1})}))}var ae=function(){Y((function(t){var n,a;return T(T({},t),{},{notice:T(T({},t.notice),{},{custom:E(x.Z,{divKey:"should_end_chat",className:" vg-absolute vg-bottom-0 vg-w-full vg-h-auto vg-z-[50] vg-rounded-large vg-notice-container vg-w-full vg-bg-background/25 vg-backdrop-blur "},E("div",{className:" vg-p-5 "},E("div",{className:" vg-flex vg-flex-col vg-gap-2 "},E(f.Z,{onPress:function(){try{document.dispatchEvent(new CustomEvent("VG_Events",{detail:{event:"chat_restart",data:{chatOpened:!0,ts:Date.now()/1e3},ts:Date.now()/1e3}}))}catch(e){}e.setChatOpen&&ne(),Y((function(e){return T(T({},e),{},{reload:!0,notice:T(T({},e.notice),{},{custom:""})})}))},variant:"solid",color:"danger"},E(b.Z,{text:"End Chat",to:null===(n=$.variables)||void 0===n?void 0:n.lang})),E(f.Z,{onPress:function(){Y((function(e){return T(T({},e),{},{notice:T(T({},e.notice),{},{custom:""})})}))},variant:"light",className:" vg-bg-background vg-text-foreground "},E(b.Z,{text:"Cancel",to:null===(a=$.variables)||void 0===a?void 0:a.lang})))))})})}))},re=null==$||null===(r=$.variables)||void 0===r||null===(r=r.tabs)||void 0===r?void 0:r.find((function(e){return e.key===$.tabKey}));return E(O.E.div,{key:"vg-header-container",transition:{type:"spring",stiffness:860,damping:100,mass:.6},initial:{height:"65px"},animate:{height:"tabs"===(null==$||null===(l=$.variables)||void 0===l||null===(l=l.ui)||void 0===l?void 0:l.widgetType)?"home"===$.tabKey?"250px":"convos"===$.tabKey?(null!=$&&$.selectedSessionId,"65px"):"65px":"65px"},exit:{height:"65px"},id:"vg-header-container",className:" vg-relative vg-backdrop-blur vg-z-10 vg-w-full ".concat("tabs"===(null==$||null===(s=$.variables)||void 0===s||null===(s=s.ui)||void 0===s?void 0:s.widgetType)?" vg-text-primary-50 ":" vg-text-white "," vg-flex vg-justify-between vg-absolute vg-top-0 ").concat("full-width"===(null==X?void 0:X.render)?" ":" vg-md:rounded-large "," vg-header-container")},E(O.E.div,{animate:{background:["linear-gradient(30deg, ".concat(J("primary-".concat("tabs"===(null===(u=$.variables)||void 0===u||null===(u=u.ui)||void 0===u?void 0:u.widgetType)?"600":"500")),", ").concat(J("primary-".concat("tabs"===(null==$||null===(v=$.variables)||void 0===v||null===(v=v.ui)||void 0===v?void 0:v.widgetType)?"800":"500")),")"),"linear-gradient(45deg, ".concat(J("primary-".concat("tabs"===(null==$||null===(c=$.variables)||void 0===c||null===(c=c.ui)||void 0===c?void 0:c.widgetType)?"800":"500")),", ").concat(J("primary-".concat("tabs"===(null==$||null===(g=$.variables)||void 0===g||null===(g=g.ui)||void 0===g?void 0:g.widgetType)?"700":"500")),")"),"linear-gradient(60deg, ".concat(J("primary-".concat("tabs"===(null==$||null===(d=$.variables)||void 0===d||null===(d=d.ui)||void 0===d?void 0:d.widgetType)?"900":"500")),", ").concat(J("primary-".concat("tabs"===(null==$||null===(y=$.variables)||void 0===y||null===(y=y.ui)||void 0===y?void 0:y.widgetType)?"600":"500")),")")],transition:{duration:10,ease:"easeInOut",repeat:1/0,repeatType:"reverse"}},className:" vg-w-full vg-h-full vg-chat--fancy-animation",key:"vg-header-gradient-animatiopn"},E(P.M,null,"home"===$.tabKey&&"tabs"===(null===(w=$.variables)||void 0===w||null===(w=w.ui)||void 0===w?void 0:w.widgetType)?E("div",{key:"home-cool-thing",className:" vg-absolute vg-top-0 vg-left-0 vg-w-[105%] vg-h-auto vg-opacity-100 "},E(I,null)):null,"home"===$.tabKey&&"tabs"===(null==$||null===(j=$.variables)||void 0===j||null===(j=j.ui)||void 0===j?void 0:j.widgetType)?E(x.Z,{className:" vg-z-50 vg-absolute vg-top-0 vg-left-0 vg-flex vg-flex-col vg-items-center vg-gap-2 vg-w-full vg-h-full vg-p-8 vg-z-50 vg-w-full vg-text-primary-50 vg-header-container",key:"vg-header-home"},E("div",{className:" vg-w-full vg-flex vg-justify-between vg-mt-2 "},E("div",{className:" vg-gap-2 vg-divide-x vg-flex vg-items-center "},E(p.Z,{src:te,alt:"chat header image",className:" vg-rounded-full vg-object-cover vg-w-10 vg-h-10 "}),E(S,{classNames:{image:" vg-w-10 vg-h-10 vg-ml-2 "}})),E(R,{responsive:e.responsive,setChatOpen:e.setChatOpen,setChatMinimized:e.setChatMinimized,closeChatBox:ne,handleCloseChat:ae})),E("div",{className:" vg-flex vg-flex-col vg-gap-2 vg-w-full vg-mt-4 "},E(b.Z,{to:null==$||null===(D=$.variables)||void 0===D?void 0:D.lang,className:" vg-font-bold vg-text-2xl vg-leading-[100%] "},null!=re&&null!==(C=re.homeSpecific)&&void 0!==C&&C.headerTitle?"".concat(null==re?void 0:re.homeSpecific.headerTitle.replaceAll("{user.name}","".concat((null==X||null===(_=X.user)||void 0===_?void 0:_.name)||(null==ee?void 0:ee.userName)||"there"))):"Hello ".concat((null==X||null===(M=X.user)||void 0===M?void 0:M.name)||(null==ee?void 0:ee.userName)||"there",",")),E(b.Z,{className:" vg-text-2xl vg-leading-[100%] ",to:null==$||null===(V=$.variables)||void 0===V?void 0:V.lang},(null==re||null===(B=re.homeSpecific)||void 0===B?void 0:B.headerDescription)||"How can I help you today?"))):null,"convos"!==$.tabKey&&"faq"!==(null==$?void 0:$.tabKey)||$.selectedSessionId||"tabs"!==(null==$||null===(F=$.variables)||void 0===F||null===(F=F.ui)||void 0===F?void 0:F.widgetType)?null:E(x.Z,{className:" vg-absolute vg-top-0 vg-left-0 vg-flex vg-items-center vg-justify-between vg-gap-2 vg-w-full vg-h-full vg-py-3 vg-px-5 vg-z-50 vg-w-full vg-text-primary-50 vg-header--convos",key:"vg-header-convos"},E("div",{className:" vg-flex vg-gap-2 vg-items-center "},"convos"===(null==$?void 0:$.tabKey)?null!=re&&re.iconUrl?E(p.Z,{src:null==re?void 0:re.iconUrl,className:" vg-w-6 vg-h-6 vg-flex-shrink-0 vg-rounded-large vg-header--icon"}):E(N._j0,{className:" vg-w-6 vg-h-6 vg-flex-shrink-0 vg-header--icon"}):null,"faq"===(null==$?void 0:$.tabKey)?null!=re&&re.iconUrl?E(p.Z,{src:null==re?void 0:re.iconUrl,className:" vg-w-6 vg-h-6 vg-flex-shrink-0 vg-rounded-large vg-header--icon"}):E(Z.g_g,{className:" vg-w-6 vg-h-6 vg-flex-shrink-0 vg-header--icon"}):null,E(b.Z,{to:null==$||null===(L=$.variables)||void 0===L?void 0:L.lang,className:" vg-font-bold vg-text-large vg-leading-[100%] vg-header--text"},null==re?void 0:re.label)),E(R,{responsive:e.responsive,setChatOpen:e.setChatOpen,setChatMinimized:e.setChatMinimized,closeChatBox:ne,handleCloseChat:ae})),null!=$&&$.selectedSessionId&&"convos"===(null==$?void 0:$.tabKey)||"tabs"!==(null==$||null===(z=$.variables)||void 0===z||null===(z=z.ui)||void 0===z?void 0:z.widgetType)?E(x.Z,{className:" vg-absolute vg-top-0 vg-left-0 vg-py-3 vg-px-5 vg-z-50 vg-w-full ".concat("tabs"===(null==$||null===(A=$.variables)||void 0===A||null===(A=A.ui)||void 0===A?void 0:A.widgetType)?" vg-text-primary-50 ":" vg-text-white "," vg-flex vg-justify-between vg-absolute vg-top-0 ").concat("full-width"===(null==X?void 0:X.render)?" ":" vg-md:rounded-large "," vg-header-container"),key:"vg-header-chat"},E("div",{id:"vg-header-left",className:" vg-flex vg-gap-3 vg-items-center vg-header-left"},null!=$&&$.selectedSessionId&&"tabs"===(null==$||null===(U=$.variables)||void 0===U||null===(U=U.ui)||void 0===U?void 0:U.widgetType)?E(f.Z,{onPress:function(){Y((function(e){return T(T({},e),{},{selectedSessionId:"",notice:T(T({},e.notice),{},{custom:""}),showVapiUI:!1})}))},variant:"light",color:"default",className:" vg-bg-background-50 vg-flex-shrink-0 vg-text-primary-50 ",isIconOnly:!0},E(N.dUf,{className:" vg-w-5 vg-h-5 vg-header-left--img"})):E(p.Z,{className:" vg-w-10 vg-h-10 vg-rounded-full vg-object-cover vg-header-left--img",src:te}),E("div",{id:"vg-header-left-text",className:" vg-flex vg-flex-col vg-gap-0 "},E("p",{id:"vg-header-left-title",className:" vg-text-medium vg-font-bold vg-leading-5 vg-header-left-text--title"},(0,h.MB)((null===(G=$.variables)||void 0===G?void 0:G.title)||"",35)||""),null!=$&&null!==(W=$.variables)&&void 0!==W&&W.description?E(b.Z,{to:null==$||null===(H=$.variables)||void 0===H?void 0:H.lang,text:"full-width"===(null==X?void 0:X.render)?null==$||null===(q=$.variables)||void 0===q?void 0:q.description:(0,h.MB)((null===(K=$.variables)||void 0===K?void 0:K.description)||"",35)||"",className:" vg-w-52 vg-truncate vg-text-small vg-opacity-75 vg-leading-5 vg-header-left-text--desc"}):null)),E(R,{responsive:e.responsive,setChatOpen:e.setChatOpen,setChatMinimized:e.setChatMinimized,closeChatBox:ne,handleCloseChat:ae})):null)))};var V=n(42982),B=n(15861),F=n(64687),L=n.n(F),z=n(22931),A=n(53990),U=n(1451),G=n(30381),W=n.n(G),H=n(91148),q=n(39332),K=n(31300),J=n(8871),X=o.createElement;const Q=function(e){var t=e.onAudioStart,n=e.onAudioComplete,r=e.buttonProps,l=e.setIsRecordingParent,i=(0,o.useState)(null),s=i[0],u=i[1],v=(0,o.useState)(!1),c=v[0],g=v[1],d=(0,o.useState)(!1),m=(d[0],d[1]);o.useEffect((function(){l&&l(c)}),[c]),o.useEffect((function(){try{var e;null===(e=navigator)||void 0===e||null===(e=e.permissions)||void 0===e||e.query({name:"microphone"}).then((function(e){"granted"===(null==e?void 0:e.state)?m(!0):m(!1)})).catch((function(e){}))}catch(e){}}),[]);var p=function(){var e=(0,B.Z)(L().mark((function e(){var t,n,a,r,l;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=window)||void 0===t||!t.MediaRecorder||null===(n=navigator)||void 0===n||!n.mediaDevices){e.next=15;break}return e.prev=1,e.next=4,null===(a=navigator)||void 0===a||null===(a=a.mediaDevices)||void 0===a?void 0:a.getUserMedia({audio:!0});case 4:r=e.sent,l=new MediaRecorder(r),u(l),b(l),m(!0),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),m(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=(0,B.Z)(L().mark((function e(a){var r,l;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{(r=a||s)?(l=[],r.ondataavailable=function(e){e.data.size>0&&l.push(e.data)},r.onstop=(0,B.Z)(L().mark((function e(){var t;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new Blob(l,{type:"audio/wav"}),g(!1),n&&n(t);case 3:case"end":return e.stop()}}),e)}))),r.start(),g(!0),t&&t()):p()}catch(e){}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){try{var e;s.stop(),null==s||null===(e=s.stream)||void 0===e||null===(e=e.getTracks())||void 0===e||e.forEach((function(e){return e.stop()}))}catch(e){}};return X(f.Z,(0,a.Z)({color:c?"danger":"primary",variant:"light",className:"vg-audio-recorder--button",isIconOnly:!0,type:"button",onPressStart:function(){"recording"===(null==s?void 0:s.state)?h():p()},onPressEnd:function(){"recording"===(null==s?void 0:s.state)&&h()}},r),X(Z.uYL,{className:" vg-w-5 vg-h-5 vg-object-cover vg-audio-recorder--icon"}))};var $=n(79352),Y=n(69690),ee=o.createElement;function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ae=function(e){(0,m.B)().config,(0,q.useSearchParams)();var t,n,a,r,s,u,v=(0,i.useRuntime)(),c=v.runtime,g=v.setRuntime,d=(v.handleNewResponse,v.handlePushMessage),y=v.pushChatNotice,w=v.isTest,k=v.formattedTurnsValue,j=v.lightConvoData,D=v.confirmedBucket,S=(v.setFormattedTurnsValue,v.handlePushMessageV2),C=o.useState(""),I=(0,l.Z)(C,2),Z=I[0],E=I[1],_=o.useState(!1),T=(0,l.Z)(_,2),R=T[0],M=T[1],F=o.useState(!1),G=(0,l.Z)(F,2),X=G[0],te=G[1],ae=o.useState(null),re=(0,l.Z)(ae,2),le=re[0],oe=re[1],ie=o.useState({from:"bot",messages:[]}),se=(0,l.Z)(ie,2),ue=se[0],ve=se[1],ce=function(){var e=(0,B.Z)(L().mark((function e(t){var n,a,r,l,o,i,s,u,v;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=31;break}return e.next=3,ge(t);case 3:return n=e.sent,e.prev=4,e.next=7,fetch("".concat((0,H.Sw)({region:c.region}),"/vg/").concat(c.variables.ID,"/stt"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({vg_id:c.variables.ID,base64Audio:n,lang:(null===(a=c.variables)||void 0===a?void 0:a.lang)||"en"})});case 7:return r=e.sent,e.next=10,r.json();case 10:if(l=e.sent,!(o=l.text)){e.next=16;break}E((function(e){return e+" "+o})),e.next=20;break;case 16:return e.next=18,(0,h.cG)({translateTo:(null===(i=c.variables)||void 0===i?void 0:i.lang)||"en",text:"No text understood, please make sure to hold > speak > release."});case 18:s=e.sent,y(s,"fail",2500);case 20:e.next=28;break;case 22:return e.prev=22,e.t0=e.catch(4),e.next=26,(0,h.cG)({translateTo:(null===(u=c.variables)||void 0===u?void 0:u.lang)||"en",text:"Error during API call"});case 26:v=e.sent,y(v,"fail",2500);case 28:return e.prev=28,M(!1),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[4,22,28,31]])})));return function(t){return e.apply(this,arguments)}}(),ge=function(e){return new Promise((function(t){var n=new FileReader;n.onload=function(){var e,a=null==n||null===(e=n.result)||void 0===e?void 0:e.toString().split(",")[1];t(a||"")},n.readAsDataURL(e)}))},de=o.useMemo((function(){var e;return null!==(e=c.variables)&&void 0!==e&&e.customButtonJSON_STRING?JSON.parse(c.variables.customButtonJSON_STRING||"{}"):{viewValue:"default",type:"default"}}),[null==c?void 0:c.variables]);function me(){return(me=(0,B.Z)(L().mark((function e(t){var n;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(0,i.handlePushMessageNoInteract)({agentID:null===(n=c.variables)||void 0===n?void 0:n.ID,userID:c.userID,messages:[{from:"human",type:"visual",item:{payload:{image:t}},isLoading:!0}],bucket:c.bucket});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o.useEffect((function(){var e;window.innerWidth>=900&&!1===c.loading&&(0,h.PZ)(document.getElementById("VG_TEXT_INPUT_CHATBOT"))&&(null===(e=document.getElementById("VG_TEXT_INPUT_CHATBOT"))||void 0===e||e.focus())}),[c.loading]);var fe=(null==j?void 0:j.chatAssignedTo)&&"human-chatting"===(null==j?void 0:j.state);function pe(){return be.apply(this,arguments)}function be(){return(be=(0,B.Z)(L().mark((function e(){var t,n,a;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E(""),!Z){e.next=6;break}return"bot"===(null==(n=k[k.length-1])?void 0:n.from)&&document.dispatchEvent(new CustomEvent("VG_Events",{detail:{event:"new_turn",data:{from:"human",message:Z},ts:W()().unix()}})),e.next=6,d(Z,{type:"text",payload:Z},(null===(t=c.variables)||void 0===t?void 0:t.delayBeforeSubmit)||!1);case 6:window.innerWidth>=900&&(null===(a=document.getElementById("VG_TEXT_INPUT_CHATBOT"))||void 0===a||a.focus());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o.useEffect((function(){var e,t;if("in-footer"===(null==c||null===(e=c.variables)||void 0===e?void 0:e.buttonsLayout)&&(null!=ue&&null!==(t=ue.messages)&&void 0!==t&&t.length&&ve({from:"bot",messages:[]}),le&&clearTimeout(le),0!==k.length)){var n=(0,V.Z)(k),a=n[n.length-1],r=null!=a&&a.messages?a.messages[a.messages.length-1]:null,l=a.messages.slice(0,a.messages.length-1).reduce((function(e,t){return e+((null==t?void 0:t.delay)||1e3)}),0),o=setTimeout((function(){"choice"===(null==r?void 0:r.type)&&"bot"===(null==a?void 0:a.from)&&ve(a)}),l);oe(o)}}),[k]);var he=null!=ue&&ue.messages?ue.messages[ue.messages.length-1]:null;return ee("div",{className:" vg-w-[95%] vg-h-full vg-footer-container"},ee(P.M,null,"bot"===(null==ue?void 0:ue.from)&&"choice"===(null==he?void 0:he.type)?ee(O.E.div,{initial:{opacity:0,height:0,marginBottom:0},animate:{opacity:1,height:"auto",marginBottom:10},exit:{opacity:0,height:0,marginBottom:0},key:"proactive-message-container"},ee(Y.Z,{isCarousel:!0,messageTurnIndex:999,size:"sm",item:he.item,index:0,className:" vg-tw-ltr vg-proactive-message--btn",containerClassname:" vg-proactive-message-btn-container"})):null),ee("form",{className:" vg-w-full vg-h-full vg-flex vg-items-center vg-m-0 vg-footer-form",onSubmit:function(){var e=(0,B.Z)(L().mark((function e(t){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),pe();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ee(z.Z,{maxRows:5,minRows:1,placeholder:X?"Recording..":R?"Loading..":"",autoComplete:"off",id:"VG_TEXT_INPUT_CHATBOT",onKeyDown:function(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),pe())},classNames:{base:" vg-h-auto vg-border-none vg-shadow-none vg-outline-none vg-footer-input-base",mainWrapper:" vg-py-2 vg-border-none vg-shadow-none vg-outline-none vg-footer-input-main-wrapper",helperWrapper:" vg-py-4 vg-relative vg-border-none vg-shadow-none vg-outline-none vg-footer-input-helper-wrapper",inputWrapper:" vg-h-14 vg-border-none vg-shadow-none vg-outline-none vg-min-h-0 vg-footer-input-wrapper",input:" vg-font-bold vg-text-primary-900 vg-text-[16px] vg-h-[20px] vg-border-none vg-shadow-none vg-outline-none vg-min-h-0 vg-footer-input",label:" vg-text-primary vg-border-none vg-shadow-none vg-outline-none vg-mb-0 vg-footer-input--label"},isDisabled:!fe&&!c.callOngoing&&(!!w&&!(0,h.JB)(k,K.sr)||!(null==c||!c.blockInput)||c.loading&&!c.blockLoading||c.streamingLlm),variant:"flat",className:" vg-text-foreground vg-h-full ",color:"primary",label:ee("div",{className:" vg-flex vg-items-center vg-gap-1 "},ee(U.zYI,{className:" vg-w-4 vg-h-4 "}),ee(b.Z,{text:"Message",to:(null===(t=c.variables)||void 0===t?void 0:t.lang)||"en"})),value:Z,onValueChange:function(e){return E(e)},endContent:ee("div",{className:" vg-flex vg-items-center vg-gap-1 vg-justify-center vg-h-full vg-w-auto vg-mt-[-20px] vg-footer-icons-container",key:"submit-icon-button-thing"},fe?ee(J.Z,{noOptions:!0,bucket:D,callback:function(e){!function(e){me.apply(this,arguments)}(e.url)},className:"vg-footer--attachment vg-w-10 vg-h-10 vg-flex vg-justify-center vg-items-center vg-mr-1 vg-mt-1 "},ee($.G1z,{className:"vg-footer-attachment--icon vg-w-6 vg-h-6 vg-text-primary "})):null,null!=c&&null!==(n=c.variables)&&void 0!==n&&n.enableQuickFileUpload&&"vg"!==(null==c||null===(a=c.variables)||void 0===a?void 0:a.agentPlatform)?ee(J.Z,{withLoading:!0,noOptions:!0,className:" vg-w-10 vg-h-10 ",bucket:D,callback:function(e){var t={from:"human",type:"visual",item:{payload:{image:e.url}},ts:W()().unix()};S({interactPayload:{type:"intent",payload:{entities:[{name:"vg_media_url",value:null==e?void 0:e.url}],intent:{name:"VG_MEDIA_UPLOAD"}}},message:t,vf_variables:{vg_media_url:e.url}})}},ee($.G1z,{className:"vg-footer-attachment--icon vg-w-6 vg-h-6 vg-text-primary "})):null,null!==(r=c.variables)&&void 0!==r&&null!==(r=r.vapi)&&void 0!==r&&r.id&&null!=c&&null!==(s=c.variables)&&void 0!==s&&null!==(s=s.vapiConfig)&&void 0!==s&&s.enableVapiOnWeb?ee(f.Z,{className:"vg-footer-open-vapi",variant:"light",color:"primary",isIconOnly:!0,onPress:function(){g((function(e){return ne(ne({},e),{},{showVapiUI:!0})}))}}," ",ee(N.DsV,{className:" vg-w-5 vg-h-5 vg-flex-shrink-0 "})):null,(null==c||null===(u=c.variables)||void 0===u?void 0:u.enableAudioSupport)&&ee(o.Fragment,null,ee(Q,{setIsRecordingParent:te,buttonProps:{isDisabled:R},onAudioComplete:function(e){!function(e){M(!0),ce(e).then((function(){M(!1)})).catch((function(e){M(!1)}))}(e)},onAudioStart:function(){}})),"default"===(null==de?void 0:de.type)?ee(f.Z,{onPress:function(){g((function(e){var t,n;return ne(ne({},e),{},{notice:ne(ne({},e.notice),{},{custom:ee(x.Z,{divKey:"should_end_chat",className:" vg-absolute vg-bottom-0 vg-w-full vg-h-auto vg-z-50 vg-rounded-large vg-notice-container vg-w-full vg-bg-background/50 vg-backdrop-blur "},ee("div",{className:" vg-p-5 "},ee("div",{className:" vg-flex vg-flex-col vg-gap-2 "},ee(f.Z,{onPress:function(){document.dispatchEvent(new CustomEvent("VG_Events",{detail:{event:"chat_restart",data:{chatOpened:!0,ts:W()().unix()},ts:W()().unix()}})),g((function(e){return ne(ne({},e),{},{reload:!0,notice:ne(ne({},e.notice),{},{custom:""})})}))},variant:"solid",color:"danger"},ee(b.Z,{text:"Refresh the Conversation",to:null===(t=c.variables)||void 0===t?void 0:t.lang})),ee(f.Z,{onPress:function(){g((function(e){return ne(ne({},e),{},{notice:ne(ne({},e.notice),{},{custom:""})})}))},variant:"light",className:" vg-bg-background vg-text-foreground "},ee(b.Z,{text:"Cancel",to:null===(n=c.variables)||void 0===n?void 0:n.lang})))))})})}))},isIconOnly:!0,className:"vg-footer-reload vg-flex vg-justify-center vg-items-center vg-mr-1 vg-mt-1 ",color:"primary",variant:"light"},ee(A.Ilr,{className:"vg-footer-reload--icon vg-w-4 vg-h-4 vg-text-primary "})):null,"intent"===(null==de?void 0:de.type)?ee(f.Z,{onPress:function(){de.viewValue?d(de.viewValue,{type:"intent",payload:{entities:[],intent:{name:de.viewValue},name:de.viewValue,query:de.viewValue}}):y("Intent value is null","fail",2500)},isIconOnly:!0,className:"vg-footer-reload vg-flex vg-justify-center vg-items-center vg-mr-1 vg-mt-1 ",color:"primary",variant:"light"},ee(p.Z,{className:" vg-w-5 vg-h-5 vg-object-cover ",src:(null==de?void 0:de.iconLink)||"https://firebasestorage.googleapis.com/v0/b/voiceglow-eu/o/BsStars.svg?alt=media&token=5ef66b51-19c2-4a15-bfd3-18d41b6323c7"})):null,"link"===(null==de?void 0:de.type)?ee(f.Z,{onPress:function(){de.viewValue||y("Link value is null","fail",2500),window.open(de.viewValue,"_blank")},isIconOnly:!0,className:"vg-footer-reload vg-flex vg-justify-center vg-items-center vg-mr-1 vg-mt-1 ",color:"primary",variant:"light"},ee(p.Z,{className:" vg-w-5 vg-h-5 vg-object-cover ",src:de.iconLink||"https://firebasestorage.googleapis.com/v0/b/voiceglow-eu/o/BsStars.svg?alt=media&token=5ef66b51-19c2-4a15-bfd3-18d41b6323c7"})):null,ee(f.Z,{onPress:function(){return pe()},isDisabled:0===Z.length,isIconOnly:!0,className:"vg-footer-submit vg-flex vg-justify-center vg-items-center vg-mt-1 ",color:"primary",variant:"solid"},ee(N.yhK,{className:"vg-footer-submit--icon vg-w-4 vg-h-4 vg-text-white "})))})))};n(49472);var re=n(15553),le=n(66653),oe=n(89583),ie=o.createElement;function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ve=[{key:"home",label:"Home",icon:ie(le.Noz,{className:" vg-w-6 vg-h-6 vg-flex-shrink-0 "})},{key:"convos",label:"Chats",icon:ie(N._j0,{className:" vg-w-6 vg-h-6 vg-flex-shrink-0 "})},{key:"faq",label:"FAQ",icon:ie(oe.MXt,{className:" vg-w-6 vg-h-6 vg-flex-shrink-0 "})}];const ce=function(e){var t,n=(0,i.useRuntime)(),a=n.runtime,r=n.setRuntime;o.useEffect((function(){var e,t;null!=a&&a.tabKey||null==a||null===(e=a.variables)||void 0===e||null===(e=e.tabs)||void 0===e||!e.length||"tabs"!==(null==a||null===(t=a.variables)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.widgetType)||r((function(e){return ue(ue({},e),{},{selectedSessionId:""})}))}),[null==a?void 0:a.tabKey]);var l=(null==a||null===(t=a.variables)||void 0===t||null===(t=t.tabs)||void 0===t?void 0:t.filter((function(e){return!(null!=e&&e.hide)})))||ve;return ie("div",{className:" vg-w-full vg-h-full vg-flex vg-gap-2 vg-px-2 "},l.map((function(e,t){var n;return ie(f.Z,{style:{width:100/l.length+"%"},variant:"light",isIconOnly:!0,color:a.tabKey===e.key?"primary":"default",key:e.key,className:" vg-w-auto vg-h-auto vg-py-2 vg-flex vg-flex-col vg-gap-2 vg-items-center vg-justify-center vg-w-1/3 ".concat(a.tabKey===e.key?" vg-text-primary ":" vg-bg-background vg-text-foreground-500 "," vg-cursor-pointer "),onPress:function(){var t;"convos"!==(t=e.key)&&"faq"!==t&&"home"!==t||r((function(e){return ue(ue({},e),{},{selectedSessionId:""})})),r((function(t){return ue(ue({},t),{},{tabKey:e.key})}))}},e.iconUrl?ie(j.Z,{src:e.iconUrl,alt:e.label,className:" vg-w-6 vg-h-6 vg-flex-shrink-0 "}):null==ve||null===(n=ve.find((function(t){return t.key===e.key})))||void 0===n?void 0:n.icon,ie("p",{className:" vg-text-xs vg-leading-[100%] vg-mt-2 "},e.label))})))};var ge=o.createElement;const de=function(e){var t,n,a,r,s,u=(0,i.useRuntime)().runtime,v=(0,m.B)().safeOwnerData;return ge(O.E.div,{transition:{type:"spring",stiffness:600,damping:60,mass:.6},animate:{height:"auto"},className:" vg-bg-gradient-to-b ".concat("convos"!==(null==u?void 0:u.tabKey)?" vg-from-background/75 ":" vg-from-background/25 "," vg-to-background/90 vg-backdrop-blur vg-w-full vg-mx-auto vg-border-t vg-border-t-primary-100 vg-py-3 vg-absolute vg-bottom-0 vg-z-[250] vg-footer-mother-container")},"tabs"!==(null==u||null===(t=u.variables)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.widgetType)||null!=u&&u.selectedSessionId&&"convos"===u.tabKey?ge("div",{className:" vg-w-full vg-h-auto vg-flex vg-flex-col vg-justify-center vg-items-center vg-footer-inner-container"},ge(ae,e)):ge(ce,null),ge("p",{className:" vg-text-small vg-mt-1 vg-opacity-75 vg-footer-branding vg-text-center vg-w-full vg-mb-[-5px] "},(null==v||null===(n=v.internal)||void 0===n||n.joinedAtConfig,r=!e.hasEverPaid&&re.SHOULD_LTS_WORK?hl:(null===(a=u.variables)||void 0===a?void 0:a.branding)||"",s=r.split(" ").flatMap((function(e,t){if(e.match(/^https?:\/\/\S+$/))return null;var n=e.split(":"),a=(0,l.Z)(n,2),r=a[0],i=a[1];return i?ge(o.Fragment,null," ",ge("a",{key:t,href:"https://".concat(i),target:"_blank"},r.replaceAll("_"," "))):0===t?"".concat(e," "):" ".concat(e)})),ge(o.Fragment,null,s))))};var me=n(36103),fe=n(37106),pe=o.createElement;function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ye=function(e){var t,n=(0,i.useRuntime)().runtime;return pe(f.Z,{color:"primary",variant:"light",className:" vg-py-4 vg-text-primary-900 ".concat(e.fromConvos?" vg-w-full ":" vg-px-4 vg-w-[88%] "," vg-backdrop-blur vg-bg-primary-50/80 vg-border vg-border-primary-100 vg-hover:opacity-100 vg-data-[hover=true]:bg-primary-50 vg-mx-auto vg-flex vg-justify-between vg-gap-2 vg-items-center vg-home--button"),onPress:e.onPress},pe("div",{className:" vg-flex vg-items-center vg-gap-2 "},e.icon,pe(b.Z,{to:null==n||null===(t=n.variables)||void 0===t?void 0:t.lang,className:" vg-font-bold "},e.label)),pe(y.sOJ,{className:" vg-w-5 vg-h-5 vg-flex-shrink-0 "}))};const we=function(e){var t,n,a,r,l,s=(0,i.useRuntime)(),u=s.runtime,v=s.setRuntime,c=s.formattedTurnsValue,g=s.handleRequestHandoffInit,d=s.handlePushMessage,m=null==u||null===(t=u.variables)||void 0===t||null===(t=t.tabs)||void 0===t?void 0:t.find((function(e){return"home"===e.key}));return pe("div",{style:{marginTop:null!=m&&null!==(n=m.homeSpecific)&&void 0!==n&&n.headerHeight?(null==m||null===(a=m.homeSpecific)||void 0===a?void 0:a.headerHeight)-25:"-25px"},className:" vg-h-auto vg-pb-5 vg-relative vg-w-[90%] vg-mx-auto vg-z-[20] vg-w-full vg-flex vg-flex-col vg-gap-3 vg-home-tab"},null==m||null===(r=m.homeSpecific)||void 0===r||null===(r=r.buttons)||void 0===r?void 0:r.map((function(e,t){var n,a;return e.show?"recentConvo"===e.key?pe("div",{className:" vg-w-[88%] vg-mx-auto vg-relative vg-home-recent"},pe(ke,{key:e.key,fromHome:!0,session:c,index:0})):pe("div",null,pe(ye,{key:e.key,onPress:function(){"liveCall"===e.key&&v((function(e){return he(he({},e),{},{showVapiUI:!e.showVapiUI,tabKey:"convos",selectedSessionId:"".concat(u.userID)})})),"directHandoff"===e.key&&(v((function(e){return he(he({},e),{},{selectedSessionId:"".concat(u.userID),tabKey:"convos"})})),g({actionMessage:null,instant:null})),"askQuestion"===e.key&&v((function(e){return he(he({},e),{},{selectedSessionId:"".concat(u.userID),tabKey:"convos"})}))},label:e.label,icon:e.iconUrl?pe(j.Z,{src:e.iconUrl}):"recentConvo"===e.key?pe(fe.Rwq,{className:" vg-w-5 vg-h-5 vg-flex-shrink-0 "}):"liveCall"===e.key?pe(fe.ri8,{className:" vg-w-5 vg-h-5 vg-flex-shrink-0 "}):"directHandoff"===e.key?pe(y.AMb,{className:" vg-w-5 vg-h-5 vg-flex-shrink-0 "}):"askQuestion"===e.key?pe(fe.Rwq,{className:" vg-w-5 vg-h-5 vg-flex-shrink-0 "}):null}),"askQuestion"===e.key&&null!=e&&null!==(n=e.iceBreakers)&&void 0!==n&&n.length?pe("div",{className:" vg-w-[88%] vg-mx-auto vg-overflow-x-auto vg-flex vg-gap-2 vg-mt-2 "},null===(a=e.iceBreakers)||void 0===a?void 0:a.map((function(e,t){var n;return pe(o.Fragment,null,pe(f.Z,{onPress:function(){v((function(e){return he(he({},e),{},{selectedSessionId:"".concat(u.userID),tabKey:"convos"})})),d(e)},variant:"faded",color:"primary",size:"sm",className:" vg-flex-shrink-0 vg-text-tiny vg-home-icebreaker vg-data-[hover=true]:opacity-100 vg-container-snap-chat "},pe(b.Z,{to:null===(n=u.variables)||void 0===n?void 0:n.lang},e)))}))):null):null})),null!=m&&null!==(l=m.homeSpecific)&&void 0!==l&&l.showRecentConvo?pe("div",{className:" vg-w-[88%] vg-mx-auto vg-relative vg-home-recent"},pe(ke,{fromHome:!0,session:c,index:0})):null,null!=m&&m.iframeUrl?pe("iframe",{style:{height:(null==m?void 0:m.iframeHeight)||500},id:"home-iframe",className:" vg-w-[88%] vg-mx-auto vg-mt-2 vg-iframe",src:null==m?void 0:m.iframeUrl}):null)};var xe=n(51649),Oe=o.createElement;function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ke=function(e){for(var t,n,a,r,s,u,v=o.useState(!1),c=(0,l.Z)(v,2),g=(c[0],c[1]),d=(0,i.useRuntime)(),m=d.runtime,p=d.setRuntime,w=(0,i.useRuntime)().confirmedBucket,x=e.session,O=x[x.length-1],P=x.length-1;P>=0;P--){var N=x[P];if(N.messages.find((function(e){return"text"===e.type}))){O=N;break}}var k=null===(t=O)||void 0===t||null===(t=t.messages)||void 0===t?void 0:t.findLast((function(e){if("text"===e.type)return e}));function D(){return D=(0,B.Z)(L().mark((function e(t){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,fetch("".concat((0,h.MC)({region:"voiceglow-eu"===w?"eu":"na"}),"/agents/").concat(null==m?void 0:m.variables.ID,"/convos/").concat(m.userID,"/sessions/").concat(t[0].session_id,"/rollback"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session:t,safeAgentData:m.variables})});case 4:200===e.sent.status&&p((function(e){return Ne(Ne({},e),{},{selectedSessionId:t[0].session_id})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1);case 11:g(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),D.apply(this,arguments)}var S=o.useMemo((function(){var e=null==m?void 0:m.orgUsers;return null==e?void 0:e.sort((function(e,t){return"online"===e.status&&"online"!==t.status?-1:"online"!==e.status&&"online"===t.status?1:0})).slice(0,3)}),[null==m?void 0:m.orgUsers]);return Oe(f.Z,{color:"default",variant:"light",isIconOnly:!0,onPress:function(){e.fromHome?p((function(e){return Ne(Ne({},e),{},{tabKey:"convos",selectedSessionId:null==m?void 0:m.userID})})):function(e){return D.apply(this,arguments)}(e.session).then((function(){}))},key:e.key||e.index,className:" ".concat(e.fromHome?" vg-backdrop-blur vg-bg-primary-50/80 vg-data-[hover=true]:bg-primary-50/90 vg-border vg-border-primary-100 vg-flex vg-flex-col vg-items-center vg-justify-between vg-w-full vg-h-auto vg-px-3 vg-gap-3 vg-w-full vg-border vg-whitespace-normal vg-py-3 ":" vg-flex vg-items-center vg-justify-between vg-w-full vg-h-auto vg-px-3 vg-gap-3 vg-w-full vg-border vg-border-foreground-300 vg-whitespace-normal vg-py-3 vg-mx-1 "," ")},e.fromHome?Oe(b.Z,{to:null==m||null===(n=m.variables)||void 0===n?void 0:n.lang,className:" vg-w-full vg-font-bold vg-text-left vg-mb-2 "},"Recent Conversation"):null,Oe("div",{className:" vg-flex vg-items-center vg-justify-between vg-w-full vg-h-auto vg-gap-3 vg-w-full "},Oe("div",{className:" vg-flex vg-item-center vg-whitespace-normal vg-grow vg-gap-2 vg-w-[50%] "},Oe("div",{className:" vg-flex vg-justify-start vg-items-center vg-live-agents--avatars-container"},null==S?void 0:S.map((function(e,t){return Oe("div",{style:{zIndex:S.length-t},key:"human_agent_".concat(t),className:" vg-relative vg-w-auto vg-live-agents--avatar"},Oe(j.Z,{className:" vg-w-[35px] vg-h-[35px] vg-relative vg-border vg-border-2 vg-border-background ".concat(0!==t?" vg-ml-[-15px] ":" "," vg-live-agents--avatar-img"),size:"sm",src:e.squarePhotoURL}),Oe("div",{className:" vg-w-2 vg-h-2 vg-absolute vg-bottom-1 vg-right-1 vg-rounded-full ".concat("online"===e.status?" vg-bg-green-500 ":" vg-bg-gray-500 "," vg-live-agents--avatar-status")}))}))),Oe("div",{className:" vg-flex vg-flex-col vg-gap-1 vg-items-start vg-justify-start vg-w-[50%] "},Oe("p",{className:" vg-text-sm vg-text-left vg-truncate vg-w-52 vg-overflow-hidden vg-leading-[100%] "},null!=k&&null!==(a=k.item)&&void 0!==a&&null!==(a=a.payload)&&void 0!==a&&a.message?null==k||null===(r=k.item)||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.message:Oe(me.Z,{className:" vg-w-42 vg-h-4 vg-rounded-large "})),Oe("p",{className:" vg-text-xs vg-opacity-80 vg-leading-[100%] "},null!==(s=O)&&void 0!==s&&s.ts?W().unix(null===(u=O)||void 0===u?void 0:u.ts).fromNow():Oe(me.Z,{className:" vg-w-20 vg-h-4 vg-rounded-large "})))),Oe("div",{className:" vg-flex vg-flex-row vg-items-center vg-justify-end "},Oe(y.sOJ,{className:" vg-w-5 vg-h-5 vg-text-foreground "}))))};const je=function(e){var t,n,a,r,s,u=(0,i.useRuntime)(),v=u.runtime,c=u.setRuntime,g=u.formattedTurnsValue,d=o.useState(null),m=(0,l.Z)(d,2),f=(m[0],m[1],o.useMemo((function(){var e;return null==v||null===(e=v.sessions)||void 0===e?void 0:e.filter((function(e,t){var n,a,r,l,o,i;return(null===(n=g[0])||void 0===n?void 0:n.session_id)!==(null===(a=e[0])||void 0===a?void 0:a.session_id)&&(!!("vg"===(null==v||null===(r=v.variables)||void 0===r?void 0:r.agentPlatform)||null!==(l=e[0])&&void 0!==l&&l.vf_stack&&null!==(o=e[0])&&void 0!==o&&o.session_id)&&(null!==(i=e[0])&&void 0!==i&&i.session_id?(null==e?void 0:e.length)>0&&e.find((function(e){return"human"===e.from})):void 0))}))}),[v.sessions]));return Oe(x.Z,{className:" vg-mx-auto vg-w-[90%] vg-flex vg-flex-col vg-gap-2 vg-py-5 "},Oe(ye,{fromConvos:!0,icon:Oe(xe.qAq,{className:" vg-w-5 vg-h-5 vg-flex-shrink-0 "}),label:"New Chat",onPress:function(){c((function(e){return Ne(Ne({},e),{},{selectedSessionId:null==v?void 0:v.userID,reload:!0})}))}}),Oe(ke,{index:-1,session:g,fromHome:!0}),Oe("div",null,Oe(b.Z,{to:null==v||null===(t=v.variables)||void 0===t?void 0:t.lang,className:" vg-text-small vg-opacity-80 vg-mb-2 "},"Previous conversations"),Oe("div",{className:" vg-flex vg-flex-col vg-gap-2 "},null==f||null===(n=f.slice(0,10))||void 0===n?void 0:n.map((function(e,t){return Oe(ke,{key:t,session:e,index:t})})),null==f||null===(a=f.slice(0,10))||void 0===a?void 0:a.map((function(e,t){return Oe(ke,{key:t,session:e,index:t})})),null==f||null===(r=f.slice(0,10))||void 0===r?void 0:r.map((function(e,t){return Oe(ke,{key:t,session:e,index:t})}))),null!=f&&f.length?null:Oe(x.Z,{key:"no-recent-conversations",className:" vg-flex vg-flex-col vg-gap-2 vg-items-center vg-justify-center vg-w-full vg-h-auto vg-py-10 vg-convos-tab--no-recent-conversations"},Oe(b.Z,{to:null==v||null===(s=v.variables)||void 0===s?void 0:s.lang},"No conversations"))))};var De=n(7860),Se=n(10695),Ce=o.createElement;function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ee=function(e){var t,n,a,r,l,s,u,v,c,g=(0,m.B)().config,d=(0,i.useRuntime)().runtime,f=d.isSuperAdmin,y=o.useMemo((function(){var e,t,n;return(null==d||null===(e=d.variables)||void 0===e?void 0:e.bannerImageUrl)||(null==d||null===(t=d.variables)||void 0===t?void 0:t.avatarImageUrl)||(null===(n=d.variables)||void 0===n?void 0:n.roundedImageURL)||"https://static.vecteezy.com/system/resources/previews/005/337/802/non_2x/icon-symbol-chat-outline-illustration-free-vector.jpg"}),[null===(t=d.variables)||void 0===t?void 0:t.roundedImageURL,null==d||null===(n=d.variables)||void 0===n?void 0:n.avatarImageUrl,null==d||null===(a=d.variables)||void 0===a?void 0:a.bannerImageUrl,null===(r=d.variables)||void 0===r?void 0:r.theme]);return Ce(x.Z,{className:" vg-mt-10 vg-flex vg-flex-col vg-justify-center vg-items-center vg-gap-2 vg-w-[80%] vg-mx-auto vg-chat-header--container",divKey:"chat_top_banner"},f?Ce(J.Z,{callback:function(t){e.setLocalData((function(e){return Ze(Ze({},e),{},{bannerImageUrl:t.url})}))}},Ce(p.Z,{classNames:{wrapper:" vg-rounded-full vg-overflow-none "},className:" vg-w-18 vg-h-18 vg-rounded-full vg-object-cover vg-chat-header--image",src:y})):Ce(p.Z,{classNames:{wrapper:" vg-rounded-full vg-overflow-none "},className:" vg-w-18 vg-h-18 vg-rounded-full vg-object-cover vg-chat-header--image",src:y}),Ce("div",{className:" vg-text-center vg-chat-header--inner"},Ce("p",{className:" vg-text-large vg-font-bold vg-chat-header--title"},null===(l=d.variables)||void 0===l?void 0:l.title),null!==(s=d.variables)&&void 0!==s&&s.description?Ce(b.Z,{to:null==d||null===(u=d.variables)||void 0===u?void 0:u.lang,text:"full-width"===(null==g?void 0:g.render)?null==d||null===(v=d.variables)||void 0===v?void 0:v.description:(0,h.MB)((null===(c=d.variables)||void 0===c?void 0:c.description)||"",350)||"",className:" vg-text-small vg-opacity-80 vg-chat-header--desc"}):null))};var _e=n(46985),Te=o.createElement;const Re=function(e){var t,n,a,r,s,u,v,c,g=(0,i.useRuntime)(),d=g.runtime,m=(g.handlePushMessage,g.formattedTurnsValue),f=o.useState(!1),b=(0,l.Z)(f,2),y=b[0],w=b[1],x=m.length-1,O=o.useState(!1),P=(0,l.Z)(O,2),N=(P[0],P[1]);return Te("div",{id:e.domID,key:e.key,className:" vg-flex vg-flex-col vg-w-72 vg-h-auto vg-object-cover vg-border vg-border-primary-100 vg-rounded-large vg-bg-gradient-to-t vg-from-content2 vg-to-content2 vg-card"},e.imageUrl&&Te("div",{className:" vg-w-full vg-h-full vg-rounded-large vg-overflow-none vg-relative "},!y&&Te(me.Z,{className:" vg-w-full vg-h-full vg-rounded-large vg-absolute vg-z-[10] vg-top-0 vg-left-0 "}),Te(p.Z,{disableSkeleton:!0,onLoad:function(){return w(!0),void N(!1)},className:" vg-aspect-video vg-w-full vg-h-auto ".concat(y?" vg-object-cover ":" vg-aspect-video vg-w-72 vg-h-full vg-overflow-none vg-rounded-[20px] "," vg-rounded-large vg-card-image"),alt:"Image",src:null!==(t=e.imageUrl)&&void 0!==t&&t.includes("https://")?e.imageUrl:"https://".concat(e.imageUrl)})),Te("div",{className:" vg-p-0 vg-m-0 vg-card--content"},(e.title||(null===(n=e.description)||void 0===n?void 0:n.text)||0!==(null===(a=e.buttons)||void 0===a?void 0:a.length))&&Te("div",{className:" ".concat(e.title||null!==(r=e.description)&&void 0!==r&&r.text?" vg-px-4 vg-py-2 ":" vg-pb-3 "," vg-flex vg-flex-col vg-mt-2 vg-card-inner")},(e.title||(null===(s=e.description)||void 0===s?void 0:s.text))&&Te("div",{className:" vg-flex vg-flex-col vg-gap-1 vg-mb-3 "},null!=e&&e.title?Te(_e.Z,{className:" vg-font-bold vg-text-foreground vg-mb-1 vg-leading-[100%] vg-card-title"},e.title):null,null!=e&&null!==(u=e.description)&&void 0!==u&&u.text?Te(_e.Z,{className:" vg-text-small vg-opacity-80 vg-text-foreground vg-leading-[135%] vg-card-desc"},null!==(v=e.description)&&void 0!==v&&v.text?(0,h.MB)(null===(c=e.description)||void 0===c?void 0:c.text,500):""):null),Te(Y.Z,{noAnimation:!0,isDisabled:(null==e||e.turnIndex,d.manualControl),inCard:!0,item:{payload:{buttons:e.buttons}},index:x,messageTurnIndex:e.turnIndex}))))};var Me=n(63750),Ve=n(94653),Be=o.createElement;const Fe=function(e){var t,n,r,i=o.useState(0),s=(0,l.Z)(i,2),u=s[0],v=s[1],c=o.useState(!1),g=(0,l.Z)(c,2),d=g[0],m=g[1],p=o.useState(!1),b=(0,l.Z)(p,2),h=b[0],y=b[1],w=o.useState(!1),O=(0,l.Z)(w,2),N=O[0],k=O[1],j=o.useRef(null);return o.useEffect((function(){if(!N){var t,n=j.current.scrollLeftMax||j.current.scrollWidth-j.current.clientWidth,a=Math.floor(n/e.cards.length),r=j.current.clientWidth;j.current.scrollTo({left:u*a+r*u/(null===(t=e.cards)||void 0===t?void 0:t.length),behavior:"smooth"})}if(h){var l=setTimeout((function(){y(!1)}),1e3);return function(){clearTimeout(l)}}}),[u]),o.useEffect((function(){var e=setTimeout((function(){k(!1)}),100);return function(){clearTimeout(e)}}),[N,d]),0!==(null==e||null===(t=e.cards)||void 0===t?void 0:t.length)?Be("div",{key:"carousel_container_turn_".concat(e.turnIndex,"_message_").concat(e.messageIndex),onScroll:function(t){m(!0),h||function(t){k(!0);var n=t.target.scrollLeftMax||t.target.scrollWidth-t.target.clientWidth;if(!h&&d){var a,r;if(0===t.target.scrollLeft)return v(0);if(t.target.scrollLeft===n)return v((null===(r=e.cards)||void 0===r?void 0:r.length)-1);var l=Math.floor(t.target.scrollLeft*(null===(a=e.cards)||void 0===a?void 0:a.length)/n);v((function(t){var n;return"number"==typeof l&&l<=(null===(n=e.cards)||void 0===n?void 0:n.length)-1&&l>=0?l:t}))}}(t)},ref:j,className:" vg-overflow-x-auto vg-flex vg-flex-row vg-overflow-y-hidden vg-w-full vg-h-auto vg-container-snap vg-mt-2 vg-carousel-container"},Be("div",{className:" vg-absolute vg-top-1/2 vg-transform vg--translate-y-1/2 vg-z-20 vg-left-5 vg-w-auto vg-carousel-back-control"},Be(P.M,null,0!==u&&d&&Be(x.Z,{key:"carousel__controls_turn_".concat(e.turnIndex,"_decrement")},Be(f.Z,{onPress:function(){k(!1),y(!0),v((function(e){return 0===u||isNaN(e-1)?0:e-1}))},isIconOnly:!0,className:" vg-rounded-full vg-bg-content2 vg-border vg-shadow "},Be(Me.M_S,{className:" vg-w-4 vg-h-4 vg-opacity-80 "}))))),Be("div",{className:" vg-absolute vg-top-1/2 vg-transform vg--translate-y-1/2 vg-right-5 vg-w-fit vg-z-20 vg-carousel-next-control"},Be(P.M,null,u!==(null==e||null===(n=e.cards)||void 0===n?void 0:n.length)-1&&Be(x.Z,{key:"carousel__controls_turn_".concat(e.turnIndex,"_increment")},Be(f.Z,{onPress:function(){k(!1),m(!0),y(!0),v((function(t){var n,a;return u===(null===(n=e.cards)||void 0===n?void 0:n.length)-1||isNaN(t+1)?(null===(a=e.cards)||void 0===a?void 0:a.length)-1:t+1}))},isIconOnly:!0,className:" vg-rounded-full vg-bg-content2 vg-border vg-shadow "},Be(Me.E8f,{className:" vg-w-4 vg-h-4 vg-opacity-80 "}))))),Be("div",{className:" vg-flex vg-h-full vg-gap-4 vg-pr-4 vg-relative vg-carousel-container"},Be("div",{className:" vg-ml-4 vg-md:ml-6 vg-message-avatar-container"},Be(Ve.Z,{key:"carousel_chat_avatar_turn_".concat(e.turnIndex,"_message_").concat(e.messageIndex)})),null==e||null===(r=e.cards)||void 0===r?void 0:r.map((function(t,n){return Be("div",{key:"carousel_card_turn_".concat(e.turnIndex,"_message_").concat(e.messageIndex,"_").concat(n),className:" vg-w-72 vg-h-auto vg-card-container"},Be(Re,(0,a.Z)({},t,{turnIndex:e.turnIndex,domID:"carousel_card_turn_".concat(e.turnIndex,"_message_").concat(e.messageIndex,"_").concat(n),key:"carousel_card_turn_".concat(e.turnIndex,"_message_").concat(e.messageIndex,"_").concat(n)})))})),Be("div",{className:" vg-w-5 "}))):null};var Le=n(46271),ze=n(13356),Ae=n(13068),Ue=n(73711),Ge=n(71257),We=o.createElement;function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ke=function(e){var t,n,r,s,u,v,c,g=(0,i.useRuntime)(),d=g.runtime,f=(g.setRuntime,g.pushChatNotice),p=g.confirmedBucket,y=((0,m.B)().config,(0,o.useState)(e.default||null)),x=y[0],O=y[1],P=(0,o.useState)(!1),N=P[0],k=P[1],j=(0,o.useState)(0),D=j[0],S=j[1],C=(0,o.useState)(0),I=C[0],Z=C[1],E=o.useState({fileName:!1}),_=(0,l.Z)(E,2),T=_[0],R=_[1],M=(0,Le.cF)(Ue.l2,"voiceglow-cdn");o.useEffect((function(){return function(){I&&(null==I||I.cancel())}}),[I]);var V=function(){var t=(0,B.Z)(L().mark((function t(n){var a,r,l,o,i,s,u,v,c;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isDisabled){t.next=2;break}return t.abrupt("return");case 2:if(O(!1),e.onStartUpload&&e.onStartUpload(),r=n[0],l=r.size,o=Math.ceil(l/1e6),i="/public",(null===(a=r.name)||void 0===a||null===(a=a.split(".")[1])||void 0===a?void 0:a.toLowerCase())||!1,!e.maxSizeMB){t.next=13;break}if(!(1e6*e.maxSizeMB<l)){t.next=13;break}return f("Max size: ".concat(e.maxSizeMB,"MB"),"fail",2e3),t.abrupt("return");case 13:s=Math.random().toString(36).slice(2,10),u="".concat(i,"/").concat(s,".").concat(r.name.split(".")[1]),v=(0,Le.iH)(M,"".concat(u)),c=(0,Le.B0)(v,r,{cacheControl:"public,max-age=31536000"}),Z(c),c.on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);S(t)}),(function(e){}),(function(){(0,Le.Jt)(v).then(function(){var t=(0,B.Z)(L().mark((function t(n){var a;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.callback&&e.callback({url:n,path:"".concat(i),id:e.id||!1,dbFilePath:u}),O(n),R((function(e){return qe(qe({},e),{},{fileName:r.name})})),k(!1),S(0),!e.consumeLT){t.next=10;break}return t.next=8,Ge.Z.post("".concat((0,H.Sw)({region:"voiceglow-eu"===p?"eu":"na"}),"/public/users/").concat(null==d||null===(a=d.variables)||void 0===a?void 0:a.ownerID,"/consume-credits"),{consume:o||1});case 8:t.sent.data;case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})),k(!0);case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),F=(0,ze.uI)({onDrop:V}),z=F.getRootProps,A=F.getInputProps;return F.isDragActive,We("div",{className:" vg-w-full vg-h-full vg-mx-auto ".concat(x?" vg-bg-primary-400 ":" vg-bg-primary-50 "," vg-p-2 vg-rounded-lg vg-transition-all vg-duration-500 vg-text-primary-800 ").concat(e.isDisabled&&" vg-opacity-75 "," vg-upload-container")},We("div",(0,a.Z)({},z(),{className:" vg-w-full vg-h-full vg-flex-all-center vg-border-dashed vg-border-2 ".concat(x?" vg-border-foreground ":" vg-border-primary-400 "," vg-rounded-lg ").concat(e.className||" "," vg-transition-all vg-duration-500 vg-upload-drop-container")}),We("input",A()),x&&!N&&"img"==e.type?We("img",{className:" vg-w-32 vg-h-32 vg-upload--img-placeholder",src:x}):!x&&!N&&We(w.IEK,{className:" vg-w-12 vg-h-12 vg-upload--icon"}),N?We(o.Fragment,null,We(Ae.Z,{className:" vg-mb-2 vg-upload-spinner",color:"primary"}),We("p",{className:" vg-opacity-50 vg-mb-2 vg-text-small vg-text-center vg-leading-5 vg-upload-text"},We(b.Z,{to:(null===(t=d.variables)||void 0===t?void 0:t.lang)||"en",text:"Uploading.."})," ",We("br",null),We(b.Z,{text:"Please Keep This Tab Open",to:(null===(n=d.variables)||void 0===n?void 0:n.lang)||"en"})),We("div",{className:" vg-w-[80%] vg-h-5 vg-bg-primary-100 vg-rounded-full vg-overflow-hidden vg-mx-auto vg-upload-loading-container"},We("div",{className:" vg-h-full vg-bg-primary-700 vg-relative vg-upload-loading--bar",style:{width:"".concat(D||1,"%")}},We("p",{className:" vg-absolute vg-right-1 vg-top-[2px] vg-text-small vg-text-primary-100 vg-upload-loading--text"},"".concat(D||1,"%"))))):We(o.Fragment,null,x?We("div",{className:" vg-text-white "},We("div",{className:" vg-mb-1 vg-flex vg-items-center vg-font-medium "},We(xe.DVR,{className:" vg-w-4 vg-h-4 vg-mr-2 "}),We("p",null,We(b.Z,{to:(null===(r=d.variables)||void 0===r?void 0:r.lang)||"en",text:"Uploaded Successfully"}))),We("p",{className:" vg-opacity-75 vg-text-center "},(0,h.MB)(T.fileName,20))):We(o.Fragment,null,We("p",{className:" vg-text-small "},We(b.Z,{to:(null===(s=d.variables)||void 0===s?void 0:s.lang)||"en",text:"Drag and Drop Here"})),e.maxSizeMB&&We("p",{className:" vg-opacity-75 vg-mb-3 vg-text-small "},We(b.Z,{to:(null===(u=d.variables)||void 0===u?void 0:u.lang)||"en",text:"Max Size:"})," ",We("strong",null,e.maxSizeMB,"MB")),e.accept?We("p",{className:" vg-opacity-75 vg-text-small "},We(b.Z,{to:(null===(v=d.variables)||void 0===v?void 0:v.lang)||"en",text:"Only"})," ",e.accept.length?e.accept.map((function(e){return e+" "})):""," ",We(b.Z,{to:(null===(c=d.variables)||void 0===c?void 0:c.lang)||"en",text:"Files"})):""))))};var Je=o.createElement;function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const $e=function(e){var t=(0,i.useRuntime)(),n=t.runtime,a=t.setRuntime,r=t.handlePushMessage,s=t.clearNoReplyTimeout,u=o.useState(!1),v=(0,l.Z)(u,2),c=v[0],g=v[1];return o.useEffect((function(){a((function(e){return Qe(Qe({},e),{},{blockInput:!0})}))}),[]),Je("div",{className:" vg-flex vg-flex-col vg-gap-2 vg-w-full vg-bg-transparent vg-message-upload-container"},Je("div",{key:"file_upload_instance_turn".concat(e.turnIndex,"_message").concat(e.messageIndex," vg-message-upload-inner"),className:" vg-w-full vg-h-[175px] "},Je(Ke,{onStartUpload:function(){s()},consumeLT:!0,isDisabled:c,maxSizeMB:30,path:"vg-widgets/".concat(n.variables.ID,"/user-uploads"),callback:function(e){g(!0),a((function(e){return Qe(Qe({},e),{},{blockInput:!1})})),r("".concat(e.url),{type:"text",payload:"".concat(e.url)})}})),Je(f.Z,{isDisabled:c,onPress:function(){g(!0),a((function(e){return Qe(Qe({},e),{},{blockInput:!1})})),r("VG_Cancel",{type:"text",payload:"VG_Cancel"})},className:" vg-py-2 vg-w-full ",color:"danger"},"Cancel"))};var Ye=o.createElement;const et=function(e){return Ye(x.Z,{key:"chat_timestamb_turn_".concat(e.turnIndex,"_message_").concat(e.messageIndex),className:" vg-w-unit-5 vg-h-full vg-flex vg-flex-col vg-items-center vg-justify-center vg-mr-1 "},Ye("p",{className:" vg-text-[10px] vg-opacity-50 vg-whitespace-nowrap vg-text-foreground "},e.ts?W().unix(e.ts).format("MMM DD"):W()().format("HH:mm")),Ye("p",{className:" vg-text-[10px] vg-opacity-50 vg-whitespace-nowrap vg-text-foreground "},e.ts?W().unix(e.ts).format("HH:mm"):W()().format("HH:mm")))};var tt=n(15607),nt=n(73699),at=n(74619),rt=n(87487),lt=n(33899),ot=(0,rt.tv)({slots:{base:" vg-group vg-relative vg-max-w-fit vg-inline-flex vg-items-center vg-justify-start vg-cursor-pointer vg-tap-highlight-transparent vg-p-2 vg--m-2 ",wrapper:[" vg-relative "," vg-inline-flex "," vg-items-center "," vg-justify-center "," vg-flex-shrink-0 "," vg-overflow-hidden "," vg-before:content-[''] "," vg-before:absolute "," vg-before:inset-0 "," vg-before:border-solid "," vg-before:border-2 "," vg-before:box-border "," vg-before:border-default "," vg-after:content-[''] "," vg-after:absolute "," vg-after:inset-0 "," vg-after:scale-50 "," vg-after:opacity-0 "," vg-after:origin-center "," vg-group-data-[selected=true]:after:scale-100 "," vg-group-data-[selected=true]:after:opacity-100 "," vg-group-data-[hover=true]:before:bg-default-100 "].concat((0,V.Z)(lt.ID)),icon:" vg-z-10 vg-w-4 vg-h-3 vg-opacity-0 vg-group-data-[selected=true]:opacity-100 ",label:" vg-relative vg-text-foreground vg-select-none "},variants:{color:{default:{wrapper:" vg-after:bg-default vg-after:text-default-foreground vg-text-default-foreground "},primary:{wrapper:" vg-after:bg-primary vg-after:text-primary-foreground vg-text-primary-foreground "},secondary:{wrapper:" vg-after:bg-secondary vg-after:text-secondary-foreground vg-text-secondary-foreground "},success:{wrapper:" vg-after:bg-success vg-after:text-success-foreground vg-text-success-foreground "},warning:{wrapper:" vg-after:bg-warning vg-after:text-warning-foreground vg-text-warning-foreground "},danger:{wrapper:" vg-after:bg-danger vg-after:text-danger-foreground vg-text-danger-foreground "}},size:{sm:{wrapper:[" vg-w-4 vg-h-4 vg-mr-2 "," vg-rounded-[calc(theme(borderRadius.medium)*0.5)] "," vg-before:rounded-[calc(theme(borderRadius.medium)*0.5)] "," vg-after:rounded-[calc(theme(borderRadius.medium)*0.5)] "],label:" vg-text-small ",icon:" vg-w-3 vg-h-2 "},md:{wrapper:[" vg-w-5 vg-h-5 vg-mr-2 "," vg-rounded-[calc(theme(borderRadius.medium)*0.6)] "," vg-before:rounded-[calc(theme(borderRadius.medium)*0.6)] "," vg-after:rounded-[calc(theme(borderRadius.medium)*0.6)] "],label:" vg-text-medium ",icon:" vg-w-4 vg-h-3 "},lg:{wrapper:[" vg-w-6 vg-h-6 vg-mr-2 "," vg-rounded-[calc(theme(borderRadius.medium)*0.7)] "," vg-before:rounded-[calc(theme(borderRadius.medium)*0.7)] "," vg-after:rounded-[calc(theme(borderRadius.medium)*0.7)] "],label:" vg-text-large ",icon:" vg-w-5 vg-h-4 "}},radius:{none:{wrapper:" vg-rounded-none vg-before:rounded-none vg-after:rounded-none "},sm:{wrapper:[" vg-rounded-[calc(theme(borderRadius.medium)*0.5)] "," vg-before:rounded-[calc(theme(borderRadius.medium)*0.5)] "," vg-after:rounded-[calc(theme(borderRadius.medium)*0.5)] "]},md:{wrapper:[" vg-rounded-[calc(theme(borderRadius.medium)*0.6)] "," vg-before:rounded-[calc(theme(borderRadius.medium)*0.6)] "," vg-after:rounded-[calc(theme(borderRadius.medium)*0.6)] "]},lg:{wrapper:[" vg-rounded-[calc(theme(borderRadius.medium)*0.7)] "," vg-before:rounded-[calc(theme(borderRadius.medium)*0.7)] "," vg-after:rounded-[calc(theme(borderRadius.medium)*0.7)] "]},full:{wrapper:" vg-rounded-full vg-before:rounded-full vg-after:rounded-full "}},lineThrough:{true:{label:[" vg-inline-flex "," vg-items-center "," vg-justify-center "," vg-before:content-[''] "," vg-before:absolute "," vg-before:bg-foreground "," vg-before:w-0 "," vg-before:h-0.5 "," vg-group-data-[selected=true]:opacity-60 "," vg-group-data-[selected=true]:before:w-full "]}},isDisabled:{true:{base:" vg-opacity-disabled vg-pointer-events-none "}},isInvalid:{true:{wrapper:" vg-before:border-danger ",label:" vg-text-danger "}},disableAnimation:{true:{wrapper:" vg-transition-none ",icon:" vg-transition-none ",label:" vg-transition-none "},false:{wrapper:[" vg-before:transition-colors "," vg-group-data-[pressed=true]:scale-95 "," vg-transition-transform "," vg-after:transition-transform-opacity "," vg-after:!ease-linear "," vg-after:!duration-200 "," vg-motion-reduce:transition-none "],icon:" vg-transition-opacity vg-motion-reduce:transition-none ",label:" vg-transition-colors-opacity vg-before:transition-width vg-motion-reduce:transition-none "}}},defaultVariants:{color:"primary",size:"md",isDisabled:!1,lineThrough:!1,disableAnimation:!1}}),it=(0,rt.tv)({slots:{base:" vg-relative vg-flex vg-flex-col vg-gap-2 ",label:" vg-relative vg-text-medium vg-text-foreground-500 ",wrapper:" vg-flex vg-flex-col vg-flex-wrap vg-gap-2 vg-data-[orientation=horizontal]:flex-row ",description:" vg-text-small vg-text-foreground-400 ",errorMessage:" vg-text-small vg-text-danger "},variants:{isRequired:{true:{label:" vg-after:content-['*'] vg-after:text-danger vg-after:ml-0.5 "}},isInvalid:{true:{description:" vg-text-danger "}},disableAnimation:{true:{},false:{description:" vg-transition-colors vg-!duration-150 vg-motion-reduce:transition-none "}}},defaultVariants:{isInvalid:!1,isRequired:!1,disableAnimation:!1}}),st=n(18419),ut=n(68552),vt=n(2459),ct=n(61476),gt=n(11086),dt=n(33295),mt=n(50262),ft=n(52046),pt=n(54720),bt=n(49869),ht=n(4446),yt=n(69538),wt=n(46347),xt=(0,wt.k)({name:"CheckboxGroupContext",strict:!1}),Ot=(0,l.Z)(xt,2),Pt=Ot[0],Nt=Ot[1],kt=["as","ref","value","children","icon","name","isRequired","isReadOnly","autoFocus","isSelected","validationState","size","color","radius","lineThrough","isDisabled","disableAnimation","isInvalid","isIndeterminate","defaultSelected","classNames","onChange","className","onValueChange"];function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var St=["isSelected","disableAnimation"],Ct=["isSelected","disableAnimation"],It=["isIndeterminate"],Zt=o.createElement;function Et(e){var t=e.isSelected,n=e.disableAnimation,r=(0,v.Z)(e,St);return Zt("svg",(0,a.Z)({"aria-hidden":"true",role:"presentation",viewBox:"0 0 17 18"},r),Zt("polyline",{fill:"none",points:"1 9 7 14 15 4",stroke:"currentColor",strokeDasharray:22,strokeDashoffset:t?44:66,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,style:!n&&t?{transition:"stroke-dashoffset 250ms linear 0.2s"}:{}}))}function _t(e){e.isSelected,e.disableAnimation;var t=(0,v.Z)(e,Ct);return Zt("svg",(0,a.Z)({stroke:"currentColor",strokeWidth:3,viewBox:"0 0 24 24"},t),Zt("line",{x1:"21",x2:"3",y1:"12",y2:"12"}))}function Tt(e){var t=e.isIndeterminate,n=(0,v.Z)(e,It);return Zt(t?_t:Et,n)}var Rt=o.createElement;function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bt=(0,tt.Gp)((function(e,t){var n=function(){var e,t,n,a,r,l,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=Nt(),u=!!s,c=i.as,g=i.ref,d=i.value,m=void 0===d?"":d,f=i.children,p=i.icon,b=i.name,h=i.isRequired,y=void 0!==h&&h,w=i.isReadOnly,x=void 0!==w&&w,O=i.autoFocus,P=void 0!==O&&O,N=i.isSelected,k=i.validationState,j=i.size,D=void 0===j?null!==(e=null==s?void 0:s.size)&&void 0!==e?e:"md":j,S=i.color,C=void 0===S?null!==(t=null==s?void 0:s.color)&&void 0!==t?t:"primary":S,I=i.radius,Z=void 0===I?null==s?void 0:s.radius:I,E=i.lineThrough,_=void 0===E?null!==(n=null==s?void 0:s.lineThrough)&&void 0!==n&&n:E,T=i.isDisabled,R=void 0===T?null!==(a=null==s?void 0:s.isDisabled)&&void 0!==a&&a:T,M=i.disableAnimation,V=void 0===M?null!==(r=null==s?void 0:s.disableAnimation)&&void 0!==r&&r:M,B=i.isInvalid,F=void 0===B?k?"invalid"===k:null!==(l=null==s?void 0:s.isInvalid)&&void 0!==l&&l:B,L=i.isIndeterminate,z=void 0!==L&&L,A=i.defaultSelected,U=i.classNames,G=i.onChange,W=i.className,H=i.onValueChange,q=(0,v.Z)(i,kt);s&&mt.Ts&&(N&&(0,ft.Z)("The Checkbox.Group is being used, `isSelected` will be ignored. Use the `value` of the Checkbox.Group instead.","Checkbox"),A&&(0,ft.Z)("The Checkbox.Group is being used, `defaultSelected` will be ignored. Use the `defaultValue` of the Checkbox.Group instead.","Checkbox"));var K=c||"label",J=(0,o.useRef)(null),X=(0,dt.rV)(g,J),Q=(0,o.useId)(),$=(0,o.useMemo)((function(){return{name:b,value:m,children:f,autoFocus:P,defaultSelected:A,isIndeterminate:z,isRequired:y,isInvalid:F,isSelected:N,isDisabled:R,isReadOnly:x,"aria-label":(0,pt.x)(q["aria-label"],f),"aria-labelledby":q["aria-labelledby"]||Q,onChange:H}}),[m,b,Q,f,P,F,z,R,x,N,A,q["aria-label"],q["aria-labelledby"],H]),Y=u?(0,ht.a)(Dt(Dt({},$),{},{isInvalid:F}),s.groupState,J):(0,yt.O)($,(0,at.l)($),J),ee=Y.inputProps,te=Y.isSelected,ne=Y.isDisabled,ae=Y.isReadOnly,re=Y.isPressed,le=ne||ae,oe=(0,o.useState)(!1),ie=oe[0],se=oe[1],ue=(0,ut.r)({isDisabled:le,onPressStart:function(e){"keyboard"!==e.pointerType&&se(!0)},onPressEnd:function(e){"keyboard"!==e.pointerType&&se(!1)}}).pressProps,ve=!le&&(ie||re);y&&(ee.required=!0);var ce=(0,st.X)({isDisabled:ee.disabled}),ge=ce.hoverProps,de=ce.isHovered,me=(0,vt.F)({autoFocus:ee.autoFocus}),fe=me.focusProps,pe=me.isFocused,be=me.isFocusVisible,he=(0,o.useMemo)((function(){return ot({color:C,size:D,radius:Z,isInvalid:F,lineThrough:_,isDisabled:ne,disableAnimation:V})}),[C,D,Z,F,_,ne,V]),ye=(0,bt.W)(null==U?void 0:U.base,W),we=(0,o.useCallback)((function(){return Dt({ref:X,className:he.base({class:ye}),"data-disabled":(0,mt.PB)(ne),"data-selected":(0,mt.PB)(te||z),"data-invalid":(0,mt.PB)(F),"data-hover":(0,mt.PB)(de),"data-focus":(0,mt.PB)(pe),"data-pressed":(0,mt.PB)(ve),"data-readonly":(0,mt.PB)(ee.readOnly),"data-focus-visible":(0,mt.PB)(be),"data-indeterminate":(0,mt.PB)(z)},(0,ct.d)(ge,ue,q))}),[he,ye,ne,te,z,F,de,pe,ve,ee.readOnly,be,ge,ue,q]),xe=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Dt(Dt({},e),{},{"aria-hidden":!0,className:(0,bt.W)(he.wrapper({class:(0,bt.W)(null==U?void 0:U.wrapper,null==e?void 0:e.className)}))})}),[he,null==U?void 0:U.wrapper]),Oe=(0,o.useCallback)((function(){return Dt(Dt({ref:J},(0,ct.d)(ee,fe)),{},{onChange:(0,gt.t)(ee.onChange,G)})}),[ee,fe,G]),Pe=(0,o.useCallback)((function(){return{id:Q,className:he.label({class:null==U?void 0:U.label})}}),[he,null==U?void 0:U.label,ne,te,F]),Ne=(0,o.useCallback)((function(){return{isSelected:te,isIndeterminate:!!z,disableAnimation:!!V,className:he.icon({class:null==U?void 0:U.icon})}}),[he,null==U?void 0:U.icon,te,z,V]);return{Component:K,icon:p,children:f,isSelected:te,isDisabled:ne,isInvalid:F,isFocused:pe,isHovered:de,isFocusVisible:be,getBaseProps:we,getWrapperProps:xe,getInputProps:Oe,getLabelProps:Pe,getIconProps:Ne}}(Vt(Vt({},e),{},{ref:t})),a=n.Component,r=n.children,l=n.icon,i=void 0===l?Rt(Tt,null):l,s=n.getBaseProps,u=n.getWrapperProps,c=n.getInputProps,g=n.getIconProps,d=n.getLabelProps,m="function"==typeof i?i(g()):(0,o.cloneElement)(i,g());return Rt(a,s(),Rt(nt.T,null,Rt("input",c())),Rt("span",u(),m),r&&Rt("span",d(),r))}));Bt.displayName="NextUI.Checkbox";const Ft=Bt;var Lt=o.createElement;function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ut=function(e){var t,n,a,r,s=(0,i.useRuntime)(),u=s.runtime,v=s.setRuntime,c=s.handlePushMessage,g=s.pushChatNotice,d=s.formattedTurnsValue,m=o.useState([]),p=(0,l.Z)(m,2),y=p[0],w=p[1],x=o.useState(!1),O=(0,l.Z)(x,2),P=O[0],N=O[1],k=d.length-1,j=e.buttons[e.buttons.length-1],D=Number((null==j||null===(t=j.name)||void 0===t||null===(t=t.split(":"))||void 0===t?void 0:t.length)>=2?null==j||null===(n=j.name)||void 0===n||null===(n=n.split(":")[1])||void 0===n?void 0:n.replace(/[^0-9.]/g,""):99),S=e.buttons.slice(0,e.buttons.length-1).filter((function(e){return"0"!=e.name&&e.name&&"VG_Block"!==e.name})),C=y.length?JSON.stringify({maskAs:{from:"human",type:"info:success",item:"Successfully Selected",delay:0},origin:"VG_Response",type:"VG_MultiSelect",selected:S.flatMap((function(e,t){return y.includes(t)?e.name:[]}))}):"VG_Cancel";return o.useEffect((function(){e.buttons.find((function(e){return"VG_Block"===e.name}))?v((function(t){return At(At({},t),{},{blockInput:!(k>e.turnIndex)})})):v((function(e){return At(At({},e),{},{blockInput:!1})}))}),[]),Lt("div",{className:" vg-w-full vg-flex vg-flex-col vg-gap-4 vg-multiselect-container",key:"VG_MultiSelect_turn_".concat(e.turnIndex,"_message_").concat(e.messageIndex)},Lt("div",{className:" vg-grid vg-grid-cols-2 vg-gap-3 vg-w-full vg-multiselect-options-container"},S.map((function(t,n){return Lt(Ft,{className:" vg-w-full vg-flex ".concat(t.name.length>=15?" vg-col-span-2 ":" vg-col-span-1 "," vg-multiselect-option"),classNames:{base:" vg-w-full vg-inline vg-multiselect-option--base",label:" vg-w-full vg-p-1 vg-px-3 vg-rounded-large vg-text-left vg-word-wrap ".concat(y.includes(n)?" vg-bg-primary vg-text-white ":" vg-bg-primary-50 vg-hover:bg-primary-100 "," vg-multiselect-option--label")},isSelected:y.includes(n),onValueChange:function(){var e=(0,B.Z)(L().mark((function e(t){var a;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}return e.next=3,(0,h.cG)({translateTo:u.lang,text:"Maximum selection is ".concat(D," items.")});case 3:if(a=e.sent,!(D<y.length+1)){e.next=6;break}return e.abrupt("return",g(a,"fail",2500));case 6:w((function(e){return[].concat((0,V.Z)(e),[n]).sort((function(e,t){return e-t}))})),e.next=10;break;case 9:w((function(e){return(0,V.Z)(e.filter((function(e){return e!==n})))}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),key:"VG_MultiSelect_turn_".concat(e.turnIndex,"_message_").concat(e.messageIndex,"_index_").concat(n),color:"primary"},Lt("p",{className:" vg-w-full vg-multiselect-option--text"},t.name))}))),Lt("div",{className:" vg-grid vg-grid-cols-3 vg-gap-3 vg-col-span-full vg-w-full vg-multiselect-btns-container"},Lt(f.Z,{isDisabled:P||k!==e.turnIndex,variant:"ghost",color:"primary",className:" vg-w-full vg-col-span-2 vg-bg-primary-50 vg-multiselect-submit-btn",onPress:(0,B.Z)(L().mark((function e(){var t;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),v((function(e){return At(At({},e),{},{blockInput:!1})})),e.next=4,(0,h.cG)({translateTo:u.lang,text:"Successfully Selected"});case 4:t=e.sent,c(j.name,j.request,null,{from:"human",messages:[{from:"human",type:"info:success",item:t,delay:0}],ts:W()().unix()}).then((function(){setTimeout((0,B.Z)(L().mark((function e(){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(C,{type:"text",payload:C},null,{from:"human",messages:[{from:"human",type:"info:success",item:t,delay:0}],ts:W()().unix()},!0);case 2:case"end":return e.stop()}}),e)}))),1500)}));case 6:case"end":return e.stop()}}),e)})))},Lt(b.Z,{to:null===(a=u.variables)||void 0===a?void 0:a.lang,text:"Select"})),Lt(f.Z,{isDisabled:P||k!==e.turnIndex,variant:"faded",color:"danger",className:" vg-w-full vg-col-span-1 vg-multiselect-cancel-btn",onPress:(0,B.Z)(L().mark((function e(){var t;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),v((function(e){return At(At({},e),{},{blockInput:!1})})),e.next=4,(0,h.cG)({translateTo:u.lang,text:"Cancelled Selection"});case 4:return t=e.sent,e.next=7,c(j.name,j.request,null,{from:"human",messages:[{from:"human",type:"info:danger",item:t,delay:0}],ts:W()().unix()});case 7:setTimeout((0,B.Z)(L().mark((function e(){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(C,{type:"text",payload:"VG_Cancel"},null,{from:"human",messages:[{from:"human",type:"info:danger",item:t,delay:0}],ts:W()().unix()},!0);case 2:case"end":return e.stop()}}),e)}))),500);case 8:case"end":return e.stop()}}),e)})))},Lt(b.Z,{to:null===(r=u.variables)||void 0===r?void 0:r.lang,text:"Cancel"}))))};var Gt=n(83260),Wt=n(25935),Ht=o.createElement;function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Jt=function(e){var t,n,a,r,i,s,u,v,c=o.useRef(null),g=null!=e&&null!==(t=e.itemData)&&void 0!==t&&null!==(t=t.payload)&&void 0!==t&&t.url?null==e||null===(n=e.itemData)||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.url:null!=e&&null!==(a=e.itemData)&&void 0!==a&&null!==(a=a.payload)&&void 0!==a&&a.url?"":(null!=e&&e.hardLink||null!=e&&null!==(r=e.itemData)&&void 0!==r&&r.payload,null!==(i=(null==e?void 0:e.hardLink)||(null==e||null===(s=e.itemData)||void 0===s?void 0:s.payload)||" ")&&void 0!==i&&i.includes("https://")?(null==e?void 0:e.hardLink)||(null==e||null===(u=e.itemData)||void 0===u?void 0:u.payload):"https://"+((null==e?void 0:e.hardLink)||(null==e||null===(v=e.itemData)||void 0===v?void 0:v.payload))),d=o.useState(!e.iFrame),m=(0,l.Z)(d,2),f=m[0],p=m[1],b=(0,o.useState)({url:g,height:"55dvh"}),h=b[0],y=b[1],w=o.useMemo((function(){try{var t,n;return null!=e&&null!==(t=e.itemData)&&void 0!==t&&null!==(t=t.payload)&&void 0!==t&&t.height&&y((function(t){var n;return Kt(Kt({},t),{},{height:null==e||null===(n=e.itemData)||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.height})})),null!=e&&null!==(n=e.itemData)&&void 0!==n&&null!==(n=n.payload)&&void 0!==n&&n.url&&y((function(t){var n;return Kt(Kt({},t),{},{url:null==e||null===(n=e.itemData)||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.url})})),!0}catch(e){return!1}}),[e.websiteUrl]);e.iFrame||g.includes("<iframe")&&g.includes("</iframe>");return Ht("div",{key:"chat_embed_skele_".concat(e.turnIndex,"_").concat(e.messageIndex),className:" vg-w-full vg-min-h-[150px] vg-h-full ".concat(e.iFrame?" vg-aspect-video ":" "," vg-relative ").concat(e.iFrame?"vg-iframe-video":"vg-iframe-freeform"," vg-iframe--container")},f?Ht(me.Z,{className:" vg-absolute vg-w-full vg-h-full vg-rounded-large "}):null,g.includes("<iframe")&&g.includes("</iframe>")?(0,Wt.ZP)(g):Ht("iframe",{allowFullScreen:!0,ref:c,onLoad:function(){p(!1)},src:w?h.url:g,className:" vg-w-full vg-h-full vg-overflow-auto vg-relative ".concat(e.iFrame?" ":" vg-min-h-[375px] "," vg-iframe"),width:"100%",height:"100%"}))};var Xt=n(30168),Qt=n(32973),$t=n(61491),Yt=n(37773),en=n(87474),tn=["as","ref","classNames","children","label","radius","value","name","defaultValue","size","color","orientation","lineThrough","isDisabled","disableAnimation","validationState","isInvalid","isReadOnly","isRequired","onValueChange","description","errorMessage","className"];function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rn=o.createElement;function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sn=(0,tt.Gp)((function(e,t){var n=function(e){var t=e.as,n=e.ref,a=e.classNames,r=e.children,l=e.label,i=e.radius,s=e.value,u=e.name,c=e.defaultValue,g=e.size,d=void 0===g?"md":g,m=e.color,f=void 0===m?"primary":m,p=e.orientation,b=void 0===p?"vertical":p,h=e.lineThrough,y=void 0!==h&&h,w=e.isDisabled,x=void 0!==w&&w,O=e.disableAnimation,P=void 0!==O&&O,N=e.validationState,k=e.isInvalid,j=void 0===k?"invalid"===N:k,D=e.isReadOnly,S=e.isRequired,C=e.onValueChange,I=e.description,Z=e.errorMessage,E=e.className,_=(0,v.Z)(e,tn),T=t||"div",R=(0,dt.gy)(n),M=(0,o.useMemo)((function(){return an({value:s,name:u,"aria-label":(0,pt.x)(_["aria-label"],l),defaultValue:c,isRequired:S,isInvalid:j,isReadOnly:D,orientation:b,onChange:C},_)}),[s,u,l,c,S,D,j,b,C,_["aria-label"],_]),V=(0,en.$)(M),B=(0,Yt.u)(M,V),F=B.labelProps,L=B.groupProps,z=B.descriptionProps,A=B.errorMessageProps,U=(0,o.useMemo)((function(){return{size:d,color:f,radius:i,lineThrough:y,isInvalid:j,isDisabled:x,disableAnimation:P,groupState:V}}),[d,f,i,y,x,P,j,null==V?void 0:V.value,null==V?void 0:V.isDisabled,null==V?void 0:V.isReadOnly,null==V?void 0:V.isInvalid,null==V?void 0:V.isSelected]),G=(0,o.useMemo)((function(){return it({isRequired:S,isInvalid:j,disableAnimation:P})}),[S,j,P]),W=(0,bt.W)(null==a?void 0:a.base,E),H=(0,o.useCallback)((function(){return an({ref:R,className:G.base({class:W})},(0,ct.d)(L,_))}),[G,R,W,L,_]),q=(0,o.useCallback)((function(){return an({className:G.label({class:null==a?void 0:a.label})},F)}),[G,F,null==a?void 0:a.label]),K=(0,o.useCallback)((function(){return{className:G.wrapper({class:null==a?void 0:a.wrapper}),role:"presentation","data-orientation":b}}),[G,b,null==a?void 0:a.wrapper]),J=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return an(an(an({},e),z),{},{className:G.description({class:(0,bt.W)(null==a?void 0:a.description,null==e?void 0:e.className)})})}),[G,z,null==a?void 0:a.description]),X=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return an(an(an({},e),A),{},{className:G.errorMessage({class:(0,bt.W)(null==a?void 0:a.errorMessage,null==e?void 0:e.className)})})}),[G,A,null==a?void 0:a.errorMessage]);return{Component:T,children:r,label:l,context:U,description:I,errorMessage:Z,getGroupProps:H,getLabelProps:q,getWrapperProps:K,getDescriptionProps:J,getErrorMessageProps:X}}(on(on({},e),{},{ref:t})),a=n.children,r=n.context,l=n.label,i=n.description,s=n.errorMessage,u=n.getGroupProps,c=n.getLabelProps,g=n.getWrapperProps,d=n.getDescriptionProps,m=n.getErrorMessageProps;return rn("div",u(),l&&rn("span",c(),l),rn("div",g(),rn(Pt,{value:r},a)),s?rn("div",m(),s):i?rn("div",d(),i):null)}));sn.displayName="NextUI.CheckboxGroup";const un=sn;var vn,cn,gn=n(49660),dn=o.createElement;Qt.ZP.div(vn||(vn=(0,Xt.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),Qt.ZP.div(cn||(cn=(0,Xt.Z)(["\n"])));function mn(e){var t=e.id,n=e.setIntData,a=(e.intData,(0,$t.xB)(t)),r=a.options,l=a.customOption,i=(0,o.useState)([]),s=i[0],u=i[1],v=(0,o.useState)(!1),c=v[0],g=(v[1],(0,o.useState)("")),d=g[0],m=g[1];return o.useEffect((function(){n((function(e){var n=e,a=s.map((function(e){return"Other"===e?d:e}));return n[t]=a,n}))}),[s,d]),dn(un,{onValueChange:function(e){u(e)},value:s},r.map((function(e){return dn(Ft,{id:e.id,key:e.id,value:e.label},e.label)})),l&&dn(o.Fragment,null,dn(Ft,{id:t,key:t,value:"Other",isSelected:c},"Other"),dn(gn.Z,{classNames:{input:" vg-font-bold "},variant:"bordered",onValueChange:function(e){m(e)},value:d,size:"sm"})))}var fn=(0,wt.k)({name:"RadioGroupContext",strict:!1}),pn=(0,l.Z)(fn,2),bn=pn[0],hn=pn[1],yn=(0,rt.tv)({slots:{base:" vg-group vg-relative vg-max-w-fit vg-inline-flex vg-items-center vg-justify-start vg-cursor-pointer vg-tap-highlight-transparent vg-p-2 vg--m-2 ",wrapper:[" vg-relative "," vg-inline-flex "," vg-items-center "," vg-justify-center "," vg-flex-shrink-0 "," vg-overflow-hidden "," vg-border-solid "," vg-border-medium "," vg-box-border "," vg-border-default "," vg-rounded-full "," vg-group-data-[hover-unselected=true]:bg-default-100 "].concat((0,V.Z)(lt.ID)),labelWrapper:" vg-flex vg-flex-col vg-ml-1 ",control:[" vg-z-10 "," vg-w-2 "," vg-h-2 "," vg-opacity-0 "," vg-scale-0 "," vg-origin-center "," vg-rounded-full "," vg-group-data-[selected=true]:opacity-100 "," vg-group-data-[selected=true]:scale-100 "],label:" vg-relative vg-text-foreground vg-select-none ",description:" vg-relative vg-text-foreground-400 "},variants:{color:{default:{control:" vg-bg-default-500 vg-text-default-foreground ",wrapper:" vg-group-data-[selected=true]:border-default-500 "},primary:{control:" vg-bg-primary vg-text-primary-foreground ",wrapper:" vg-group-data-[selected=true]:border-primary "},secondary:{control:" vg-bg-secondary vg-text-secondary-foreground ",wrapper:" vg-group-data-[selected=true]:border-secondary "},success:{control:" vg-bg-success vg-text-success-foreground ",wrapper:" vg-group-data-[selected=true]:border-success "},warning:{control:" vg-bg-warning vg-text-warning-foreground ",wrapper:" vg-group-data-[selected=true]:border-warning "},danger:{control:" vg-bg-danger vg-text-danger-foreground ",wrapper:" vg-group-data-[selected=true]:border-danger "}},size:{sm:{wrapper:" vg-w-4 vg-h-4 ",control:" vg-w-1.5 vg-h-1.5 ",labelWrapper:" vg-ml-1 ",label:" vg-text-small ",description:" vg-text-tiny "},md:{wrapper:" vg-w-5 vg-h-5 ",control:" vg-w-2 vg-h-2 ",labelWrapper:" vg-ml-2 ",label:" vg-text-medium ",description:" vg-text-small "},lg:{wrapper:" vg-w-6 vg-h-6 ",control:" vg-w-2.5 vg-h-2.5 ",labelWrapper:" vg-ml-2 ",label:" vg-text-large ",description:" vg-text-medium "}},isDisabled:{true:{base:" vg-opacity-disabled vg-pointer-events-none "}},isInvalid:{true:{control:" vg-bg-danger vg-text-danger-foreground ",wrapper:" vg-border-danger vg-group-data-[selected=true]:border-danger ",label:" vg-text-danger ",description:" vg-text-danger-300 "}},disableAnimation:{true:{},false:{wrapper:[" vg-group-data-[pressed=true]:scale-95 "," vg-transition-transform-colors "," vg-motion-reduce:transition-none "],control:" vg-transition-transform-opacity vg-motion-reduce:transition-none ",label:" vg-transition-colors vg-motion-reduce:transition-none ",description:" vg-transition-colors vg-motion-reduce:transition-none "}}},defaultVariants:{color:"primary",size:"md",isDisabled:!1,isInvalid:!1,disableAnimation:!1}}),wn=(0,rt.tv)({slots:{base:" vg-relative vg-flex vg-flex-col vg-gap-2 ",label:" vg-relative vg-text-foreground-500 ",wrapper:" vg-flex vg-flex-col vg-flex-wrap vg-gap-2 vg-data-[orientation=horizontal]:flex-row ",description:" vg-text-tiny vg-text-foreground-400 ",errorMessage:" vg-text-tiny vg-text-danger "},variants:{isRequired:{true:{label:" vg-after:content-['*'] vg-after:text-danger vg-after:ml-0.5 "}},isInvalid:{true:{description:" vg-text-danger "}},disableAnimation:{true:{},false:{description:" vg-transition-colors vg-!duration-150 vg-motion-reduce:transition-none "}}},defaultVariants:{isInvalid:!1,isRequired:!1,disableAnimation:!1}}),xn=n(10888),On=n(90277),Pn=["as","ref","classNames","children","label","value","name","size","color","isDisabled","disableAnimation","orientation","isRequired","validationState","isInvalid","isReadOnly","errorMessage","description","className","onChange","onValueChange"];function Nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nn(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jn=o.createElement;function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Cn=(0,tt.Gp)((function(e,t){var n=function(e){var t=e.as,n=e.ref,a=e.classNames,r=e.children,l=e.label,i=e.value,s=e.name,u=e.size,c=void 0===u?"md":u,g=e.color,d=void 0===g?"primary":g,m=e.isDisabled,f=void 0!==m&&m,p=e.disableAnimation,b=void 0!==p&&p,h=e.orientation,y=void 0===h?"vertical":h,w=e.isRequired,x=void 0!==w&&w,O=e.validationState,P=e.isInvalid,N=void 0===P?"invalid"===O:P,k=e.isReadOnly,j=e.errorMessage,D=e.description,S=e.className,C=e.onChange,I=e.onValueChange,Z=(0,v.Z)(e,Pn),E=t||"div",_=(0,dt.gy)(n),T=(0,o.useMemo)((function(){return kn(kn({},Z),{},{value:i,name:s,"aria-label":(0,pt.x)(Z["aria-label"],l),isRequired:x,isReadOnly:k,isInvalid:N,orientation:y,onChange:I})}),[Z,i,s,l,x,k,N,y,I]),R=(0,xn.w)(T),M=(0,On.a)(T,R),V=M.labelProps,B=M.radioGroupProps,F=M.errorMessageProps,L=M.descriptionProps,z=(0,o.useMemo)((function(){return{size:c,color:d,groupState:R,isRequired:x,isInvalid:N,isDisabled:f,disableAnimation:b,onChange:C}}),[c,d,x,f,N,C,b,R.name,null==R?void 0:R.isDisabled,null==R?void 0:R.isReadOnly,null==R?void 0:R.isRequired,null==R?void 0:R.selectedValue,null==R?void 0:R.lastFocusedValue]),A=(0,o.useMemo)((function(){return wn({isRequired:x,isInvalid:N,disableAnimation:b})}),[N,x,b]),U=(0,bt.W)(null==a?void 0:a.base,S),G=(0,o.useCallback)((function(){return kn({ref:_,className:A.base({class:U})},(0,ct.d)(B,Z))}),[_,A,U,B,Z]),W=(0,o.useCallback)((function(){return kn({className:A.label({class:null==a?void 0:a.label})},V)}),[A,null==a?void 0:a.label,V,null==a?void 0:a.label]),H=(0,o.useCallback)((function(){return{className:A.wrapper({class:null==a?void 0:a.wrapper}),role:"presentation","data-orientation":y}}),[A,null==a?void 0:a.wrapper,y,A.wrapper]),q=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return kn(kn(kn({},e),L),{},{className:A.description({class:(0,bt.W)(null==a?void 0:a.description,null==e?void 0:e.className)})})}),[A,null==a?void 0:a.description,L,A.description]),K=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return kn(kn(kn({},e),F),{},{className:A.errorMessage({class:(0,bt.W)(null==a?void 0:a.errorMessage,null==e?void 0:e.className)})})}),[A,null==a?void 0:a.errorMessage,F]);return{Component:E,children:r,label:l,context:z,errorMessage:j,description:D,getGroupProps:G,getLabelProps:W,getWrapperProps:H,getDescriptionProps:q,getErrorMessageProps:K}}(Sn(Sn({},e),{},{ref:t})),a=n.Component,r=n.children,l=n.label,i=n.context,s=n.description,u=n.errorMessage,c=n.getGroupProps,g=n.getLabelProps,d=n.getWrapperProps,m=n.getDescriptionProps,f=n.getErrorMessageProps;return jn(a,c(),l&&jn("span",g(),l),jn("div",d(),jn(bn,{value:i},r)),u?jn("div",f(),u):s?jn("div",m(),s):null)}));Cn.displayName="NextUI.RadioGroup";const In=Cn;var Zn=n(7572),En=["as","ref","classNames","id","value","children","description","size","color","isDisabled","disableAnimation","onChange","autoFocus","className"];function _n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rn=o.createElement;function Mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bn=(0,tt.Gp)((function(e,t){var n=function(e){var t,n,a,r,l=hn(),i=e.as,s=e.ref,u=e.classNames,c=e.id,g=e.value,d=e.children,m=e.description,f=e.size,p=void 0===f?null!==(t=null==l?void 0:l.size)&&void 0!==t?t:"md":f,b=e.color,h=void 0===b?null!==(n=null==l?void 0:l.color)&&void 0!==n?n:"primary":b,y=e.isDisabled,w=void 0===y?null!==(a=null==l?void 0:l.isDisabled)&&void 0!==a&&a:y,x=e.disableAnimation,O=void 0===x?null!==(r=null==l?void 0:l.disableAnimation)&&void 0!==r&&r:x,P=e.onChange,N=void 0===P?null==l?void 0:l.onChange:P,k=e.autoFocus,j=void 0!==k&&k,D=e.className,S=(0,v.Z)(e,En);l&&mt.Ts&&("checked"in S&&(0,ft.Z)('Remove props "checked" if in the Radio.Group.',"Radio"),void 0===g&&(0,ft.Z)('Props "value" must be defined if in the Radio.Group.',"Radio"));var C=i||"label",I=(0,dt.gy)(s),Z=(0,o.useRef)(null),E=(0,o.useId)(),_=(0,o.useMemo)((function(){var e;return null!==(e=l.isRequired)&&void 0!==e&&e}),[l.isRequired]),T=l.isInvalid,R=(0,o.useMemo)((function(){var e=S["aria-label"]||"string"==typeof d?d:void 0,t=S["aria-describedby"]||"string"==typeof m?m:void 0;return{id:c,isRequired:_,isDisabled:w,"aria-label":e,"aria-labelledby":S["aria-labelledby"]||E,"aria-describedby":t}}),[E,c,w,_]),M=(0,Zn.x)(Tn(Tn({value:g,children:d},l),R),l.groupState,Z),V=M.inputProps,B=M.isDisabled,F=M.isSelected,L=M.isPressed,z=(0,vt.F)({autoFocus:j}),A=z.focusProps,U=z.isFocused,G=z.isFocusVisible,W=B||V.readOnly,H=(0,o.useState)(!1),q=H[0],K=H[1],J=(0,ut.r)({isDisabled:W,onPressStart:function(e){"keyboard"!==e.pointerType&&K(!0)},onPressEnd:function(e){"keyboard"!==e.pointerType&&K(!1)}}).pressProps,X=(0,st.X)({isDisabled:W}),Q=X.hoverProps,$=X.isHovered,Y=!W&&(q||L),ee=(0,o.useMemo)((function(){return yn({color:h,size:p,isInvalid:T,isDisabled:B,disableAnimation:O})}),[h,p,B,T,O]),te=(0,bt.W)(null==u?void 0:u.base,D),ne=(0,o.useCallback)((function(){return Tn(Tn({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{ref:I,className:ee.base({class:te}),"data-disabled":(0,mt.PB)(B),"data-focus":(0,mt.PB)(U),"data-focus-visible":(0,mt.PB)(G),"data-selected":(0,mt.PB)(F),"data-invalid":(0,mt.PB)(T),"data-hover":(0,mt.PB)($),"data-pressed":(0,mt.PB)(Y),"data-hover-unselected":(0,mt.PB)($&&!F),"data-readonly":(0,mt.PB)(V.readOnly),"aria-required":(0,mt.PB)(_)},(0,ct.d)(Q,J,S))}),[ee,te,I,B,U,G,F,T,$,Y,V.readOnly,_,S]),ae=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Tn(Tn({},e),{},{"aria-hidden":!0,className:(0,bt.W)(ee.wrapper({class:(0,bt.W)(null==u?void 0:u.wrapper,e.className)}))})}),[ee,null==u?void 0:u.wrapper]),re=(0,o.useCallback)((function(){return Tn(Tn(Tn({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{ref:Z,required:_},(0,ct.d)(V,A)),{},{onChange:(0,gt.t)(V.onChange,N)})}),[V,A,_,N]),le=(0,o.useCallback)((function(){return Tn(Tn({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{id:E,className:ee.label({class:null==u?void 0:u.label})})}),[ee,null==u?void 0:u.label,B,F,T]),oe=(0,o.useCallback)((function(){return Tn(Tn({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{className:ee.labelWrapper({class:null==u?void 0:u.labelWrapper})})}),[ee,null==u?void 0:u.labelWrapper]),ie=(0,o.useCallback)((function(){return Tn(Tn({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{className:ee.control({class:null==u?void 0:u.control})})}),[ee,null==u?void 0:u.control]);return{Component:C,children:d,slots:ee,classNames:u,description:m,isSelected:F,isDisabled:B,isInvalid:T,isFocusVisible:G,getBaseProps:ne,getWrapperProps:ae,getInputProps:re,getLabelProps:le,getLabelWrapperProps:oe,getControlProps:ie}}(Vn(Vn({},e),{},{ref:t})),a=n.Component,r=n.children,l=n.slots,i=n.classNames,s=n.description,u=n.getBaseProps,c=n.getWrapperProps,g=n.getInputProps,d=n.getLabelProps,m=n.getLabelWrapperProps,f=n.getControlProps;return Rn(a,u(),Rn(nt.T,null,Rn("input",g())),Rn("span",c(),Rn("span",f())),Rn("div",m(),r&&Rn("span",d(),r),s&&Rn("span",{className:l.description({class:null==i?void 0:i.description})},s)))}));Bn.displayName="NextUI.Radio";const Fn=Bn;var Ln,zn,An,Un=o.createElement,Gn=Qt.ZP.div(Ln||(Ln=(0,Xt.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),Wn=(Qt.ZP.div(zn||(zn=(0,Xt.Z)(["\n  display: flex;\n\n  & label {\n    margin: 0 10px;\n  }\n"]))),Qt.ZP.span(An||(An=(0,Xt.Z)(["\n  color: red;\n  padding: 10px 0;\n"]))));function Hn(e){var t,n=e.id,a=e.setIntData,r=(e.intData,(0,$t.Ge)(n)),l=r.options,i=r.customOption,s=r.error,u=(0,o.useState)(""),v=u[0],c=u[1];return Un(Gn,null,(null===(t=l[0])||void 0===t||null===(t=t.label)||void 0===t?void 0:t.toLowerCase())==="VG_FileUpload".toLowerCase()?Un("div",{className:" vg-w-full vg-h-36 "},Un(Ke,{callback:function(e){a((function(t){var a=t,r=e.url;return a[n]=r,a}))},variant:"plain",maxSizeMB:5,consumeLT:!0})):Un(o.Fragment,null,Un(In,null,l.map((function(e){return Un(Fn,{onChange:function(e){return a((function(t){var a=t;return a[n]=e.target.value,a}))},value:e.label,id:n},e.label)})),i&&Un(o.Fragment,null,Un(Fn,{onChange:function(e){return a((function(e){var t=e;return t[n]=v,t}))},value:"Other",id:n},Un(b.Z,null,"Other")),Un(gn.Z,{classNames:{input:" vg-font-bold "},variant:"bordered",onValueChange:function(e){a((function(t){var a=t;return a[n]=e,a})),c(e)},value:v,size:"sm"}))),Un(Wn,null,s&&"This field is required")))}var qn=o.createElement;function Kn(e){var t=e.id,n=e.inputType,r=e.setIntData,i=(e.intData,(0,$t.Tx)(t).register),s="email"===n?"email":"tel"===n?"phone number":"input",u=(0,o.useState)(!1),v=(u[0],u[1],o.useState(!1)),c=(0,l.Z)(v,2),g=(c[0],c[1]),d=o.useState(!1),m=(0,l.Z)(d,2),f=m[0],p=m[1],b=o.useState(!1),h=(0,l.Z)(b,2),x=h[0],O=h[1],P=o.useState(null),N=(0,l.Z)(P,2),k=N[0],j=N[1],D=o.useState(""),S=(0,l.Z)(D,2),C=S[0],I=S[1];function Z(e){if(!e)return!0;if("email"===n){return!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}if("tel"===n){return!/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[ 0-9]{3}[-\s\.]?[ 0-9]{4,6}$/im.test(e)}return!1}return o.useEffect((function(){if(C){p(!0),clearTimeout(k);var e=setTimeout((0,B.Z)(L().mark((function e(){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(Z(C)),p(!1);case 2:case"end":return e.stop()}}),e)}))),2e3);return j(e),function(){p(!1),clearTimeout(e)}}}),[C]),o.useEffect((function(){r&&r((function(e){var n=e,a=C;return n[t]=a,n}))}),[C]),qn("div",null,qn(gn.Z,(0,a.Z)({onValueChange:function(e){I(e),g(!0)},errorMessage:x&&"text"!==n&&"Please input a valid ".concat(s,"."),color:"primary",className:" vg-py-0 ",variant:"bordered",type:n,endContent:qn(o.Fragment,null,f&&"text"!==n&&qn(Ae.Z,{size:"sm"}),!1===x&&C&&!f&&"text"!==n&&qn(w.KP3,{className:" vg-w-5 vg-h-5 "}),!0===x&&!f&&qn(y.xg7,{className:" vg-w-5 vg-h-5 "}))},i())))}var Jn,Xn,Qn,$n,Yn=o.createElement;function ea(e){var t=e.id,n=e.inputType,r=(0,$t.yO)(t).register;return Yn("div",null,Yn(gn.Z,(0,a.Z)({color:"primary",variant:"bordered",type:n},r())))}var ta,na,aa,ra,la=o.createElement,oa=Qt.ZP.div(Jn||(Jn=(0,Xt.Z)(["\n  display: table;\n"]))),ia=Qt.ZP.header(Xn||(Xn=(0,Xt.Z)(["\n  display: table-row;\n"]))),sa=Qt.ZP.div(Qn||(Qn=(0,Xt.Z)(["\n  display: table-row;\n"]))),ua=Qt.ZP.div($n||($n=(0,Xt.Z)(["\n  display: table-cell;\n  padding: 5px;\n"])));function va(e){var t=e.id,n=e.setIntData,r=(e.intData,(0,$t.bk)(t)),l=r.columns,o=r.renderGrid;return la(oa,null,la(ia,null,la(ua,null),l.map((function(e){return la(ua,{key:e.label},la("span",{className:" vg-text-small "},e.label))}))),o((function(e){return la(sa,{key:e.label},la(ua,{className:" vg-text-small vg-font-bold vg-leading-5 "},e.label),e.renderColumns((function(t){return la(ua,{key:t.label},la("input",(0,a.Z)({type:"radio"},t.registerColumn(),{onChange:function(a){var r=a.target.value;n((function(n){var a=n;return a[t.id]={label:e.label,value:r},a}))}})))})))})))}var ca=o.createElement,ga=Qt.ZP.div(ta||(ta=(0,Xt.Z)(["\n  display: table;\n"]))),da=Qt.ZP.header(na||(na=(0,Xt.Z)(["\n  display: table-row;\n"]))),ma=Qt.ZP.div(aa||(aa=(0,Xt.Z)(["\n  display: table-row;\n"]))),fa=Qt.ZP.div(ra||(ra=(0,Xt.Z)(["\n  display: table-cell;\n  padding: 5px;\n"])));function pa(e){var t=e.id,n=(0,$t.ck)(t),r=n.columns,l=n.renderGrid;return ca(ga,{className:" vg-w-full "},ca(da,null,ca(fa,null),r.map((function(e){return ca(fa,{key:e.label},e.label)}))),l((function(e){return ca(ma,{key:e.label},ca(fa,null,e.label),e.renderColumns((function(e){return ca(fa,{key:e.label},ca("input",(0,a.Z)({type:"checkbox"},e.registerColumn())))})))})))}var ba=n(47602),ha=n(18266),ya=o.createElement;function wa(e){var t=e.id,n=e.setIntData,a=(e.intData,(0,$t.M$)(t)),r=(a.register,a.options),l=(0,o.useState)(!0),i=l[0],s=l[1];return o.useEffect((function(){(0,h.eF)('[data-slot="popover"]').then((function(e){e.setAttribute("id","VG_OVERLAY_CONTAINER"),e.setAttribute("class","vg-render-container")}))}),[i]),ya(ba.Z,{onOpenChange:function(){return s((function(e){return!e}))},variant:"bordered",onChange:function(e){var a=e.target.value;n((function(e){var n=e;return n[t]=a,n}))},id:"VG_OVERLAY_CONTAINER",key:t,label:"Select",placeholder:"Select",defaultSelectedKeys:[],className:" vg-max-w-xs "},r.map((function(e){return ya(ha.R,{key:e.label,value:e.label},e.label)})))}var xa,Oa,Pa=n(94813),Na=o.createElement,ka=Qt.ZP.div(xa||(xa=(0,Xt.Z)(["\n"]))),ja=Qt.ZP.span(Oa||(Oa=(0,Xt.Z)(["\n  color: red;\n"])));function Da(e){var t=e.id,n=e.setIntData,a=(e.intData,(0,$t.mP)(t)),r=a.options,l=a.legend,i=a.error;return Na(o.Fragment,null,Na(ka,null,Na(Pa.Z,{onChangeEnd:function(e){n((function(n){var a=n;return a[t]=e,a}))},size:"md",step:1,color:"primary",label:"Value",showSteps:!0,maxValue:r.length,minValue:1,defaultValue:Math.round(r.length/2),className:" vg-max-w-md vg-mb-1 "}),Na("div",{className:" vg-w-full vg-flex vg-items-center vg-gap-4 vg-justify-between vg-text-tiny vg-font-bold "},Na("p",null,l.labelFirst),Na("p",null,l.labelLast))),Na(ja,null,i&&"This field is required"))}var Sa=o.createElement;const Ca=function(e){var t=e.id,n=e.setIntData;e.intData;return Sa(gn.Z,{variant:"bordered",onChange:function(e){var a=e.target.value;n((function(e){var n=e;return n[t]=a,n}))},className:" vg-w-full ",type:"date"})};var Ia,Za,Ea,_a,Ta=o.createElement;function Ra(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ma(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ma(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){i=!0,l=e},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw l}}}}function Ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Va(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ba(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Va(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Va(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fa=Qt.ZP.form(Ia||(Ia=(0,Xt.Z)(["\n  margin: 0;\n"]))),La=Qt.ZP.div(Za||(Za=(0,Xt.Z)(["\n  margin-bottom: 0;\n"]))),za=Qt.ZP.h3(Ea||(Ea=(0,Xt.Z)(["\n  margin-bottom: 5px;\n"]))),Aa=Qt.ZP.p(_a||(_a=(0,Xt.Z)(["\n  font-size: 0.8rem;\n  color: #5c5c5c;\n  margin-top: 0px;\n"]))),Ua=function(e){var t=e.form;return o.useEffect((function(){var n=t.fields.map((function(e,t){return{label:e.label,id:e.id,index:t}}));e.setFormData(n)}),[]),Ta("div",{className:" vg-flex vg-flex-col vg-gap-4 "},t.fields.map((function(t){var n,a,r,l,o,i=t.id,s=null,u=null!=t&&null!==(n=t.label)&&void 0!==n&&n.includes(":")?null==t||null===(a=t.label)||void 0===a?void 0:a.split(":")[1]:"text";switch(t.type){case"CHECKBOX":s=Ta(mn,{setIntData:e.setIntData,intData:e.intData,id:i});break;case"RADIO":s=Ta(Hn,{setIntData:e.setIntData,intData:e.intData,id:i});break;case"SHORT_ANSWER":s=Ta(Kn,{setIntData:e.setIntData,intData:e.intData,inputType:u,id:i});break;case"LONG_ANSWER":s=Ta(ea,{inputType:u,id:i});break;case"RADIO_GRID":s=Ta(va,{setIntData:e.setIntData,intData:e.intData,id:i});break;case"CHECKBOX_GRID":s=Ta(pa,{id:i});break;case"DROPDOWN":s=Ta(wa,{setIntData:e.setIntData,intData:e.intData,id:i});break;case"LINEAR":s=Ta(Da,{setIntData:e.setIntData,intData:e.intData,id:i});break;case"DATE":s=Ta(Ca,{setIntData:e.setIntData,intData:e.intData,id:i})}if(null!=t&&null!==(r=t.label)&&void 0!==r&&r.includes("VG_FileUpload")&&(s=Ta("div",{className:" vg-w-full vg-h-36 "},Ta(Ke,{callback:function(t){e.setIntData((function(e){var n=e,a=t.url;return n[i]=a,n}))},variant:"plain",maxSizeMB:10,consumeLT:!0}))),!s)return null;var v=(null!=t&&null!==(l=t.label)&&void 0!==l&&l.includes(":")?null==t||null===(o=t.label)||void 0===o||null===(o=o.split(":")[0])||void 0===o?void 0:o.replaceAll("_"," "):t.label||"").replaceAll("VG_FileUpload","");return Ta(La,{key:i},Ta(za,{className:"vg-message-form--q-label"},Ta("p",{className:" vg-text-sm vg-opacity-80 "},v," ",t.required?Ta("span",{className:" vg-text-danger-500 vg-font-bold vg-message-form--q-required"},"*"):"")),s,Ta(Aa,{className:"vg-message-form--q-helper"},t.description))})))};const Ga=function(e){var t,n,a=e.form,r=(0,$t.h1)({form:a}),s=o.useState({}),u=(0,l.Z)(s,2),v=u[0],c=u[1],g=o.useState({}),d=(0,l.Z)(g,2),m=d[0],p=d[1],y=(0,i.useRuntime)(),w=y.runtime,x=y.handlePushMessage,O=y.pushChatNotice,P=y.setRuntime,N=y.formattedTurnsValue,k=(0,o.useState)(!1),j=k[0],D=k[1],S=(0,o.useState)(!1),C=S[0],I=S[1],Z=(0,o.useRef)(null);o.useEffect((function(){var e,t,n=N[(null==N?void 0:N.length)-1];n&&((null==n||null===(e=n.messages)||void 0===e?void 0:e.length)>0&&(a.fields.find((function(e){return e.required}))&&null!=n&&null!==(t=n.messages)&&void 0!==t&&t.find((function(e){return"GoogleForm"===e.type}))?(P((function(e){return Ba(Ba({},e),{},{blockInput:!0})})),D(!0)):(P((function(e){return Ba(Ba({},e),{},{blockInput:!1})})),D(!1))));return function(){P((function(e){return Ba(Ba({},e),{},{blockInput:!1})}))}}),[]);var E=function(){var e=(0,B.Z)(L().mark((function e(t){var n,l,o,i,s,u,c,g,d,f,p,b;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I(!0),n=Ba(Ba({},t),v),l=a.fields.filter((function(e){var t;return!(null==e||null===(t=e.label)||void 0===t||!t.includes(":"))})),o=Ra(l),e.prev=4,s=L().mark((function e(){var t,a,r,l,o;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e){return/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[ 0-9]{3}[-\s\.]?[ 0-9]{4,6}$/im.test(e)},t=i.value,"email"!==(a="email"===t.label.split(":")[1]?"email":"tel"===t.label.split(":")[1]?"tel":"text")){e.next=10;break}if(r=n[t.id],/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)){e.next=10;break}return I(!1),e.abrupt("return",{v:O("Please input a valid email.","fail",2500)});case 10:if("tel"!==a){e.next=16;break}if(o=n[t.id],l(o)){e.next=16;break}return I(!1),e.abrupt("return",{v:O("Please input a valid phone number.","fail",2500)});case 16:case"end":return e.stop()}}),e)})),o.s();case 7:if((i=o.n()).done){e.next=14;break}return e.delegateYield(s(),"t0",9);case 9:if(!(u=e.t0)){e.next=12;break}return e.abrupt("return",u.v);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(4),o.e(e.t1);case 19:return e.prev=19,o.f(),e.finish(19);case 22:for(c in n)Object.prototype.hasOwnProperty.call(n,c)&&n[c]instanceof Array&&!n[c].length&&delete n[c];return e.next=25,r.submitToGoogleForms(n);case 25:if(g=Object.keys(n),d=g.map((function(e,t){var a,r;return{index:null===(a=m.find((function(t){return t.id===e})))||void 0===a?void 0:a.index,label:null===(r=m.find((function(t){return t.id===e})))||void 0===r?void 0:r.label,value:n[e],gform_id:e}})).sort((function(e,t){return e.index-t.index})),f=!0,a.fields.forEach((function(e){if(null!=e&&e.required){var t=d.find((function(t){return(null==t?void 0:t.gform_id)===(null==e?void 0:e.id)})),n=null!=e&&e.lines?null==e?void 0:e.lines:null;if(n){if((null==d?void 0:d.length)<n)return I(!1),f=!1,O("Please push required fields","fail",2500)}else if(!t)return I(!1),f=!1,O("Please push required fields","fail",2500)}})),f){e.next=32;break}return e.abrupt("return");case 32:return p=JSON.stringify({type:"VGVF_Channel",payload:d}),e.next=35,(0,h.cG)({translateTo:w.lang,text:"Successfully Submitted"});case 35:return b=e.sent,e.next=38,x(p,null,null,{from:"human",messages:[{from:"human",type:"info:success",item:b,delay:0}],ts:W()().unix()});case 38:P((function(e){return Ba(Ba({},e),{},{blockInput:!1})})),I(!1);case 40:case"end":return e.stop()}}),e,null,[[4,16,19,22]])})));return function(t){return e.apply(this,arguments)}}(),_=N.length-1;return Ta($t.F6,r,Ta(Fa,{ref:Z,className:" vg-p-5 vg-message-form--inner",onSubmit:r.handleSubmit(E)},a.title&&Ta("div",{className:" vg-mb-3 vg-message-form--section1"},Ta("h1",{className:" vg-font-bold vg-text-large vg-message-form--title"},a.title),a.description&&Ta(_e.Z,{className:" vg-text-sm vg-message-form--desc"},a.description)),Ta(Ua,{setFormData:p,setIntData:c,intData:v,form:a}),Ta(f.Z,{isDisabled:C||_>(null==e?void 0:e.turnIndex)||w.manualControl,className:" vg-w-full vg-my-3 vg-message-form--submit",color:"primary",type:"submit"},Ta(b.Z,{to:null===(t=w.variables)||void 0===t?void 0:t.lang,text:"Submit"})),!j&&Ta(f.Z,{isDisabled:C||_>(null==e?void 0:e.turnIndex)||w.manualControl,variant:"flat",onPress:function(){x("VG_Cancel")},className:" vg-w-full vg-message-form--cancel",color:"danger"},Ta(b.Z,{to:null===(n=w.variables)||void 0===n?void 0:n.lang,text:"Cancel"}))))};var Wa=o.createElement;const Ha=function(e){var t=o.useState(!1),n=(0,l.Z)(t,2),a=n[0],r=n[1];function i(){return(i=(0,B.Z)(L().mark((function e(t){var n;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.Z.get("".concat("https://voiceglow.org","/api/get-gform?form_id=").concat(t));case 2:n=e.sent,r(n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.useEffect((function(){!function(e){i.apply(this,arguments)}((e.hardLink||e.item.payload).includes("https://")?e.hardLink||e.item.payload:"https://"+(e.hardLink||e.item.payload))}),[]),a?Wa("div",{className:" vg-w-full vg-h-auto vg-relative vg-message-form"},Wa(Ga,{messageIndex:e.messageIndex,turnIndex:e.turnIndex,form:a})):Wa(me.Z,{className:" vg-w-full vg-h-72 vg-rounded-large "})};var qa=n(12085),Ka=n.n(qa),Ja=o.createElement;const Xa=function(e){var t=(0,o.useRef)(null),n=(0,o.useRef)(null),a=(0,o.useState)(!0),r=a[0],l=a[1],i=(0,o.useState)(0),s=i[0],u=i[1],v=(0,o.useState)(0),c=v[0],g=v[1],d=(0,o.useState)(!1),m=d[0],p=d[1],b=(0,o.useState)(!1),h=b[0],w=b[1],x=(0,o.useState)(!0),N=x[0],k=x[1],j=(0,o.useState)(1),D=j[0],S=j[1],C=[1,1.25,1.5,2],I=(0,o.useState)(null),E=(I[0],I[1]);(0,o.useRef)(null);(0,o.useEffect)((function(){e.withWaves&&fetch(e.audioLink).then((function(e){return e.blob()})).then((function(e){E(e)}));var a=t.current,r=n.current,l=r.getContext("2d");try{!function(){var e;window.AudioContext=window.AudioContext||(null===(e=window)||void 0===e?void 0:e.webkitAudioContext);var t=new window.AudioContext,n=t.createAnalyser();t.createMediaElementSource(a).connect(n),n.connect(t.destination),n.fftSize=256;var o=n.frequencyBinCount,i=new Uint8Array(o),s=function e(){n.getByteFrequencyData(i);for(var t=0;t<o;t++)i[t]=.8*i[t];l.clearRect(0,0,r.width,r.height);for(var a=100/5.4,s=r.height+1,u=0;u<5;u++){var v=18.61851851851852*u*(r.width/100),c=i[u]/255*s;l.beginPath(),r.width,r.height;var g=getComputedStyle(document.getElementById("vg-theme-container")).getPropertyValue("--nextui-primary").split(" ").map((function(e){return Number(e.replaceAll("%",""))})),d="#".concat(Ka().hsl.hex(g));l.fillStyle=d,l.fillRect(v,r.height-c-(0===u||2===u||4===u?2:1),a*(r.width/100)-2,c-(0===u||2===u||4===u?2:1))}requestAnimationFrame(e)};s(),a.addEventListener("play",s),a.addEventListener("pause",(function(){return cancelAnimationFrame(s)}))}()}catch(e){}}),[]),(0,o.useEffect)((function(){var e=t.current,n=function(){u(e.currentTime),g(e.duration)};return e.addEventListener("timeupdate",n),function(){e.removeEventListener("timeupdate",n)}}),[]);var _=function(e,n){try{var a=document.getElementById("vg-control-bar"),r=null==a?void 0:a.getBoundingClientRect(),l=(e.clientX-r.left)/Math.abs(r.left-r.right)*c;u(l),t.current.currentTime=l}catch(e){}},T=function(e){e.preventDefault(),w(!1),p(!1)},R=function(e){var t=Math.floor(e/60),n=Math.floor(e%60);return"".concat(String(t).padStart(2,"0"),":").concat(String(n).padStart(2,"0"))};(0,o.useEffect)((function(){return document.addEventListener("mousemove",_),h||document.removeEventListener("mousemove",_),function(){document.removeEventListener("mousemove",_)}}),[h]);return Ja("div",{className:" vg-w-full vg-mx-auto vg-relative "},N&&Ja("div",{className:" vg-absolute vg-z-[20] vg-bg-background vg-w-full vg-h-full "},Ja(me.Z,{className:" vg-w-full vg-h-full vg-rounded-large "})),Ja(O.E.div,{className:" vg-flex vg-flex-col vg-items-center vg-p-4 vg-rounded-md vg-relative "},Ja("audio",{onLoadedData:function(){k(!1)},crossOrigin:"anonymous",id:"vg-audio-tag",ref:t,src:e.audioLink}),Ja("div",{className:" vg-flex vg-items-center vg-justify-between vg-gap-2 vg-w-full "},Ja(f.Z,{variant:"solid",color:"primary",isIconOnly:!0,className:" vg-p-2 vg-flex vg-items-center vg-justify-center vg-rounded-full vg-focus:outline-none vg-relative ",onClick:function(){r&&s!==c?(t.current.pause(),l(!1)):(t.current.play(),l(!0))}},Ja(P.M,null,s!==c&&r&&Ja(O.E.div,{className:" vg-absolute ",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},key:"play-icon"},Ja(Z.Wh,{className:" vg-w-5 vg-h-5 "})),s!==c&&!r&&Ja(O.E.div,{className:" vg-absolute ",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},key:"pause-icon"},Ja(Z.gmG,{className:" vg-w-5 vg-h-5 "})),s==c&&Ja(O.E.div,{className:" vg-absolute ",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},key:"replay-icon"},Ja(y.jZM,{className:" vg-w-5 vg-h-5 "})))),Ja("div",{className:" vg-flex vg-flex-col vg-w-full "},Ja(O.E.div,{id:"vg-control-bar",animate:{height:m?15:7},onClick:function(e){return _(e)},onMouseEnter:function(){return p(!0)},onMouseLeave:T,onMouseDown:function(e){e.preventDefault(),w(!0)},onMouseUp:T,transition:{type:"spring",stiffness:500,damping:50,mass:.5,delay:0},className:" vg-w-full vg-bg-background vg-rounded-full vg-overflow-hidden vg-cursor-pointer "},Ja(O.E.div,{className:" vg-bg-gradient-to-r vg-from-primary-500 vg-to-primary-700 vg-rounded-full ",style:{width:"".concat(s/c*100,"%")},initial:{width:0},animate:{width:"".concat(s/c*100,"%"),height:m?15:7},transition:{type:"spring",stiffness:500,damping:50,mass:.5,delay:0}})),Ja("div",{className:" vg-flex vg-items-center vg-justify-between vg-gap-1 vg-mt-2 "},Ja("div",{className:" vg-flex vg-items-center "},Ja("canvas",{ref:n,width:"20",height:"15"}),Ja(f.Z,{size:"sm",variant:"light",isIconOnly:!0,className:" vg-w-auto vg-p-1 vg-h-auto vg-text-sm vg-font-bold vg-underline vg-text-foreground vg-opacity-80 vg-leading-3 ",onClick:function(){return function(){var e=C.findIndex((function(e){return e===D}));if(C[e+1]){var n=C[e+1];S(n),t.current.playbackRate=n}else S(1),t.current.playbackRate=1}()}},D,"x")),Ja("span",{className:" vg-text-sm vg-text-foreground vg-opacity-80 vg-leading-3 "},R(s)," / ",R(c)))))))};var Qa=o.createElement;function $a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ya(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const er=function(e){var t,n=(0,i.useRuntime)(),a=n.runtime,r=n.setRuntime;n.pushChatNotice,n.formattedTurnsValue;return Qa(x.Z,{key:"chat_end_start_new",className:" vg-absolute vg-bottom-0 vg-w-full vg-h-[100px] vg-z-50 vg-rounded-large vg-notice-container vg-w-full vg-bg-background/50 vg-backdrop-blur "},Qa("div",{className:" vg-p-5 "},Qa("div",{className:" vg-flex vg-flex-col vg-gap-2 "},Qa(f.Z,{onPress:function(){document.dispatchEvent(new CustomEvent("VG_Events",{detail:{event:"chat_restart",data:{chatOpened:!0,ts:W()().unix()},ts:W()().unix()}})),r((function(e){return Ya(Ya({},e),{},{reload:!0,notice:Ya(Ya({},e.notice),{},{custom:null,active:!1})})}))},variant:"shadow",color:"primary"},Qa(b.Z,{text:"Start New Conversation",to:null===(t=a.variables)||void 0===t?void 0:t.lang})),Qa("p",{className:" vg-text-small vg-text-center vg-w-full vg-mt-1 vg-opacity-75 vg-footer-branding"}))))};var tr=o.createElement;function nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const rr=function(e){var t,a=(0,i.useRuntime)(),r=a.runtime,l=a.setRuntime,s=(a.pushChatNotice,a.formattedTurnsValue),u=a.lightConvoData,v=(0,o.useState)((null==u?void 0:u.ratingFrom5)||0),c=(v[0],v[1]);function g(){return(g=(0,B.Z)(L().mark((function e(){var t,a,l,o,i;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.bind(n,68650));case 2:return t=e.sent,a=t.getFirestore,l=t.setDoc,o=t.doc,i=a(Ue.l2,r.bucket),e.next=9,l(o(i,"voiceglow/".concat(r.variables.ID,"/convos/").concat(r.userID)),{state:"ended_chat"},{merge:!0});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return d=(0,B.Z)(L().mark((function e(){var t,a,l,o,i,s,u,v;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.bind(n,68650));case 2:return a=e.sent,l=a.getFirestore,o=a.getDoc,i=a.doc,s=l(Ue.l2,r.bucket),e.next=9,o(i(s,"voiceglow/".concat(r.variables.ID,"/convos/").concat(r.userID)));case 9:u=e.sent,v=null===(t=u.data())||void 0===t?void 0:t.ratingFrom5,c(v||0);case 12:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}return o.useEffect((function(){var t,n=s[(null==s?void 0:s.length)-1];null!=n&&null!==(t=n.messages)&&void 0!==t&&t.find((function(e){return"end"===e.type}))&&(l((function(t){return ar(ar({},t),{},{notice:ar(ar({},t.notice),{},{active:!1,custom:tr(er,{hasEverPaid:e.hasEverPaid})})})})),function(){g.apply(this,arguments)}())}),[s]),o.useEffect((function(){var t;null!=e&&e.isChatHistory&&null!=r&&null!==(t=r.variables)&&void 0!==t&&t.ID&&null!=r&&r.userID&&function(){d.apply(this,arguments)}()}),[null==e?void 0:e.isChatHistory,null==r?void 0:r.userID]),tr("div",{key:"chatend_for_".concat(e.turnIndex,"_message_").concat(e.messageIndex),className:" vg-bg-content2 vg-w-full vg-h-auto vg-flex vg-flex-col vg-text-base vg-p-4 vg-rounded-large vg-chat-end"},tr("p",null,tr(b.Z,{to:null===(t=r.variables)||void 0===t?void 0:t.lang,text:"Chat has Ended."})))};var lr=o.createElement;const or=function(e){var t,n;(0,i.useRuntime)().runtime;return lr("div",{className:" vg- vg-flex vg-items-center vg-gap-2 vg-py-2 vg-bg-content2 vg-rounded-lg vg-px-4 vg-text-small ".concat("info:primary"===e.message.type?" vg-bg-gradient-to-b vg-from-primary-400 vg-to-primary-500 vg-text-white ":" "," ").concat("info:default"===e.message.type?" vg-bg-content2 vg-text-foreground ":" "," ").concat("info:danger"===e.message.type?" vg-bg-danger-800 vg-text-danger-100 ":" "," ").concat("info:success"===e.message.type?" vg-bg-success-800 vg-text-success-100 ":" "," vg-vgc-info "),key:"chat-message-info-".concat(e.turnIndex,"-").concat(e.messageIndex)},lr("div",{className:" vg-flex-shrink-0 vg-w-4 vg-h-4 vg-vgc-info--icon "},"info:default"===e.message.type||"info:primary"===e.message.type?lr(A.JjM,{className:" vg-w-full vg-h-full "}):null,"info:success"===e.message.type?lr(oe.l_A,{className:" vg-w-full vg-h-full "}):null,"info:danger"===e.message.type?lr(A.sQZ,{className:" vg-w-full vg-h-full "}):null),lr("div",{className:" vg-vgc-info--text "},lr(_e.Z,null,(null===(t=e.message)||void 0===t||null===(t=t.item)||void 0===t?void 0:t.payload)||(null===(n=e.message)||void 0===n?void 0:n.item))))};var ir=o.createElement;const sr=function(e){var t,n=(0,i.useRuntime)().runtime,a=o.useState(!1),r=(0,l.Z)(a,2),s=r[0],u=r[1],v=String((null===(t=e.message)||void 0===t||null===(t=t.item)||void 0===t||null===(t=t.payload)||void 0===t?void 0:t.image)||(null==e?void 0:e.message)||"");return o.useEffect((function(){var e;s&&(e="vg-chat-scroll-container",new Promise((function(t){if(document.getElementById(e))return t(document.getElementById(e));var n=new MutationObserver((function(a){document.getElementById(e)&&(n.disconnect(),t(document.getElementById(e)))}));n.observe(document.body,{childList:!0,subtree:!0})}))).then((function(e){var t,a;e.scrollTo({top:null===(t=document.getElementById("vg-chat-scroll-container"))||void 0===t?void 0:t.scrollHeight,behavior:null!==(a=n.variables)&&void 0!==a&&a.disableSmoothScroll?"auto":"smooth"})}))}),[s]),ir("div",{key:"chat_message_image_".concat(e.turnIndex,"_").concat(e.messageIndex),className:" ".concat("human"===e.message.from?" vg-w-[75%] ":" vg-w-full "," vg-h-full vg-rounded-large vg-overflow-none vg-relative vg-chat-message--image")},!s&&ir(me.Z,{className:" vg-w-full vg-h-full vg-rounded-large vg-absolute vg-z-[10] vg-top-0 vg-left-0 "}),v?ir(p.Z,{disableSkeleton:!0,onLoad:function(){return u(!0)},classNames:{wrapper:" vg-rounded-medium vg-overflow-none "},className:" vg-w-auto vg-h-auto vg-object-cover vg-rounded-medium vg-message-image ",src:null!=v&&v.includes("https://")?v:"https://".concat(v)}):null)};var ur=n(29505),vr=(0,wt.k)({name:"DropdownContext",errorMessage:"useDropdownContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Dropdown />`"}),cr=(0,l.Z)(vr,2),gr=cr[0],dr=cr[1],mr=n(65367),fr=n(68335),pr=(0,rt.tv)({base:[" vg-w-full "," vg-p-1 "," vg-min-w-[200px] "]}),br=((0,rt.tv)({slots:{base:[" vg-flex "," vg-group "," vg-gap-2 "," vg-items-center "," vg-justify-between "," vg-relative "," vg-px-2 "," vg-py-1.5 "," vg-w-full "," vg-h-full "," vg-box-border "," vg-rounded-small "," vg-outline-none "," vg-cursor-pointer "," vg-tap-highlight-transparent "," vg-data-[pressed=true]:opacity-70 "].concat((0,V.Z)(lt.Dh),[" vg-data-[focus-visible=true]:dark:ring-offset-background-content1 "]),wrapper:" vg-w-full vg-flex vg-flex-col vg-items-start vg-justify-center ",title:" vg-flex-1 vg-text-small vg-font-normal vg-truncate ",description:[" vg-w-full "," vg-text-tiny "," vg-text-foreground-500 "," vg-group-hover:text-current "],selectedIcon:[" vg-text-inherit "," vg-w-3 "," vg-h-3 "," vg-flex-shrink-0 "],shortcut:[" vg-px-1 "," vg-py-0.5 "," vg-rounded "," vg-font-sans "," vg-text-foreground-500 "," vg-text-tiny "," vg-border-small "," vg-border-default-300 "," vg-group-hover:border-current "]},variants:{variant:{solid:{base:" "},bordered:{base:" vg-border-medium vg-border-transparent vg-bg-transparent "},light:{base:" vg-bg-transparent "},faded:{base:" vg-border-small vg-border-transparent vg-hover:border-default vg-data-[hover=true]:bg-default-100 "},flat:{base:" "},shadow:{base:" vg-data-[hover=true]:shadow-lg "}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},isDisabled:{true:{base:" vg-opacity-disabled vg-pointer-events-none "}},disableAnimation:{true:{},false:{}}},defaultVariants:{variant:"solid",color:"default",disableAnimation:!1},compoundVariants:[{variant:"solid",color:"default",class:{base:" vg-data-[hover=true]:bg-default vg-data-[hover=true]:text-default-foreground "}},{variant:"solid",color:"primary",class:{base:" vg-data-[hover=true]:bg-primary vg-data-[hover=true]:text-primary-foreground "}},{variant:"solid",color:"secondary",class:{base:" vg-data-[hover=true]:bg-secondary vg-data-[hover=true]:text-secondary-foreground "}},{variant:"solid",color:"success",class:{base:" vg-data-[hover=true]:bg-success vg-data-[hover=true]:text-success-foreground "}},{variant:"solid",color:"warning",class:{base:" vg-data-[hover=true]:bg-warning vg-data-[hover=true]:text-warning-foreground "}},{variant:"solid",color:"danger",class:{base:" vg-data-[hover=true]:bg-danger vg-data-[hover=true]:text-danger-foreground "}},{variant:"shadow",color:"default",class:{base:" vg-data-[hover=true]:shadow-default/50 vg-data-[hover=true]:bg-default vg-data-[hover=true]:text-default-foreground "}},{variant:"shadow",color:"primary",class:{base:" vg-data-[hover=true]:shadow-primary/30 vg-data-[hover=true]:bg-primary vg-data-[hover=true]:text-primary-foreground "}},{variant:"shadow",color:"secondary",class:{base:" vg-data-[hover=true]:shadow-secondary/30 vg-data-[hover=true]:bg-secondary vg-data-[hover=true]:text-secondary-foreground "}},{variant:"shadow",color:"success",class:{base:" vg-data-[hover=true]:shadow-success/30 vg-data-[hover=true]:bg-success vg-data-[hover=true]:text-success-foreground "}},{variant:"shadow",color:"warning",class:{base:" vg-data-[hover=true]:shadow-warning/30 vg-data-[hover=true]:bg-warning vg-data-[hover=true]:text-warning-foreground "}},{variant:"shadow",color:"danger",class:{base:" vg-data-[hover=true]:shadow-danger/30 vg-data-[hover=true]:bg-danger vg-data-[hover=true]:text-danger-foreground "}},{variant:"bordered",color:"default",class:{base:" vg-data-[hover=true]:border-default "}},{variant:"bordered",color:"primary",class:{base:" vg-data-[hover=true]:border-primary vg-data-[hover=true]:text-primary "}},{variant:"bordered",color:"secondary",class:{base:" vg-data-[hover=true]:border-secondary vg-data-[hover=true]:text-secondary "}},{variant:"bordered",color:"success",class:{base:" vg-data-[hover=true]:border-success vg-data-[hover=true]:text-success "}},{variant:"bordered",color:"warning",class:{base:" vg-data-[hover=true]:border-warning vg-data-[hover=true]:text-warning "}},{variant:"bordered",color:"danger",class:{base:" vg-data-[hover=true]:border-danger vg-data-[hover=true]:text-danger "}},{variant:"flat",color:"default",class:{base:" vg-data-[hover=true]:bg-default/40 vg-data-[hover=true]:text-default-foreground "}},{variant:"flat",color:"primary",class:{base:" vg-data-[hover=true]:bg-primary/20 vg-data-[hover=true]:text-primary "}},{variant:"flat",color:"secondary",class:{base:" vg-data-[hover=true]:bg-secondary/20 vg-data-[hover=true]:text-secondary "}},{variant:"flat",color:"success",class:{base:" vg-data-[hover=true]:bg-success/20 vg-data-[hover=true]:text-success "}},{variant:"flat",color:"warning",class:{base:" vg-data-[hover=true]:bg-warning/20 vg-data-[hover=true]:text-warning "}},{variant:"flat",color:"danger",class:{base:" vg-data-[hover=true]:bg-danger/20 vg-data-[hover=true]:text-danger "}},{variant:"faded",color:"default",class:{base:" vg-data-[hover=true]:text-default-foreground "}},{variant:"faded",color:"primary",class:{base:" vg-data-[hover=true]:text-primary "}},{variant:"faded",color:"secondary",class:{base:" vg-data-[hover=true]:text-secondary "}},{variant:"faded",color:"success",class:{base:" vg-data-[hover=true]:text-success "}},{variant:"faded",color:"warning",class:{base:" vg-data-[hover=true]:text-warning "}},{variant:"faded",color:"danger",class:{base:" vg-data-[hover=true]:text-danger "}},{variant:"light",color:"default",class:{base:" vg-data-[hover=true]:text-default-500 "}},{variant:"light",color:"primary",class:{base:" vg-data-[hover=true]:text-primary "}},{variant:"light",color:"secondary",class:{base:" vg-data-[hover=true]:text-secondary "}},{variant:"light",color:"success",class:{base:" vg-data-[hover=true]:text-success "}},{variant:"light",color:"warning",class:{base:" vg-data-[hover=true]:text-warning "}},{variant:"light",color:"danger",class:{base:" vg-data-[hover=true]:text-danger "}}]}),(0,rt.tv)({slots:{base:" vg-relative vg-mb-2 ",heading:" vg-pl-1 vg-text-tiny vg-text-foreground-500 ",group:" vg-data-[has-title=true]:pt-1 ",divider:" vg-mt-2 "}}),(0,rt.tv)({base:" vg-w-full vg-flex vg-flex-col vg-gap-0.5 vg-p-1 "}),n(48255)),hr=["as","triggerRef","isOpen","defaultOpen","onOpenChange","type","trigger","placement","isDisabled","closeOnSelect","shouldBlockScroll","classNames","disableAnimation","onClose","className"],yr=["onKeyDown","onPress","onPressStart"];function wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wr(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Or(e){var t=e.as,n=e.triggerRef,a=e.isOpen,r=e.defaultOpen,l=e.onOpenChange,i=e.type,s=void 0===i?"menu":i,u=e.trigger,c=void 0===u?"press":u,g=e.placement,d=void 0===g?"bottom":g,m=e.isDisabled,f=void 0!==m&&m,p=e.closeOnSelect,b=void 0===p||p,h=e.shouldBlockScroll,y=void 0===h||h,w=e.classNames,x=e.disableAnimation,O=void 0!==x&&x,P=e.onClose,N=e.className,k=(0,v.Z)(e,hr),j=t||"div",D=(0,o.useRef)(null),S=n||D,C=(0,o.useRef)(null),I=(0,o.useRef)(null),Z=(0,mr.W)({trigger:c,isOpen:a,defaultOpen:r,onOpenChange:function(e){null==l||l(e),e||null==P||P()}}),E=(0,fr.u)({type:s,trigger:c,isDisabled:f},Z,S),_=E.menuTriggerProps,T=E.menuProps,R=(0,o.useMemo)((function(){return pr({className:N})}),[N]);return{Component:j,menuRef:C,menuProps:T,classNames:R,closeOnSelect:b,onClose:Z.close,autoFocus:Z.focusStrategy||!0,disableAnimation:O,getPopoverProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return xr(xr({state:Z,placement:d,ref:I,disableAnimation:O,shouldBlockScroll:y,scrollRef:C,triggerRef:S},(0,ct.d)(k,e)),{},{classNames:xr(xr(xr({},w),e.classNames),{},{content:(0,bt.W)(R,null==w?void 0:w.content,e.className)})})},getMenuProps:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return xr({ref:(0,br.l)(t,C),menuProps:T},(0,ct.d)(e,{onAction:function(){var t;(void 0===(t=null==e?void 0:e.closeOnSelect)||t)&&b&&Z.close()}}))},getMenuTriggerProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(_.onKeyDown,_.onPress,_.onPressStart,(0,v.Z)(_,yr));return xr(xr({},(0,ct.d)(n,e)),{},{ref:(0,br.l)(t,D)})}}}var Pr=["children"],Nr=o.createElement,kr=function(e){var t=e.children,n=Or((0,v.Z)(e,Pr)),a=o.Children.toArray(t),r=(0,l.Z)(a,2),i=r[0],s=r[1];return Nr(gr,{value:n},Nr(ur.j,n.getPopoverProps(),i,s))};kr.displayName="NextUI.Dropdown";const jr=kr;var Dr=n(90351),Sr=["children"],Cr=o.createElement,Ir=(0,tt.Gp)((function(e,t){var n=dr().getMenuTriggerProps,a=e.children,r=(0,v.Z)(e,Sr);return Cr(Dr.b,n(r),a)}));Ir.displayName="NextUI.DropdownTrigger";const Zr=Ir;var Er=n(4671),_r=n(63062),Tr=n(13833),Rr=o.createElement;function Mr(e,t){var n=dr().getMenuProps;return Rr(Er.g,null,Rr(_r.MT,{contain:!0,restoreFocus:!0},Rr(Tr.U,n(e,t))))}const Vr=(0,tt.Gp)(Mr);Mr.displayName="NextUI.DropdownMenu";var Br=n(32616),Fr=n(4511),Lr=o.createElement;const zr=function(e){try{var t,n=(0,i.useRuntime)(),a=(n.handlePushMessage,n.runtime),r=n.confirmedBucket,s=e.message.item,u=o.useState(s.payload.buttons[0]),v=(0,l.Z)(u,2),c=v[0],g=v[1],d=(null==c?void 0:c.buttons)||[],m=o.useState(d[0]),p=(0,l.Z)(m,2),b=p[0],h=p[1];return Lr(Fr.SV,{FallbackComponent:function(){return Lr("div",null,Lr("div",null,"Something went wrong!"))}},Lr("div",{className:" vg-flex vg-flex-col vg-gap-2 vg-chat-message-text-inner-content vg-w-full "},Lr(jr,{className:" vg-w-full "},Lr(Zr,{className:" vg-w-full vg-relative "},Lr(f.Z,{variant:"bordered",className:" vg-capitalize vg-w-full "},null==c?void 0:c.label,Lr($.kc8,{className:" vg-w-6 vg-h-6 vg-flex-shrink-0 "}))),Lr(Vr,{"aria-label":"Single selection example",variant:"flat",disallowEmptySelection:!0,selectionMode:"single",selectedKeys:[null==c?void 0:c.value],onSelectionChange:function(e){var t,n=(0,V.Z)(e)[0];g(s.payload.buttons.find((function(e){return e.value===n}))),h(null===(t=s.payload.buttons.find((function(e){return e.value===n})))||void 0===t?void 0:t.buttons[0])}},(null===(t=s.payload.buttons)||void 0===t?void 0:t.length)&&s.payload.buttons.map((function(e,t){return Lr(Br.W,{key:e.value},e.label)})))),Lr(jr,null,Lr(Zr,null,Lr(f.Z,{variant:"bordered",className:" vg-capitalize vg-w-full "},null==b?void 0:b.label,Lr($.kc8,{className:" vg-w-6 vg-h-6 vg-flex-shrink-0 "}))),Lr(Vr,{"aria-label":"Single selection example",variant:"flat",disallowEmptySelection:!0,selectionMode:"single",selectedKeys:[null==b?void 0:b.value],onSelectionChange:function(e){var t=(0,V.Z)(e)[0];h(d.find((function(e){return e.value===t})))}},(null==d?void 0:d.length)&&d.map((function(e,t){return Lr(Br.W,{key:e.value},e.label)})))),Lr(f.Z,{color:"primary",onPress:function(){(0,i.handlePushMessageNoInteract)({agentID:a.variables.ID,userID:a.userID,action:{type:"default",payload:{type:"MultiDropdown",payload:{selectedButton:c,selectedNestedButton:b}}},messages:[{from:"human",type:"info:success",item:"Submission successful!",delay:0}],bucket:r,vf_variables:{multiDropdown:JSON.stringify({selectedButton:c,selectedNestedButton:b})},origin:"web-chat"})},className:" vg-font-bold "},"Submit")))}catch(e){return Lr("div",{className:" vg-bg-danger-800 vg-text-danger-100 vg-p-4 vg-rounded-large "},Lr("div",null,"Something went wrong! ",e.toString()),Lr("div",null,"Make sure the payload interface matches that in the default example."))}};var Ar=o.createElement,Ur=u()((function(){return n.e(413).then(n.bind(n,1413))}),{loading:function(){return Ar(Wr,{variant:"no-avatar"})},loadableGenerated:{webpack:function(){return[1413]}}}),Gr=u()((function(){return Promise.all([n.e(893),n.e(414)]).then(n.bind(n,31414))}),{loadableGenerated:{webpack:function(){return[31414]}}}),Wr=u()((function(){return Promise.resolve().then(n.bind(n,45392))}),{loadableGenerated:{webpack:function(){return[45392]}}}),Hr=u()((function(){return n.e(465).then(n.bind(n,23465))}),{loadableGenerated:{webpack:function(){return[23465]}}}),qr=u()((function(){return n.e(899).then(n.bind(n,64899))}),{loadableGenerated:{webpack:function(){return[64899]}}}),Kr=u()((function(){return n.e(424).then(n.bind(n,46424))}),{loadableGenerated:{webpack:function(){return[46424]}}}),Jr=u()((function(){return n.e(517).then(n.bind(n,76517))}),{loadableGenerated:{webpack:function(){return[76517]}}});const Xr=function(e){var t,n,r,s,u,v,c,g,d,f,p,b=(0,m.B)().config,h=(0,i.useRuntime)(),y=h.runtime,w=(h.handlePushMessage,h.formattedTurnsValue),O=(0,k.F)().theme,N=e.turnIndex,j=e.messageIndex,D=e.messageItem,S=e.turn,C=e.turnsWithoutButtonMessages||w,I=o.useState(!1),Z=(0,l.Z)(I,2),E=Z[0],_=Z[1],T=o.useState(!1),R=(0,l.Z)(T,2),M=R[0],B=R[1],F=(null===(t=C[N])||void 0===t||null===(t=t.messages)||void 0===t?void 0:t.length)-1,L=null!=b&&null!==(n=b.extensions)&&void 0!==n&&n.length?(0,V.Z)((null==b?void 0:b.extensions)||[]):[],z=o.useMemo((function(){var t,n,r,l,i,s,u=L.find((function(e){var t=(null==e?void 0:e.name)===(null==D?void 0:D.type);if(null!=e&&e.match)try{e.match({trace:{type:D.type}})&&(t=!0)}catch(e){}return t}));return Ar(o.Fragment,null,u?Ar(Kr,{message:D,extension:u,messageIndex:j,turnIndex:N}):null,"text"===(null==D?void 0:D.type)?Ar(Gt.Z,{feedback:null==D?void 0:D.feedback,isChatHistory:e.isChatHistory,className:" vg- ".concat("human"===D.from&&" vg-w-auto vg-max-w-[75%] "," vg- ").concat("human"===D.from&&" ".concat(O.includes("dark")?" vg-bg-primary-300 ":" vg-bg-primary-600 "," vg-p-3 vg-rounded-tl-[25px] vg-rounded-bl-[25px] vg-rounded-tr-[25px] vg-rounded-br-[5px] ")," vg-justify-self-end vg-message-text-").concat(D.from," "),key:"text___view_".concat(N,"_").concat(j),message:D}):"","Flowise"!==(null==D?void 0:D.type)||e.isChatHistory?null:Ar(Ur,{message:D,turnIndex:N,messageIndex:j}),"MultiDropdown"===(null==D?void 0:D.type)?Ar(zr,{turnIndex:N,message:D,messageIndex:j}):null,null!=D&&null!==(t=D.type)&&void 0!==t&&t.includes("info")?Ar(or,{message:D,turnIndex:N,messageIndex:j}):"","EmailForm"===(null==D?void 0:D.type)?Ar(Jr,{messageIndex:j,turnIndex:N,message:D}):null,"choice"===(null==D?void 0:D.type)&&"in-footer"!==(null==y||null===(n=y.variables)||void 0===n?void 0:n.buttonsLayout)?Ar(Y.Z,{isCarousel:"horizontal"===(null===(r=y.variables)||void 0===r?void 0:r.buttonsLayout),messageTurnIndex:N,key:"button_turn_".concat(N,"_message_").concat(j),size:"md",item:D.item,index:j,className:" vg-tw-ltr vg-buttons-message--btn",containerClassname:"tw-ltr vg-buttons-message-btn-container"}):null,"jsx"===(null==D?void 0:D.type)?Ar("div",{className:" vg-w-full vg-h-auto vg-message-custom-jsx"},D.item):null,"carousel"===(null==D?void 0:D.type)?Ar("div",{key:"carosel_for_".concat(N),className:" vg-w-full vg-h-auto vg-message-carousel-container"},Ar(Fe,{turnIndex:N,messageIndex:j,lastBotMessageIndex:S.messages.length-1,cards:(null===(l=D.item)||void 0===l||null===(l=l.payload)||void 0===l?void 0:l.cards)||D.item})):null,"cardV2"===(null==D?void 0:D.type)?Ar("div",{key:"card_for_".concat(N,"_message_").concat(j),className:" vg-w-full vg-h-auto vg-relative vg-message-card-container"},Ar(Re,(0,a.Z)({},null==D||null===(i=D.item)||void 0===i?void 0:i.payload,{turnIndex:N}))):null,"visual"===(null==D?void 0:D.type)?Ar(sr,{messageIndex:j,turnIndex:N,message:D}):null,"FileUpload"===(null==D?void 0:D.type)?Ar($e,{turnIndex:N,messageIndex:j}):null,"MultiFileUpload"===(null==D?void 0:D.type)?Ar(Hr,{turnIndex:N,messageIndex:j,message:D}):null,"MultiSelect"===(null==D?void 0:D.type)?Ar(Ut,{turnIndex:N,messageIndex:j,buttons:(null==D||null===(s=D.item)||void 0===s||null===(s=s.payload)||void 0===s?void 0:s.buttons)||D.item}):null,"Embed"===(null==D?void 0:D.type)||"iFrame"===(null==D?void 0:D.type)?Ar("div",{key:"embed_".concat(N,"_message_").concat(j),className:" vg-w-full vg-h-auto "},Ar(Jt,{iFrame:"iFrame"===(null==D?void 0:D.type),itemData:D.item})):null,"GoogleForm"===(null==D?void 0:D.type)?Ar("div",{key:"gfrom_".concat(N,"_message_").concat(j),className:" vg-w-full vg-h-auto "},Ar(Ha,{turnIndex:N,messageIndex:j,item:D.item})):null,"VoiceNote"===(null==D?void 0:D.type)?Ar("div",{key:"voicenote_".concat(N,"_message_").concat(j),className:" vg-w-full vg-h-auto "},Ar(Xa,{audioLink:D.item.payload,withWaves:!0})):null,"Slider"===(null==D?void 0:D.type)?Ar("div",{key:"slider_".concat(N,"_message_").concat(j),className:" vg-w-full vg-h-auto vg-p-4 vg-rounded-large vg-bg-content2 "},Ar(qr,{turnIndex:N,messageIndex:j,message:D,isChatHistory:e.isChatHistory})):null,"end"===(null==D?void 0:D.type)?Ar(rr,{isChatHistory:e.isChatHistory,hasEverPaid:e.hasEverPaid,turnIndex:N,messageIndex:j}):null)}),[D,null==D?void 0:D.type,null===(r=D.item)||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.message,null===(s=D.item)||void 0===s||null===(s=s.payload)||void 0===s?void 0:s.buttons,null===(u=D.item)||void 0===u||null===(u=u.payload)||void 0===u?void 0:u.image,null==D||null===(v=D.item)||void 0===v||null===(v=v.payload)||void 0===v?void 0:v.title,null==D||null===(c=D.item)||void 0===c||null===(c=c.payload)||void 0===c?void 0:c.imageUrl,null==D||null===(g=D.item)||void 0===g||null===(g=g.payload)||void 0===g||null===(g=g.description)||void 0===g?void 0:g.text,b,null==D||null===(d=D.item)||void 0===d||null===(d=d.payload)||void 0===d?void 0:d.url]);return Ar("div",{key:"container_turn_".concat(N,"_message_").concat(j,"_from_").concat(D.from),className:" vg-flex vg-relative vg-flex-col vg-gap-2 vg-h-full vg-message-container vg-message-container-".concat(D.from," ")},Ar(P.M,null,Ar(x.Z,{onMouseEnter:function(){return B(!0)},onMouseLeave:function(){return B(!1)},id:"turn_".concat(N,"_message_").concat(j),className:" ".concat("carousel"===(null==D?void 0:D.type)?" ":" vg-mx-4 vg-md:mx-6 "," vg-relative vg-h-full vg-flex vg-gap-2 vg-overflow-y-hidden vg-overflow-x-hidden vg-message-outer-container"),divKey:"turn_".concat(N,"_message_").concat(j,"_from_").concat(D.from)},"carousel"!==(null==D?void 0:D.type)&&Ar("div",{className:" vg-w-10 vg-flex vg-items-end vg-message-avatar-container"},"bot"===D.from&&(j===F||e.isChatHistory)&&Ar(Ve.Z,{key:"chat_avatar_".concat(N,"_").concat(j)})),Ar("div",{onMouseLeave:function(){return _(!1)},onMouseEnter:function(){return _(!0)},className:" vg-transition-all vg-duration-300 vg-ease-in-out ".concat((D.isLoading," vg-opacity-100 ")," vg-group vg-relative vg-text-medium vg-h-auto vg-flex vg-gap-2 ").concat("choice"===(null==D?void 0:D.type)?" vg-w-[90%] ":" "," ").concat("GoogleForm"===D.type?" vg-overflow-x-auto ":" "," ").concat("bot"!==D.from||"text"!==(null==D?void 0:D.type)&&"Flowise"!==(null==D?void 0:D.type)&&"GoogleForm"!==(null==D?void 0:D.type)&&"VoiceNote"!==(null==D?void 0:D.type)?" ":" vg-bg-content2 vg-p-1 ".concat("text"===(null==D?void 0:D.type)?" vg-max-w-[75%] ":" vg-w-[75%] "," vg-rounded-tl-large vg-rounded-bl-[5px] vg-rounded-tr-large vg-rounded-br-large vg-max-w-[500px] vg-message-inner-container-bot")," ").concat("human"===D.from?"vg-message-inner-container-human vg-text-white vg-justify-self-end vg-w-full vg-flex-row-reverse ":" "," ").concat("bot"===D.from&&"text"!==(null==D?void 0:D.type)&&"Flowise"!==(null==D?void 0:D.type)&&"carousel"!==(null==D?void 0:D.type)?" vg-max-w-[700px] ":" "," ").concat("carousel"===(null==D?void 0:D.type)||"Embed"===(null==D?void 0:D.type)||"iFrame"===(null==D?void 0:D.type)||"FileUpload"===(null==D?void 0:D.type)||"MultiFileUpload"===(null==D?void 0:D.type)||"MultiSelect"===(null==D?void 0:D.type)||"MultiDropdown"===(null==D?void 0:D.type)||"Slider"===D.type?" vg-w-full ":" "," ")},z,Ar(P.M,null,"text"===(null==D?void 0:D.type)&&"bot"===D.from&&null!==(f=y.variables)&&void 0!==f&&f.recordChatHistory&&(E||null!=y&&null!==(p=y.variables)&&void 0!==p&&null!==(p=p.ui)&&void 0!==p&&p.enableFixedFeedbackBtns)&&!e.isChatHistory?Ar(Gr,{turnIndex:N,messageIndex:j}):""),Ar(P.M,null,M&&"text"===(null==D?void 0:D.type)&&"human"===D.from?Ar(et,{ts:D.ts,turnIndex:N,messageIndex:j}):"")),Ar(P.M,null,M&&"text"===(null==D?void 0:D.type)&&"bot"===D.from?Ar(et,{ts:D.ts,turnIndex:N,messageIndex:j}):""))))};var Qr=(0,rt.tv)({base:" vg-w-px vg-h-px vg-inline-block ",variants:{isInline:{true:" vg-inline-block ",false:" vg-block "}},defaultVariants:{isInline:!1}}),$r={px:"1px",0:"0px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",11:"2.75rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},Yr=["as","className","x","y"];function el(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function tl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?el(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):el(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nl=function(e){var t;return null!==(t=$r[e])&&void 0!==t?t:e};var al=o.createElement;function rl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var ll=(0,tt.Gp)((function(e,t){var n=function(e){var t=(0,tt.oe)(e,Qr.variantKeys),n=(0,l.Z)(t,2),a=n[0],r=n[1],i=a.as,s=a.className,u=a.x,c=void 0===u?1:u,g=a.y,d=void 0===g?1:g,m=(0,v.Z)(a,Yr),f=i||"span",p=(0,o.useMemo)((function(){return Qr(tl(tl({},r),{},{className:s}))}),[].concat((0,V.Z)(Object.values(r)),[s])),b=nl(c),h=nl(d);return{Component:f,getSpacerProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return tl(tl(tl({},e),m),{},{"aria-hidden":(0,mt.PB)(!0),className:(0,bt.W)(p,e.className),style:tl(tl(tl({},e.style),m.style),{},{marginLeft:b,marginTop:h})})}}}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rl(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)),i=n.Component,s=n.getSpacerProps;return al(i,(0,a.Z)({ref:t},s()))}));ll.displayName="NextUI.Spacer";const ol=ll;var il=n(45392),sl=n(60619),ul=o.createElement;const vl=function(e){var t,n,a=(null===(t=e.sources)||void 0===t?void 0:t.filter((function(e){var t;return null===(t=e.payload)||void 0===t?void 0:t.url})).length)>0,r=null===(n=e.sources)||void 0===n?void 0:n.filter((function(e,t,n){return t===n.findIndex((function(t){var n,a;return(null===(n=t.payload)||void 0===n?void 0:n.url)===(null===(a=e.payload)||void 0===a?void 0:a.url)}))}));return a?ul("div",{className:" vg-w-[90%] vg-mx-auto "},ul(De.default,{width:350,className:" vg-flex vg-flex-col vg-gap-2 vg-w-full ",key:"sources-".concat(e.turnIndex),label:"Sources"},r.filter((function(e){var t;return null===(t=e.payload)||void 0===t?void 0:t.url})).map((function(e,t){var n,a,r;return ul("a",{target:"_blank",href:null===(n=e.payload)||void 0===n?void 0:n.url,key:t,className:" vg-flex vg-gap-2 vg-justify-between vg-items-center vg-w-full vg-text-left vg-items-center vg-gap-1 vg-p-4 vg-rounded-large vg-bg-content2 "},ul("div",{className:" vg-flex vg-gap-4 vg-items-center vg-grow "},ul(Z.gjK,{className:" vg-w-5 vg-h-5 vg-flex-shrink-0 "}),ul("div",{className:" vg-w-full vg-flex vg-flex-col "},ul("p",{className:" vg-w-full vg-w-24 vg-truncate vg-text-small vg-font-bold "},null===(a=e.payload)||void 0===a?void 0:a.doc_name),ul("p",{className:" vg-text-tiny vg-opacity-80 vg-w-52 vg-truncate "},null===(r=e.payload)||void 0===r?void 0:r.urlDescription))),ul(y.sOJ,{className:" vg-w-4 vg-h-4 vg-flex-shrink-0 "}))})))):null};var cl=o.createElement;function gl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function dl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gl(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ml=function(e){var t,n,a,r,s,u,v,c,g,d,f,p=(0,m.B)(),b=(p.config,p.safeOwnerData,o.useState([])),h=(0,l.Z)(b,2),y=h[0],w=h[1],O=(0,i.useRuntime)(),N=O.runtime,k=O.setRuntime,j=O.formattedTurnsValue,D=o.useState([]),S=(0,l.Z)(D,2),C=S[0],I=S[1],Z=o.useState(0),E=(0,l.Z)(Z,2),_=E[0],T=E[1],R=(0,sl.Z)((null==e||null===(t=e.localRuntimeData)||void 0===t?void 0:t.soundEffectUrl)||(null==N||null===(n=N.variables)||void 0===n?void 0:n.soundEffectUrl)||"https://pub-78d23252e3324567b5ee23d57acddddd.r2.dev/mixkit-correct-answer-tone-2870.wav",{soundEnabled:(null==e||null===(a=e.localRuntimeData)||void 0===a?void 0:a.soundEffectEnabled)||(null==N||null===(r=N.variables)||void 0===r?void 0:r.soundEffectEnabled)}),M=(0,l.Z)(R,1)[0],B=o.useMemo((function(){return Number(N.defaultMessageDelay||1e3)}),[N.defaultMessageDelay]),F=o.useMemo((function(){return j.map((function(e){var t,n;return dl(dl({},e),{},{messages:"in-footer"===(null==N||null===(t=N.variables)||void 0===t?void 0:t.buttonsLayout)?null===(n=e.messages)||void 0===n?void 0:n.filter((function(e){return"choice"!==(null==e?void 0:e.type)})):null==e?void 0:e.messages})}))}),[j,null==N||null===(s=N.variables)||void 0===s?void 0:s.buttonsLayout]),L=o.useMemo((function(){return y.map((function(e){var t,n;return dl(dl({},e),{},{messages:"in-footer"===(null==N||null===(t=N.variables)||void 0===t?void 0:t.buttonsLayout)?null===(n=e.messages)||void 0===n?void 0:n.filter((function(e){return"choice"!==(null==e?void 0:e.type)})):null==e?void 0:e.messages})}))}),[y,null==N||null===(u=N.variables)||void 0===u?void 0:u.buttonsLayout]);return o.useEffect((function(){var t;if("vg"!==(null==N||null===(t=N.variables)||void 0===t?void 0:t.agentPlatform)){if(C.forEach(clearTimeout),j.length){k((function(e){return dl(dl({},e),{},{showInstantly:!1})}));var n=j[j.length-1],a=y[y.length-1];return n.messages.filter((function(e){var t;return"VGVF_Channel"!==e.type&&"VG_Response"!==e.type&&"VG_Cancel"!==e.payload&&("in-footer"!==(null==N||null===(t=N.variables)||void 0===t?void 0:t.buttonsLayout)||"choice"!==e.type)})).forEach((function(e,t){var r,l=n.messages.slice(0,t).reduce((function(e,t){return e+((null==t?void 0:t.delay)||B)}),0),o=null!=N&&N.showInstantly&&0===(null==y?void 0:y.length)||"human"===(null==e?void 0:e.from)||(null==a?void 0:a.from)===(null==n?void 0:n.from)?0:(e.delay||B)+l,i=setTimeout((function(){var e=(0,V.Z)(j),a=e.length-1,r=e[a].messages[t];document.dispatchEvent(new CustomEvent("VG_Events",{detail:{event:"new_message",data:r,ts:W()().unix()}}));var l={from:n.from,messages:"bot"===n.from?n.messages.slice(0,t+1):n.messages};e[a]=l,w(e)}),"vg"===(null==N||null===(r=N.variables)||void 0===r?void 0:r.agentPlatform)?0:o);I((function(e){return[].concat((0,V.Z)(e),[i])}))})),function(){C.forEach(clearTimeout)}}w([])}else{if(e.autoScroll){var r=document.getElementById("vg-chat-scroll-container");r.scrollTop=r.scrollHeight}w(j)}}),[j]),o.useEffect((function(){var e,t,n,a,r;if(0===j.length&&T(0),(n="vg-chat-scroll-container",new Promise((function(e){if(document.getElementById(n))return e(document.getElementById(n));var t=new MutationObserver((function(a){document.getElementById(n)&&(t.disconnect(),e(document.getElementById(n)))}));t.observe(document.body,{childList:!0,subtree:!0})}))).then((function(e){var t,n=document.getElementById("vg-chat-scroll-container");null!=n&&n.scrollHeight&&(null==e||e.scrollTo({top:null==n?void 0:n.scrollHeight,behavior:null!==(t=N.variables)&&void 0!==t&&t.disableSmoothScroll?"auto":"smooth"}))})),null!==(e=F[F.length-1])&&void 0!==e&&null!==(e=e.messages)&&void 0!==e&&e.length&&null!==(t=y[y.length-1])&&void 0!==t&&null!==(t=t.messages)&&void 0!==t&&t.length)if((null===(a=L[L.length-1])||void 0===a||null===(a=a.messages)||void 0===a?void 0:a.length)===(null===(r=F[F.length-1])||void 0===r||null===(r=r.messages)||void 0===r?void 0:r.length)&&L.length===F.length){var l,o="human"===F[F.length-1].from;!1===o&&(null==F?void 0:F.length)>_&&null!=N&&null!==(l=N.variables)&&void 0!==l&&l.soundEffectEnabled&&!N.showVapiUI&&(M(),T((function(e){return F.length}))),k((function(e){return dl(dl({},e),{},{loading:o})}))}else k((function(e){return dl(dl({},e),{},{loading:!0})}));else k((function(e){return dl(dl({},e),{},{loading:!0})}))}),[j,y,N.loading,N.blockLoading]),o.useEffect((function(){y.length>0&&(null==j?void 0:j.length)===y.length?k((function(e){return dl(dl({},e),{},{showInstantly:!0})})):k((function(e){return dl(dl({},e),{},{showInstantly:!1})}))}),[y]),cl(x.Z,{className:" vg-flex vg-flex-col vg-gap-5 vg-pt-[20px] vg-pb-[50px] vg-chat--current-convo",key:"vg-chat-scroll-container-2"},null!==(v=N.variables)&&void 0!==v&&v.enableVGHandoff?cl(Se.default,{localRuntimeData:null==e?void 0:e.localRuntimeData,setLocalData:null==e?void 0:e.setLocalData,active:(null==N||null===(c=N.variables)||void 0===c?void 0:c.fixedHandoffPopup)||e.hasScrolledUp||0===e.prevScrollPos||!y.find((function(e){return"human"===e.from}))}):null,cl(P.M,null,cl(Ee,{localRuntimeData:null==e?void 0:e.localRuntimeData,setLocalData:null==e?void 0:e.setLocalData})),cl(ol,{className:" vg-opacity-25 vg-bg-primary "}),y.map((function(t,n){var a,r;return cl("div",{key:"turn_container_number_".concat(n),className:" vg-w-full vg-h-auto vg-relative vg-flex vg-flex-col vg-gap-2 vg-chat-turn-container"},t.messages.map((function(a,r){return a&&null!=a&&a.type?cl(Xr,{turnsWithoutButtonMessages:F,hasEverPaid:e.hasEverPaid,turnIndex:n,messageIndex:r,turn:t,messageItem:a}):null})),null!=t&&null!==(a=t.sources)&&void 0!==a&&a.length&&null!=N&&null!==(r=N.variables)&&void 0!==r&&null!==(r=r.vgOptions)&&void 0!==r&&r.showSources?cl(vl,{turnIndex:n,sources:t.sources}):null)})),!N.blockLoading&&(null!=N&&N.forceLoading||N.loading||(null===(g=L[L.length-1])||void 0===g||null===(g=g.messages)||void 0===g?void 0:g.length)!==(null===(d=F[F.length-1])||void 0===d?void 0:d.messages.length))?cl("div",{key:"loading_runtime_avatar__main",className:" vg-mx-6 vg-relative vg-w-auto vg-h-auto vg--mt-2 "},cl(il.default,null)):null,null!==(f=N.debugMessages)&&void 0!==f&&f.length&&N.isSuperAdmin?cl(De.default,{className:" vg-mb-20 ",key:"view-sources-for-preview",label:"Debug"},cl("div",{className:" vg-w-full vg-h-auto vg-flex vg-flex-col vg-gap-2 vg-px-10 "},N.debugMessages.map((function(e,t){return cl("div",{key:"debug_message_".concat(t),className:" vg-w-full vg-h-auto vg-flex vg-flex-col vg-gap-2 "},cl("p",{className:" vg-text-small vg-opacity-80 "},null==e?void 0:e.content))})))):null)};var fl=o.createElement;const pl=function(e){var t,n=(0,i.useRuntime)(),a=n.runtime,r=(n.setRuntime,null==a||null===(t=a.variables)||void 0===t||null===(t=t.tabs)||void 0===t?void 0:t.find((function(e){return"faq"===e.key})));return fl("div",{className:" vg-pb-10 vg-faq-tab"},null!=r&&r.iframeUrl?fl("iframe",{style:{height:(null==r?void 0:r.iframeHeight)||500},id:"faq-iframe",className:" vg-w-[90%] vg-mx-auto vg-mt-2 vg-tab-iframe ",src:null==r?void 0:r.iframeUrl}):null)};var bl=o.createElement;u()((function(){return Promise.resolve().then(n.bind(n,10695))}),{loadableGenerated:{webpack:function(){return[10695]}}}),u()((function(){return Promise.resolve().then(n.bind(n,7860))}),{loadableGenerated:{webpack:function(){return[7860]}}});var hl="✨ Voiceglow:voiceglow.org";const yl=function(e){var t,n,a,r,s,u,v,c=(0,m.B)().config,g=(0,i.useRuntime)(),f=g.runtime,p=(g.formattedTurnsValue,o.useState([])),b=(0,l.Z)(p,2),h=(b[0],b[1],o.useState(!0)),y=(0,l.Z)(h,2),w=y[0],x=y[1],O=o.useState(0),N=(0,l.Z)(O,2),k=N[0],j=N[1],D=o.useState(!0),S=(0,l.Z)(D,2),C=S[0],I=S[1];var Z=o.useMemo((function(){return bl(ml,{localRuntimeData:e.localRuntimeData,setLocalData:e.setLocalData,hasEverPaid:e.hasEverPaid,hasScrolledUp:w,autoScroll:C,prevScrollPos:k})}),[null==f?void 0:f.selectedSessionId,e.hasEverPaid,e.localRuntimeData,w,C,k]);return bl("div",{className:" vg-grow ".concat(("tabs"===(null==f||null===(t=f.variables)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.widgetType)&&(null==f||f.tabKey)," ")," ").concat("full-width"===(null==c?void 0:c.render)?" ":" vg-md:rounded-large "," vg-w-full vg-h-full ").concat(null!=f&&null!==(n=f.variables)&&void 0!==n&&n.chatBgURL?" ":" vg-bg-gradient-to-b vg-from-background/90 vg-to-background/100 "," vg-text-foreground vg-relative vg-chat-container")},"home"===f.tabKey&&"tabs"===(null==f||null===(a=f.variables)||void 0===a||null===(a=a.ui)||void 0===a?void 0:a.widgetType)?bl("div",{className:" vg-h-[85%] vg-overflow-y-auto vg-overflow-x-hidden vg-w-full "},bl(M,{responsive:e.responsive,setChatOpen:e.setChatOpen,setChatMinimized:e.setChatMinimized}),"home"===f.tabKey&&"tabs"===(null==f||null===(r=f.variables)||void 0===r||null===(r=r.ui)||void 0===r?void 0:r.widgetType)?bl(we,{localRuntimeData:e.localRuntimeData,setLocalData:e.setLocalData,hasEverPaid:e.hasEverPaid}):null):bl(M,{responsive:e.responsive,setChatOpen:e.setChatOpen,setChatMinimized:e.setChatMinimized}),bl(d,{onScroll:function(e){var t=e.target,n=t.scrollTop,a=n-k>10,r=k-n>10,l=t.scrollHeight-t.clientHeight;Math.abs(n-k)>10&&j(n),a?x(!1):r&&l>=n&&x(!0);var o=Math.abs(l-n);I(o<10)},id:"vg-chat-scroll-container",className:" vg-grow vg-overflow-y-auto ".concat((null!==(s=f.variables)&&void 0!==s&&s.branding," vg-h-[100%] ")," ").concat(f.showVapiUI||null!=f&&f.callOngoing?" vg-pb-80 ":" "," ").concat("in-footer"===(null==f||null===(u=f.variables)||void 0===u?void 0:u.buttonsLayout)?" vg-pb-52 ":" vg-pb-36 "," vg-flex vg-flex-col vg-gap-5 vg-relative vg-container-snap-chat vg-chat-scroll-container")},bl(P.M,null,"tabs"===(null==f||null===(v=f.variables)||void 0===v||null===(v=v.ui)||void 0===v?void 0:v.widgetType)?null!=f&&f.selectedSessionId&&"convos"===(null==f?void 0:f.tabKey)?Z:"convos"===f.tabKey?bl(je,{localRuntimeData:e.localRuntimeData,setLocalData:e.setLocalData,hasEverPaid:e.hasEverPaid}):"home"===(null==f?void 0:f.tabKey)?null:"faq"===(null==f?void 0:f.tabKey)?bl(pl,{localRuntimeData:e.localRuntimeData,setLocalData:e.setLocalData,hasEverPaid:e.hasEverPaid}):null:Z)),bl(de,{hasEverPaid:!0}))};var wl=n(60428),xl=n(47516),Ol=n(81873),Pl=o.createElement;function Nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function kl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nl(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const jl=function(e){var t,n=(0,i.useRuntime)(),a=n.runtime,r=n.setRuntime,s=o.useState(!1),u=(0,l.Z)(s,2),v=u[0],c=u[1],g=Math.round((e.duration||1e3)/1e3),d=function(){r((function(e){return kl(kl({},e),{},{notice:kl(kl({},e.notice),{},{active:!1})})}))};return Pl(P.M,null,e.custom&&o.isValidElement(e.custom)?Pl(o.Fragment,null,e.custom):null,e.active?Pl(O.E.div,{id:"vg-notice-container",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{type:"spring",stiffness:500,damping:65,mass:.5},layout:!0,className:" vg- ".concat("default"===e.type&&" vg-bg-base-200 vg-text-primary vg-notice--default"," vg- ").concat("success"===e.type&&" vg-bg-success-100 vg-border-2 vg-border-success-600 vg-text-success-800 vg-notice--success"," vg- ").concat("fail"===e.type&&" vg-bg-danger-100 vg-border-2 vg-border-danger-600 vg-text-danger-800 vg-notice--danger"," vg- ").concat(e.className||" vg-fixed vg-z-[200] vg-w-[25rem] vg-backdrop-blur vg-py-5 vg-text-small vg-flex vg-justify-center vg-rounded-large vg-notice"," vg- ")},Pl("div",{className:" vg-px-5 vg-w-full vg-flex vg-items-center vg-gap-3 vg-notice--inner"},Pl("div",{className:" vg-w-[10%] vg-notice-left"},"default"===e.type&&Pl(Me.Vjl,{className:" vg-w-6 vg-h-6 vg-notice--default-icon"}),"success"===e.type&&Pl(xe.Gy1,{className:" vg-w-6 vg-h-6 vg-notice--success-icon"}),"fail"===e.type&&Pl(xl.dqF,{className:" vg-w-full vg-h-full vg-notice--danger-icon"})),Pl(b.Z,{to:null==a||null===(t=a.variables)||void 0===t?void 0:t.lang,className:" vg-w-[90%] vg-notice-message--text"},e.message),Pl("div",{className:" vg-w-[8%] vg-notice-controller"},Pl("button",{onClick:function(){return e.manualRemove?v?d():"":d()},className:" vg-w-full vg-h-full vg-notice-btn--close"},Pl(wl.$,{size:30,strokeWidth:4,isPlaying:!0,duration:g,colors:["#ffffff","#000000"],colorsTime:[.5,g],onComplete:function(){c(!0),e.manualRemove||d()}},(function(t){var n=t.remainingTime;return Pl("div",{className:" vg-text-small vg-flex-all-center vg-notice-timer"}," ",n&&e.manualRemove?"":Pl(Ol.u5Z,{className:" vg-w-3 vg-h-3 vg-notice-timer--icon"}))})))))):null)};var Dl=(0,rt.tv)({slots:{base:" vg-group vg-relative vg-max-w-fit vg-inline-flex vg-items-center vg-justify-start vg-cursor-pointer vg-touch-none vg-tap-highlight-transparent ",wrapper:[" vg-px-1 "," vg-relative "," vg-inline-flex "," vg-items-center "," vg-justify-start "," vg-flex-shrink-0 "," vg-overflow-hidden "," vg-bg-default-200 "," vg-rounded-full "].concat((0,V.Z)(lt.ID)),thumb:[" vg-z-10 "," vg-flex "," vg-items-center "," vg-justify-center "," vg-bg-white "," vg-shadow-small "," vg-rounded-full "," vg-origin-right "],startContent:" vg-z-0 vg-absolute vg-left-1.5 vg-text-current ",endContent:" vg-z-0 vg-absolute vg-right-1.5 vg-text-default-600 ",thumbIcon:" vg-text-black ",label:" vg-relative vg-text-foreground vg-select-none "},variants:{color:{default:{wrapper:[" vg-group-data-[selected=true]:bg-default-400 "," vg-group-data-[selected=true]:text-default-foreground "]},primary:{wrapper:[" vg-group-data-[selected=true]:bg-primary "," vg-group-data-[selected=true]:text-primary-foreground "]},secondary:{wrapper:[" vg-group-data-[selected=true]:bg-secondary "," vg-group-data-[selected=true]:text-secondary-foreground "]},success:{wrapper:[" vg-group-data-[selected=true]:bg-success "," vg-group-data-[selected=true]:text-success-foreground "]},warning:{wrapper:[" vg-group-data-[selected=true]:bg-warning "," vg-group-data-[selected=true]:text-warning-foreground "]},danger:{wrapper:[" vg-group-data-[selected=true]:bg-danger "," vg-data-[selected=true]:text-danger-foreground "]}},size:{sm:{wrapper:" vg-w-10 vg-h-6 vg-mr-2 ",thumb:[" vg-w-4 vg-h-4 vg-text-tiny "," vg-group-data-[selected=true]:ml-4 "],endContent:" vg-text-tiny ",startContent:" vg-text-tiny ",label:" vg-text-small "},md:{wrapper:" vg-w-12 vg-h-7 vg-mr-2 ",thumb:[" vg-w-5 vg-h-5 vg-text-small "," vg-group-data-[selected=true]:ml-5 "],endContent:" vg-text-small ",startContent:" vg-text-small ",label:" vg-text-medium "},lg:{wrapper:" vg-w-14 vg-h-8 vg-mr-2 ",thumb:[" vg-w-6 vg-h-6 vg-text-medium "," vg-group-data-[selected=true]:ml-6 "],endContent:" vg-text-medium ",startContent:" vg-text-medium ",label:" vg-text-large "}},isDisabled:{true:{base:" vg-opacity-disabled vg-pointer-events-none "}},disableAnimation:{true:{wrapper:" vg-transition-none ",thumb:" vg-transition-none "},false:{wrapper:" vg-transition-background ",thumb:" vg-transition-all ",startContent:[" vg-opacity-0 "," vg-scale-50 "," vg-transition-transform-opacity "," vg-group-data-[selected=true]:scale-100 "," vg-group-data-[selected=true]:opacity-100 "],endContent:[" vg-opacity-100 "," vg-transition-transform-opacity "," vg-group-data-[selected=true]:translate-x-3 "," vg-group-data-[selected=true]:opacity-0 "]}}},defaultVariants:{color:"primary",size:"md",isDisabled:!1,disableAnimation:!1},compoundVariants:[{disableAnimation:!1,size:"sm",class:{thumb:[" vg-group-data-[pressed=true]:w-5 "," vg-group-data-[selected]:group-data-[pressed]:ml-3 "]}},{disableAnimation:!1,size:"md",class:{thumb:[" vg-group-data-[pressed=true]:w-6 "," vg-group-data-[selected]:group-data-[pressed]:ml-4 "]}},{disableAnimation:!1,size:"lg",class:{thumb:[" vg-group-data-[pressed=true]:w-7 "," vg-group-data-[selected]:group-data-[pressed]:ml-5 "]}}]}),Sl=n(63921),Cl=["ref","as","name","value","isReadOnly","autoFocus","startContent","endContent","defaultSelected","isSelected","children","thumbIcon","className","classNames","onChange","onValueChange"];function Il(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Zl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Il(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Il(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var El=o.createElement;function _l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Tl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rl=(0,tt.Gp)((function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,tt.oe)(e,Dl.variantKeys),n=(0,l.Z)(t,2),a=n[0],r=n[1],i=a.ref,s=a.as,u=a.name,c=a.value,g=void 0===c?"":c,d=a.isReadOnly,m=void 0!==d&&d,f=a.autoFocus,p=void 0!==f&&f,b=a.startContent,h=a.endContent,y=a.defaultSelected,w=a.isSelected,x=a.children,O=a.thumbIcon,P=a.className,N=a.classNames,k=a.onChange,j=a.onValueChange,D=(0,v.Z)(a,Cl),S=s||"label",C=(0,o.useRef)(null),I=(0,dt.rV)(i,C),Z=(0,o.useId)(),E=(0,o.useMemo)((function(){var t=D["aria-label"]||"string"==typeof x?x:void 0;return{name:u,value:g,children:x,autoFocus:p,defaultSelected:y,isSelected:w,isDisabled:!!e.isDisabled,isReadOnly:m,"aria-label":t,"aria-labelledby":D["aria-labelledby"]||Z,onChange:j}}),[g,u,Z,x,p,m,w,y,e.isDisabled,D["aria-label"],D["aria-labelledby"],j]),_=(0,at.l)(E),T=(0,Sl.h)(E,_,C),R=T.inputProps,M=T.isPressed,B=T.isReadOnly,F=(0,vt.F)({autoFocus:R.autoFocus}),L=F.focusProps,z=F.isFocused,A=F.isFocusVisible,U=(0,st.X)({isDisabled:R.disabled}),G=U.hoverProps,W=U.isHovered,H=E.isDisabled||B,q=(0,o.useState)(!1),K=q[0],J=q[1],X=(0,ut.r)({isDisabled:H,onPressStart:function(e){"keyboard"!==e.pointerType&&J(!0)},onPressEnd:function(e){"keyboard"!==e.pointerType&&J(!1)}}).pressProps,Q=!H&&(K||M),$=R.checked,Y=R.disabled,ee=(0,o.useMemo)((function(){return Dl(Zl({},r))}),(0,V.Z)(Object.values(r))),te=(0,bt.W)(null==N?void 0:N.base,P),ne=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Zl(Zl({},e),{},{"aria-hidden":!0,className:(0,bt.W)(ee.wrapper({class:(0,bt.W)(null==N?void 0:N.wrapper,null==e?void 0:e.className)}))})}),[ee,null==N?void 0:N.wrapper]),ae=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Zl(Zl({},e),{},{className:ee.thumb({class:(0,bt.W)(null==N?void 0:N.thumb,null==e?void 0:e.className)})})}),[ee,null==N?void 0:N.thumb]),re=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Zl(Zl({},e),{},{id:Z,className:ee.label({class:(0,bt.W)(null==N?void 0:N.label,null==e?void 0:e.className)})})}),[ee,null==N?void 0:N.label,Y,$]),le=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeStateProps:!1};return(0,ct.d)({width:"1em",height:"1em",className:ee.thumbIcon({class:(0,bt.W)(null==N?void 0:N.thumbIcon)})},e.includeStateProps?{isSelected:$}:{})}),[ee,null==N?void 0:N.thumbIcon,$]),oe=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Zl(Zl({width:"1em",height:"1em"},e),{},{className:ee.startContent({class:(0,bt.W)(null==N?void 0:N.startContent,null==e?void 0:e.className)})})}),[ee,null==N?void 0:N.startContent,$]),ie=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Zl(Zl({width:"1em",height:"1em"},e),{},{className:ee.endContent({class:(0,bt.W)(null==N?void 0:N.endContent,null==e?void 0:e.className)})})}),[ee,null==N?void 0:N.endContent,$]);return{Component:S,slots:ee,classNames:N,domRef:I,children:x,thumbIcon:O,startContent:b,endContent:h,isHovered:W,isSelected:$,isPressed:Q,isFocused:z,isFocusVisible:A,isDisabled:Y,getBaseProps:function(e){return Zl(Zl({},(0,ct.d)(G,X,D,e)),{},{ref:I,className:ee.base({class:(0,bt.W)(te,null==e?void 0:e.className)}),"data-disabled":(0,mt.PB)(Y),"data-selected":(0,mt.PB)($),"data-readonly":(0,mt.PB)(B),"data-focus":(0,mt.PB)(z),"data-focus-visible":(0,mt.PB)(A),"data-hover":(0,mt.PB)(W),"data-pressed":(0,mt.PB)(Q)})},getWrapperProps:ne,getInputProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Zl(Zl({},(0,ct.d)(R,L,e)),{},{ref:C,id:R.id,onChange:(0,gt.t)(k,R.onChange)})},getLabelProps:re,getThumbProps:ae,getThumbIconProps:le,getStartContentProps:oe,getEndContentProps:ie}}(Tl(Tl({},e),{},{ref:t})),a=n.Component,r=n.children,i=n.startContent,s=n.endContent,u=n.thumbIcon,c=n.getBaseProps,g=n.getInputProps,d=n.getWrapperProps,m=n.getThumbProps,f=n.getThumbIconProps,p=n.getLabelProps,b=n.getStartContentProps,h=n.getEndContentProps,y="function"==typeof u?u(f({includeStateProps:!0})):u&&(0,o.cloneElement)(u,f()),w=i&&(0,o.cloneElement)(i,b()),x=s&&(0,o.cloneElement)(s,h());return El(a,c(),El(nt.T,null,El("input",g())),El("span",d(),i&&w,El("span",m(),u&&y),s&&x),r&&El("span",p(),r))}));Rl.displayName="NextUI.Switch";const Ml=Rl;var Vl=o.createElement;function Bl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Fl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bl(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ll=u()((function(){return Promise.all([n.e(349),n.e(753)]).then(n.bind(n,11753))}),{loadableGenerated:{webpack:function(){return[11753]}}}),zl=u()((function(){return n.e(366).then(n.bind(n,43366))}),{loadableGenerated:{webpack:function(){return[43366]}}});const Al=function(e){var t,n,r,s,u,v,c,g,d,p,b,h,y,w,O=(0,m.B)().config,N=(0,i.useRuntime)(),k=N.runtime,j=N.setRuntime,D=null!==(t=k.variables)&&void 0!==t&&t.fontFamily?null===(n=k.variables)||void 0===n||null===(n=n.fontFamily)||void 0===n?void 0:n.split(" ").join("+"):"DM+Sans",S=o.useState(!1),C=(0,l.Z)(S,2);C[0],C[1];return Vl(o.Fragment,null,e.test?Vl(o.Fragment,null,Vl(f.Z,{variant:"bordered",color:"primary",className:" vg-w-72 vg-mx-auto vg-font-bold ",size:"md",onPress:function(){j((function(e){return Fl(Fl({},e),{},{reload:!0})}))}},"Reset Agent"),Vl(Ml,{onValueChange:function(t){null!=e&&e.setLocalData&&e.setLocalData((function(e){return Fl(Fl({},e),{},{ui:Fl(Fl({},e.ui),{},{widgetType:t?"tabs":"direct-chat"})})}))},isSelected:"tabs"===(null==k||null===(r=k.variables)||void 0===r||null===(r=r.ui)||void 0===r?void 0:r.widgetType)},"Enable Tabs (NEW 👀)")):null,Vl(x.Z,{id:"vg-mother-container",style:{background:null!=k&&null!==(s=k.variables)&&void 0!==s&&s.chatBgURL&&"false"!==(null==k||null===(u=k.variables)||void 0===u?void 0:u.chatBgURL)?"url(".concat((null===(v=k.variables)||void 0===v?void 0:v.chatBgURL)||"",")"):(null===(c=k.variables)||void 0===c||null===(c=c.theme)||void 0===c||c.split("-")[1],"unset"),fontFamily:(null===(g=k.variables)||void 0===g?void 0:g.fontFamily)||"DM Sans"},divKey:"chat_overlay_main",className:" ".concat(e.responsive?" vg-w-full vg-h-full vg-relative vg-object-cover vg-overflow-hidden vg-shadow vg-shadow-foreground-100 vg-overlay-root-container":" vg-h-screen-fix vg-md:h-[85dvh] vg-md:max-h-[900px] vg-w-[100vw] vg-md:w-[425px] vg-2xl:w-[430px] vg-md:rounded-large vg-relative vg-object-cover vg-overflow-hidden vg-overlay-root-container"," vg-md:border vg-md:border-primary-100 vg-rounded-large ")},!e.shouldContinue||null!=k&&null!==(d=k.variables)&&void 0!==d&&d.disabled?Vl(o.Fragment,null,null!=k&&null!==(w=k.variables)&&void 0!==w&&w.disabled?Vl(zl,{setChatOpen:e.setChatOpen}):Vl("div",{className:" vg-w-full vg-h-full vg-bg-background/80 vg-flex vg-flex-col vg-items-center vg-justify-center "},Vl("div",{className:" vg-flex vg-flex-col vg-w-[200px] vg-mx-auto "},Vl("h1",{className:" vg-text-lg vg-font-bold "},"Tokens Consumed"),Vl("p",{className:" vg-text-sm vg-mb-2 "},"Please contact us ASAP."),Vl(f.Z,{onPress:function(){return e.setChatOpen?e.setChatOpen(!1):""}},"Close")))):Vl(o.Fragment,null,Vl(P.M,null,null!=k&&null!==(p=k.variables)&&void 0!==p&&null!==(p=p.vapi)&&void 0!==p&&p.id&&k.showVapiUI&&null!=k&&null!==(b=k.variables)&&void 0!==b&&null!==(b=b.vapiConfig)&&void 0!==b&&b.enableVapiOnWeb?Vl(Ll,{test:e.test,agentData:k.variables,config:O,onNoThanks:function(){j((function(e){return Fl(Fl({},e),{},{showVapiUI:!e.showVapiUI})}))}}):null),null!==(h=k.variables)&&void 0!==h&&h.ADVANCED_customCSS&&e.test?Vl("style",{dangerouslySetInnerHTML:{__html:null===(y=k.variables)||void 0===y?void 0:y.ADVANCED_customCSS}}):null,"inherit"!==D&&!0===e.test?Vl(o.Fragment,null,Vl("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),Vl("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:""}),Vl("link",{href:"https://fonts.googleapis.com/css2?family=".concat(D,":wght@400;500;700&display=swap"),rel:"stylesheet"})):null,Vl("div",{id:"vg-inner-container",className:" vg-relative vg-z-0 vg-h-full vg-w-full vg-chat-view-container"},Vl(yl,(0,a.Z)({},e,{test:e.test}))),Vl(jl,(0,a.Z)({className:" vg-absolute vg-bottom-0 vg-w-full vg-h-auto vg-py-5 vg-z-[9999] vg-rounded-large vg-notice-container"},k.notice)))))}},7860:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var a=n(73850),r=n(17828),l=n(84962),o=n(67294),i=n(1451),s=o.createElement;const u=function(e){var t=(0,o.useState)(!1),n=t[0],u=t[1];return s("div",{className:" vg-w-full vg-h-full "},s(r.M,null,s(l.E.div,{className:" vg-mx-auto vg-overflow-x-hidden vg-relative ".concat(n?" vg-overflow-y-hidden ":" vg-very-cool-fade vg-overflow-y-auto "," "),initial:{height:20,opacity:0,marginBottom:0},animate:{height:n?(null==e?void 0:e.activeHeight)||200:70,opacity:1,marginBottom:10,width:(null==e?void 0:e.width)||400},exit:{height:20,opacity:0,marginBottom:0},key:e.key,transition:{duration:n?.3:0}},e.children),s(l.E.div,{className:" vg-w-full vg-flex vg-justify-center ",key:"close-button-".concat(e.key)},s(a.Z,{onPress:function(){return u((function(e){return!e}))},className:" vg-w-24 vg-h-auto vg-pl-5 vg-p-2 ".concat(e.btnClassname," vg-border vg-border-foreground-300 vg-opacity-80 "),variant:"light",isIconOnly:!0},e.label,s(n?i.q8j:i.gPZ,{className:" vg-w-5 vg-h-5 "})))))}}}]);